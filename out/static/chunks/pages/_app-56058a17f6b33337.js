(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{9386:function(t,e,r){"use strict";e._O=e.Jq=e.KB=e.u8=e.cv=void 0,e.Ik=e.A9=e.n_=e.gM=void 0;let n=r(8764);function i(t){if(!(t instanceof Uint8Array))throw TypeError("b must be a Uint8Array")}function o(t){return i(t),n.Buffer.from(t.buffer,t.byteOffset,t.length)}class a{constructor(t,e){if(!Number.isInteger(t))throw TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(t){let e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}class s extends a{isCount(){throw Error("ExternalLayout is abstract")}}class u extends s{constructor(t,e=0,r){if(!(t instanceof a))throw TypeError("layout must be a Layout");if(!Number.isInteger(e))throw TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof c||this.layout instanceof l}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,r=0){return this.layout.encode(t,e,r+this.offset)}}class c extends a{constructor(t,e){if(super(t,e),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readUIntLE(e,this.span)}encode(t,e,r=0){return o(e).writeUIntLE(t,r,this.span),this.span}}class l extends a{constructor(t,e){if(super(t,e),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readUIntBE(e,this.span)}encode(t,e,r=0){return o(e).writeUIntBE(t,r,this.span),this.span}}function h(t){let e=Math.floor(t/4294967296);return{hi32:e,lo32:t-4294967296*e}}function f(t,e){return 4294967296*t+e}class d extends a{constructor(t){super(8,t)}decode(t,e=0){let r=o(t),n=r.readUInt32LE(e),i=r.readUInt32LE(e+4);return f(i,n)}encode(t,e,r=0){let n=h(t),i=o(e);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}class p extends a{constructor(t){super(8,t)}decode(t,e=0){let r=o(t),n=r.readUInt32LE(e),i=r.readInt32LE(e+4);return f(i,n)}encode(t,e,r=0){let n=h(t),i=o(e);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}class y extends a{constructor(t,e,r){if(!(t instanceof a))throw TypeError("elementLayout must be a Layout");if(!(e instanceof s&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;e instanceof s||!(0<t.span)||(n=e*t.span),super(n,r),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof s&&(n=n.decode(t,e)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e=0){let r=[],n=0,i=this.count;for(i instanceof s&&(i=i.decode(t,e));n<i;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),n+=1;return r}encode(t,e,r=0){let n=this.elementLayout,i=t.reduce((t,i)=>t+n.encode(i,e,r+t),0);return this.count instanceof s&&this.count.encode(t.length,e,r),i}}class g extends a{constructor(t,e,r){if(!(Array.isArray(t)&&t.reduce((t,e)=>t&&e instanceof a,!0)))throw TypeError("fields must be array of Layout instances");for(let n of("boolean"==typeof e&&void 0===r&&(r=e,e=void 0),t))if(0>n.span&&void 0===n.property)throw Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((t,e)=>t+e.getSpan(),0)}catch(o){}super(i,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((r,n)=>{let i=n.getSpan(t,e);return e+=i,r+i},0)}catch(n){throw RangeError("indeterminate span")}return r}decode(t,e=0){i(t);let r=this.makeDestinationObject();for(let n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r=0){let n=0,i=0;for(let o of this.fields){let a=o.span;if(i=0<a?a:0,void 0!==o.property){let s=t[o.property];void 0!==s&&(i=o.encode(s,e,r),0>a&&(a=o.getSpan(e,r)))}n=r,r+=a}return n+i-r}fromArray(t){let e=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw TypeError("property must be string");let e=0;for(let r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class m extends a{constructor(t,e){if(!(t instanceof s&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof s||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),o(t).slice(e,e+r)}encode(t,e,r){let n=this.length;if(this.length instanceof s&&(n=t.length),!(t instanceof Uint8Array&&n===t.length)){var i,a;throw TypeError((i="Blob.encode",a=this,(a.property?i+"["+a.property+"]":i)+" requires (length "+n+") Uint8Array as src"))}if(r+n>e.length)throw RangeError("encoding overruns Uint8Array");let u=o(t);return o(e).write(u.toString("hex"),r,n,"hex"),this.length instanceof s&&this.length.encode(n,e,r),n}}e.cv=(t,e,r)=>new u(t,e,r),e.u8=t=>new c(1,t),e.KB=t=>new c(2,t),e.Jq=t=>new c(4,t),e._O=t=>new d(t),e.gM=t=>new p(t),e.n_=(t,e,r)=>new g(t,e,r),e.A9=(t,e,r)=>new y(t,e,r),e.Ik=(t,e)=>new m(t,e)},9232:function(t,e,r){"use strict";r.d(e,{ew:function(){return op},nh:function(){return rT},eT:function(){return rN},YW:function(){return r7},EC:function(){return rX},GS:function(){return nt},Wf:function(){return oO}});var n,i={};function o(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function c(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}r.r(i),r.d(i,{bitGet:function(){return ta},bitLen:function(){return to},bitMask:function(){return tu},bitSet:function(){return ts},bytesToHex:function(){return G},bytesToNumberBE:function(){return Z},bytesToNumberLE:function(){return J},concatBytes:function(){return tr},createHmacDrbg:function(){return th},ensureBytes:function(){return te},equalBytes:function(){return tn},hexToBytes:function(){return $},hexToNumber:function(){return V},numberToBytesBE:function(){return Q},numberToBytesLE:function(){return X},numberToHexUnpadded:function(){return Y},numberToVarBytesBE:function(){return tt},utf8ToBytes:function(){return ti},validateObject:function(){return td}});var l=r(8764);function h(t){if(!Number.isSafeInteger(t)||t<0)throw Error(`Wrong positive integer: ${t}`)}function f(t,...e){if(!(t instanceof Uint8Array))throw Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}var d={number:h,bool:function(t){if("boolean"!=typeof t)throw Error(`Expected boolean, not ${t}`)},bytes:f,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw Error("Hash should be wrapped by utils.wrapConstructor");h(t.outputLen),h(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw Error("Hash instance has been destroyed");if(e&&t.finished)throw Error("Hash#digest() has already been called")},output:function(t,e){f(t);let r=e.outputLen;if(t.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}};let p="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,y=t=>t instanceof Uint8Array,g=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),m=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),v=(t,e)=>t<<32-e|t>>>e,b=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];if(!b)throw Error("Non little-endian hardware is not supported");function w(t){if("string"!=typeof t)throw Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function k(t){if("string"==typeof t&&(t=w(t)),!y(t))throw Error(`expected Uint8Array, got ${typeof t}`);return t}function x(...t){let e=new Uint8Array(t.reduce((t,e)=>t+e.length,0)),r=0;return t.forEach(t=>{if(!y(t))throw Error("Uint8Array expected");e.set(t,r),r+=t.length}),e}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));class S{clone(){return this._cloneInto()}}function E(t){let e=e=>t().update(k(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function _(t=32){if(p&&"function"==typeof p.getRandomValues)return p.getRandomValues(new Uint8Array(t));throw Error("crypto.getRandomValues must be defined")}class A extends S{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=m(this.buffer)}update(t){d.exists(this);let{view:e,buffer:r,blockLen:n}=this;t=k(t);let i=t.length;for(let o=0;o<i;){let a=Math.min(n-this.pos,i-o);if(a===n){let s=m(t);for(;n<=i-o;o+=n)this.process(s,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){d.exists(this),d.output(t,this),this.finished=!0;let{buffer:e,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let a=o;a<n;a++)e[a]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o);t.setUint32(e+(n?4:0),a,n),t.setUint32(e+(n?0:4),s,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=m(t),u=this.outputLen;if(u%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,l=this.get();if(c>l.length)throw Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)s.setUint32(4*h,l[h],i)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return t.length=n,t.pos=a,t.finished=i,t.destroyed=o,n%e&&t.buffer.set(r),t}}let I=BigInt(4294967296-1),M=BigInt(32);function O(t,e=!1){return e?{h:Number(t&I),l:Number(t>>M&I)}:{h:0|Number(t>>M&I),l:0|Number(t&I)}}let L=(t,e)=>BigInt(t>>>0)<<M|BigInt(e>>>0);var B={fromBig:O,split:function(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:a}=O(t[i],e);[r[i],n[i]]=[o,a]}return[r,n]},toBig:L,shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,r)=>t<<r|e>>>32-r,rotlSL:(t,e,r)=>e<<r|t>>>32-r,rotlBH:(t,e,r)=>e<<r-32|t>>>64-r,rotlBL:(t,e,r)=>t<<r-32|e>>>64-r,add:function(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/4294967296|0)|0,l:0|i}},add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/4294967296|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/4294967296|0)|0,add5H:(t,e,r,n,i,o)=>e+r+n+i+o+(t/4294967296|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};let[T,N]=B.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),j=new Uint32Array(80),P=new Uint32Array(80);class C extends A{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:o,Dh:a,Dl:s,Eh:u,El:c,Fh:l,Fl:h,Gh:f,Gl:d,Hh:p,Hl:y}=this;return[t,e,r,n,i,o,a,s,u,c,l,h,f,d,p,y]}set(t,e,r,n,i,o,a,s,u,c,l,h,f,d,p,y){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|a,this.Dl=0|s,this.Eh=0|u,this.El=0|c,this.Fh=0|l,this.Fl=0|h,this.Gh=0|f,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(t,e){for(let r=0;r<16;r++,e+=4)j[r]=t.getUint32(e),P[r]=t.getUint32(e+=4);for(let n=16;n<80;n++){let i=0|j[n-15],o=0|P[n-15],a=B.rotrSH(i,o,1)^B.rotrSH(i,o,8)^B.shrSH(i,o,7),s=B.rotrSL(i,o,1)^B.rotrSL(i,o,8)^B.shrSL(i,o,7),u=0|j[n-2],c=0|P[n-2],l=B.rotrSH(u,c,19)^B.rotrBH(u,c,61)^B.shrSH(u,c,6),h=B.rotrSL(u,c,19)^B.rotrBL(u,c,61)^B.shrSL(u,c,6),f=B.add4L(s,h,P[n-7],P[n-16]),d=B.add4H(f,a,l,j[n-7],j[n-16]);j[n]=0|d,P[n]=0|f}let{Ah:p,Al:y,Bh:g,Bl:m,Ch:v,Cl:b,Dh:w,Dl:k,Eh:x,El:S,Fh:E,Fl:_,Gh:A,Gl:I,Hh:M,Hl:O}=this;for(let L=0;L<80;L++){let C=B.rotrSH(x,S,14)^B.rotrSH(x,S,18)^B.rotrBH(x,S,41),R=B.rotrSL(x,S,14)^B.rotrSL(x,S,18)^B.rotrBL(x,S,41),U=x&E^~x&A,z=S&_^~S&I,D=B.add5L(O,R,z,N[L],P[L]),W=B.add5H(D,M,C,U,T[L],j[L]),q=0|D,K=B.rotrSH(p,y,28)^B.rotrBH(p,y,34)^B.rotrBH(p,y,39),F=B.rotrSL(p,y,28)^B.rotrBL(p,y,34)^B.rotrBL(p,y,39),H=p&g^p&v^g&v,G=y&m^y&b^m&b;M=0|A,O=0|I,A=0|E,I=0|_,E=0|x,_=0|S,({h:x,l:S}=B.add(0|w,0|k,0|W,0|q)),w=0|v,k=0|b,v=0|g,b=0|m,g=0|p,m=0|y;let Y=B.add3L(q,F,G);p=B.add3H(Y,W,K,H),y=0|Y}({h:p,l:y}=B.add(0|this.Ah,0|this.Al,0|p,0|y)),({h:g,l:m}=B.add(0|this.Bh,0|this.Bl,0|g,0|m)),({h:v,l:b}=B.add(0|this.Ch,0|this.Cl,0|v,0|b)),({h:w,l:k}=B.add(0|this.Dh,0|this.Dl,0|w,0|k)),({h:x,l:S}=B.add(0|this.Eh,0|this.El,0|x,0|S)),({h:E,l:_}=B.add(0|this.Fh,0|this.Fl,0|E,0|_)),({h:A,l:I}=B.add(0|this.Gh,0|this.Gl,0|A,0|I)),({h:M,l:O}=B.add(0|this.Hh,0|this.Hl,0|M,0|O)),this.set(p,y,g,m,v,b,w,k,x,S,E,_,A,I,M,O)}roundClean(){j.fill(0),P.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class R extends C{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class U extends C{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class z extends C{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}let D=E(()=>new C);E(()=>new R),E(()=>new U),E(()=>new z);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */ let W=BigInt(0),q=BigInt(1),K=BigInt(2),F=t=>t instanceof Uint8Array,H=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function G(t){if(!F(t))throw Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=H[t[r]];return e}function Y(t){let e=t.toString(16);return 1&e.length?`0${e}`:e}function V(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}function $(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=2*n,o=t.slice(i,i+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw Error("Invalid byte sequence");r[n]=a}return r}function Z(t){return V(G(t))}function J(t){if(!F(t))throw Error("Uint8Array expected");return V(G(Uint8Array.from(t).reverse()))}function Q(t,e){return $(t.toString(16).padStart(2*e,"0"))}function X(t,e){return Q(t,e).reverse()}function tt(t){return $(Y(t))}function te(t,e,r){let n;if("string"==typeof e)try{n=$(e)}catch(i){throw Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(F(e))n=Uint8Array.from(e);else throw Error(`${t} must be hex string or Uint8Array`);let o=n.length;if("number"==typeof r&&o!==r)throw Error(`${t} expected ${r} bytes, got ${o}`);return n}function tr(...t){let e=new Uint8Array(t.reduce((t,e)=>t+e.length,0)),r=0;return t.forEach(t=>{if(!F(t))throw Error("Uint8Array expected");e.set(t,r),r+=t.length}),e}function tn(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function ti(t){if("string"!=typeof t)throw Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function to(t){let e;for(e=0;t>W;t>>=q,e+=1);return e}function ta(t,e){return t>>BigInt(e)&q}let ts=(t,e,r)=>t|(r?q:W)<<BigInt(e),tu=t=>(K<<BigInt(t-1))-q,tc=t=>new Uint8Array(t),tl=t=>Uint8Array.from(t);function th(t,e,r){if("number"!=typeof t||t<2)throw Error("hashLen must be a number");if("number"!=typeof e||e<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=tc(t),i=tc(t),o=0,a=()=>{n.fill(1),i.fill(0),o=0},s=(...t)=>r(i,n,...t),u=(t=tc())=>{i=s(tl([0]),t),n=s(),0!==t.length&&(i=s(tl([1]),t),n=s())},c=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let t=0,r=[];for(;t<e;){n=s();let i=n.slice();r.push(i),t+=n.length}return tr(...r)},l=(t,e)=>{a(),u(t);let r;for(;!(r=e(c()));)u();return a(),r};return l}let tf={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function td(t,e,r={}){let n=(e,r,n)=>{let i=tf[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let o=t[e];if((!n||void 0!==o)&&!i(o,t))throw Error(`Invalid param ${String(e)}=${o} (${typeof o}), expected ${r}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[a,s]of Object.entries(r))n(a,s,!0);return t}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */ let tp=BigInt(0),ty=BigInt(1),tg=BigInt(2),tm=BigInt(3),tv=BigInt(4),tb=BigInt(5),tw=BigInt(8);function tk(t,e){let r=t%e;return r>=tp?r:e+r}function tx(t,e,r){if(r<=tp||e<tp)throw Error("Expected power/modulo > 0");if(r===ty)return tp;let n=ty;for(;e>tp;)e&ty&&(n=n*t%r),t=t*t%r,e>>=ty;return n}function tS(t,e,r){let n=t;for(;e-- >tp;)n*=n,n%=r;return n}function tE(t,e){if(t===tp||e<=tp)throw Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=tk(t,e),n=e,i=tp,o=ty,a=ty,s=tp;for(;r!==tp;){let u=n/r,c=n%r,l=i-a*u,h=o-s*u;n=r,r=c,i=a,o=s,a=l,s=h}let f=n;if(f!==ty)throw Error("invert: does not exist");return tk(i,e)}BigInt(9),BigInt(16);let t_=(t,e)=>(tk(t,e)&ty)===ty,tA=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function tI(t,e){let r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function tM(t,e,r=!1,n={}){if(t<=tp)throw Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=tI(t,e);if(o>2048)throw Error("Field lengths over 2048 bytes are not supported");let a=function(t){if(t%tv===tm){let e=(t+ty)/tv;return function(t,r){let n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw Error("Cannot find square root");return n}}if(t%tw===tb){let r=(t-tb)/tw;return function(t,e){let n=t.mul(e,tg),i=t.pow(n,r),o=t.mul(e,i),a=t.mul(t.mul(o,tg),i),s=t.mul(o,t.sub(a,t.ONE));if(!t.eql(t.sqr(s),e))throw Error("Cannot find square root");return s}}return function(t){let e=(t-ty)/tg,r,n,i;for(r=t-ty,n=0;r%tg===tp;r/=tg,n++);for(i=tg;i<t&&tx(i,e,t)!==t-ty;i++);if(1===n){let o=(t+ty)/tv;return function(t,e){let r=t.pow(e,o);if(!t.eql(t.sqr(r),e))throw Error("Cannot find square root");return r}}let a=(r+ty)/tg;return function(t,o){if(t.pow(o,e)===t.neg(t.ONE))throw Error("Cannot find square root");let s=n,u=t.pow(t.mul(t.ONE,i),r),c=t.pow(o,a),l=t.pow(o,r);for(;!t.eql(l,t.ONE);){if(t.eql(l,t.ZERO))return t.ZERO;let h=1;for(let f=t.sqr(l);h<s&&!t.eql(f,t.ONE);h++)f=t.sqr(f);let d=t.pow(u,ty<<BigInt(s-h-1));u=t.sqr(d),c=t.mul(c,d),l=t.mul(l,u),s=h}return c}}(t)}(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:tu(i),ZERO:tp,ONE:ty,create:e=>tk(e,t),isValid(e){if("bigint"!=typeof e)throw Error(`Invalid field element: expected bigint, got ${typeof e}`);return tp<=e&&e<t},is0:t=>t===tp,isOdd:t=>(t&ty)===ty,neg:e=>tk(-e,t),eql:(t,e)=>t===e,sqr:e=>tk(e*e,t),add:(e,r)=>tk(e+r,t),sub:(e,r)=>tk(e-r,t),mul:(e,r)=>tk(e*r,t),pow:(t,e)=>(function(t,e,r){if(r<tp)throw Error("Expected power > 0");if(r===tp)return t.ONE;if(r===ty)return e;let n=t.ONE,i=e;for(;r>tp;)r&ty&&(n=t.mul(n,i)),i=t.sqr(i),r>>=ty;return n})(s,t,e),div:(e,r)=>tk(e*tE(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>tE(e,t),sqrt:n.sqrt||(t=>a(s,t)),invertBatch:t=>(function(t,e){let r=Array(e.length),n=e.reduce((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n)),t.ONE),i=t.inv(n);return e.reduceRight((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n)),i),r})(s,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?X(t,o):Q(t,o),fromBytes(t){if(t.length!==o)throw Error(`Fp.fromBytes: expected ${o}, got ${t.length}`);return r?J(t):Z(t)}});return Object.freeze(s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */ let tO=BigInt(0),tL=BigInt(1);function tB(t,e){let r=(t,e)=>{let r=e.negate();return t?r:e},n=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let n=t.ZERO,i=e;for(;r>tO;)r&tL&&(n=n.add(i)),i=i.double(),r>>=tL;return n},precomputeWindow(t,e){let{windows:r,windowSize:i}=n(e),o=[],a=t,s=a;for(let u=0;u<r;u++){s=a,o.push(s);for(let c=1;c<i;c++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(e,i,o){let{windows:a,windowSize:s}=n(e),u=t.ZERO,c=t.BASE,l=BigInt(2**e-1),h=2**e,f=BigInt(e);for(let d=0;d<a;d++){let p=d*s,y=Number(o&l);o>>=f,y>s&&(y-=h,o+=tL);let g=p+Math.abs(y)-1,m=d%2!=0,v=y<0;0===y?c=c.add(r(m,i[p])):u=u.add(r(v,i[g]))}return{p:u,f:c}},wNAFCached(t,e,r,n){let i=t._WINDOW_SIZE||1,o=e.get(t);return o||(o=this.precomputeWindow(t,i),1!==i&&e.set(t,n(o))),this.wNAF(i,o,r)}}}function tT(t){return!function(t){let e=tA.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return td(t,e)}(t.Fp),td(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...tI(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */ let tN=BigInt(0),tj=BigInt(1),tP=BigInt(2),tC=BigInt(8),tR={zip215:!0};function tU(t){let e=function(t){let e=tT(t);return td(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}(t),{Fp:r,n:n,prehash:i,hash:o,randomBytes:a,nByteLength:s,h:u}=e,c=tP<<BigInt(8*s)-tj,l=r.create,h=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:r.sqrt(t*r.inv(e))}}catch(n){return{isValid:!1,value:tN}}}),f=e.adjustScalarBytes||(t=>t),d=e.domain||((t,e,r)=>{if(e.length||r)throw Error("Contexts/pre-hash are not supported");return t}),p=t=>"bigint"==typeof t&&tN<t,y=(t,e)=>p(t)&&p(e)&&t<e,g=t=>t===tN||y(t,c);function m(t,e){if(y(t,e))return t;throw Error(`Expected valid scalar < ${e}, got ${typeof t} ${t}`)}function v(t){return t===tN?t:m(t,n)}let b=new Map;function w(t){if(!(t instanceof k))throw Error("ExtendedPoint expected")}class k{constructor(t,e,r,n){if(this.ex=t,this.ey=e,this.ez=r,this.et=n,!g(t))throw Error("x required");if(!g(e))throw Error("y required");if(!g(r))throw Error("z required");if(!g(n))throw Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(t){if(t instanceof k)throw Error("extended point not allowed");let{x:e,y:r}=t||{};if(!g(e)||!g(r))throw Error("invalid affine point");return new k(e,r,tj,l(e*r))}static normalizeZ(t){let e=r.invertBatch(t.map(t=>t.ez));return t.map((t,r)=>t.toAffine(e[r])).map(k.fromAffine)}_setWindowSize(t){this._WINDOW_SIZE=t,b.delete(this)}assertValidity(){let{a:t,d:r}=e;if(this.is0())throw Error("bad point: ZERO");let{ex:n,ey:i,ez:o,et:a}=this,s=l(n*n),u=l(i*i),c=l(o*o),h=l(c*c),f=l(s*t),d=l(c*l(f+u)),p=l(h+l(r*l(s*u)));if(d!==p)throw Error("bad point: equation left != right (1)");let y=l(n*i),g=l(o*a);if(y!==g)throw Error("bad point: equation left != right (2)")}equals(t){w(t);let{ex:e,ey:r,ez:n}=this,{ex:i,ey:o,ez:a}=t,s=l(e*a),u=l(i*n),c=l(r*a),h=l(o*n);return s===u&&c===h}is0(){return this.equals(k.ZERO)}negate(){return new k(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){let{a:t}=e,{ex:r,ey:n,ez:i}=this,o=l(r*r),a=l(n*n),s=l(tP*l(i*i)),u=l(t*o),c=r+n,h=l(l(c*c)-o-a),f=u+a,d=f-s,p=u-a,y=l(h*d),g=l(f*p),m=l(h*p),v=l(d*f);return new k(y,g,v,m)}add(t){w(t);let{a:r,d:n}=e,{ex:i,ey:o,ez:a,et:s}=this,{ex:u,ey:c,ez:h,et:f}=t;if(r===BigInt(-1)){let d=l((o-i)*(c+u)),p=l((o+i)*(c-u)),y=l(p-d);if(y===tN)return this.double();let g=l(a*tP*f),m=l(s*tP*h),v=m+g,b=p+d,x=m-g,S=l(v*y),E=l(b*x),_=l(v*x),A=l(y*b);return new k(S,E,A,_)}let I=l(i*u),M=l(o*c),O=l(s*n*f),L=l(a*h),B=l((i+o)*(u+c)-I-M),T=L-O,N=L+O,j=l(M-r*I),P=l(B*T),C=l(N*j),R=l(B*j),U=l(T*N);return new k(P,C,U,R)}subtract(t){return this.add(t.negate())}wNAF(t){return E.wNAFCached(this,b,t,k.normalizeZ)}multiply(t){let{p:e,f:r}=this.wNAF(m(t,n));return k.normalizeZ([e,r])[0]}multiplyUnsafe(t){let e=v(t);return e===tN?S:this.equals(S)||e===tj?this:this.equals(x)?this.wNAF(e).p:E.unsafeLadder(this,e)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return E.unsafeLadder(this,n).is0()}toAffine(t){let{ex:e,ey:n,ez:i}=this,o=this.is0();null==t&&(t=o?tC:r.inv(i));let a=l(e*t),s=l(n*t),u=l(i*t);if(o)return{x:tN,y:tj};if(u!==tj)throw Error("invZ was invalid");return{x:a,y:s}}clearCofactor(){let{h:t}=e;return t===tj?this:this.multiplyUnsafe(t)}static fromHex(t,n=!1){let{d:i,a:o}=e,a=r.BYTES;t=te("pointHex",t,a);let s=t.slice(),u=t[a-1];s[a-1]=-129&u;let f=J(s);f===tN||(n?m(f,c):m(f,r.ORDER));let d=l(f*f),p=l(d-tj),y=l(i*d-o),{isValid:g,value:v}=h(p,y);if(!g)throw Error("Point.fromHex: invalid y coordinate");let b=(v&tj)===tj,w=(128&u)!=0;if(!n&&v===tN&&w)throw Error("Point.fromHex: x=0 and x_0=1");return w!==b&&(v=l(-v)),k.fromAffine({x:v,y:f})}static fromPrivateKey(t){return I(t).point}toRawBytes(){let{x:t,y:e}=this.toAffine(),n=X(e,r.BYTES);return n[n.length-1]|=t&tj?128:0,n}toHex(){return G(this.toRawBytes())}}k.BASE=new k(e.Gx,e.Gy,tj,l(e.Gx*e.Gy)),k.ZERO=new k(tN,tj,tj,tN);let{BASE:x,ZERO:S}=k,E=tB(k,8*s);function _(t){return tk(t,n)}function A(t){return _(J(t))}function I(t){t=te("private key",t,s);let e=te("hashed private key",o(t),2*s),r=f(e.slice(0,s)),n=e.slice(s,2*s),i=A(r),a=x.multiply(i),u=a.toRawBytes();return{head:r,prefix:n,scalar:i,point:a,pointBytes:u}}function M(t=new Uint8Array,...e){let r=tr(...e);return A(o(d(r,te("context",t),!!i)))}return x._setWindowSize(8),{CURVE:e,getPublicKey:function(t){return I(t).pointBytes},sign:function(t,e,n={}){t=te("message",t),i&&(t=i(t));let{prefix:o,scalar:a,pointBytes:u}=I(e),c=M(n.context,o,t),l=x.multiply(c).toRawBytes(),h=M(n.context,l,u,t),f=_(c+h*a);v(f);let d=tr(l,X(f,r.BYTES));return te("result",d,2*s)},verify:function(t,e,n,o=tR){let{context:a,zip215:s}=o,u=r.BYTES;t=te("signature",t,2*u),e=te("message",e),i&&(e=i(e));let c=J(t.slice(u,2*u)),l,h,f;try{l=k.fromHex(n,s),h=k.fromHex(t.slice(0,u),s),f=x.multiplyUnsafe(c)}catch(d){return!1}if(!s&&l.isSmallOrder())return!1;let p=M(a,h.toRawBytes(),l.toRawBytes(),e),y=h.add(l.multiplyUnsafe(p));return y.subtract(f).clearCofactor().equals(k.ZERO)},ExtendedPoint:k,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>a(r.BYTES),precompute:(t=8,e=k.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}}BigInt(0),BigInt(1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */ let tz=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),tD=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);let tW=BigInt(1),tq=BigInt(2),tK=BigInt(5),tF=BigInt(10),tH=BigInt(20),tG=BigInt(40),tY=BigInt(80),tV=tM(tz,void 0,!0),t$={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:tV,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:D,randomBytes:_,adjustScalarBytes:function(t){return t[0]&=248,t[31]&=127,t[31]|=64,t},uvRatio:function(t,e){let r=tk(e*e*e,tz),n=tk(r*r*e,tz),i=function(t){let e=t*t%tz*t%tz,r=tS(e,tq,tz)*e%tz,n=tS(r,tW,tz)*t%tz,i=tS(n,tK,tz)*n%tz,o=tS(i,tF,tz)*i%tz,a=tS(o,tH,tz)*o%tz,s=tS(a,tG,tz)*a%tz,u=tS(s,tY,tz)*s%tz,c=tS(u,tY,tz)*s%tz,l=tS(c,tF,tz)*i%tz,h=tS(l,tq,tz)*t%tz;return{pow_p_5_8:h,b2:e}}(t*n).pow_p_5_8,o=tk(t*r*i,tz),a=tk(e*o*o,tz),s=o,u=tk(o*tD,tz),c=a===t,l=a===tk(-t,tz),h=a===tk(-t*tD,tz);return c&&(o=s),(l||h)&&(o=u),t_(o,tz)&&(o=tk(-o,tz)),{isValid:c||l,value:o}}},tZ=tU(t$);function tJ(t,e,r){if(e.length>255)throw Error("Context is too big");return x(w("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}tU({...t$,domain:tJ}),tU({...t$,domain:tJ,prehash:D});let tQ=(tV.ORDER+BigInt(3))/BigInt(8);function tX(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){r(c);return}s.done?e(u):Promise.resolve(u).then(n,i)}function t0(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){tX(o,n,i,a,s,"next",t)}function s(t){tX(o,n,i,a,s,"throw",t)}a(void 0)})}}function t1(t,e){return(t1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function t2(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t1(t,e)}function t6(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function t8(t){return(t8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}tV.pow(tq,tQ),tV.sqrt(tV.neg(tV.ONE)),tV.ORDER,BigInt(5),BigInt(8),BigInt(486662),function(t,e){if(!t.isOdd)throw Error("Field doesn't have isOdd");let r=t.sqrt(e);t.isOdd(r)?t.neg(r):r}(tV,tV.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var t3=r(3550),t4=r.n(t3),t5=r(11),t7=r.n(t5);let t9=(t,e,r)=>t&e^~t&r,et=(t,e,r)=>t&e^t&r^e&r,ee=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),er=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),en=new Uint32Array(64);class ei extends A{constructor(){super(64,32,8,!1),this.A=0|er[0],this.B=0|er[1],this.C=0|er[2],this.D=0|er[3],this.E=0|er[4],this.F=0|er[5],this.G=0|er[6],this.H=0|er[7]}get(){let{A:t,B:e,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[t,e,r,n,i,o,a,s]}set(t,e,r,n,i,o,a,s){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(t,e){for(let r=0;r<16;r++,e+=4)en[r]=t.getUint32(e,!1);for(let n=16;n<64;n++){let i=en[n-15],o=en[n-2],a=v(i,7)^v(i,18)^i>>>3,s=v(o,17)^v(o,19)^o>>>10;en[n]=s+en[n-7]+a+en[n-16]|0}let{A:u,B:c,C:l,D:h,E:f,F:d,G:p,H:y}=this;for(let g=0;g<64;g++){let m=v(f,6)^v(f,11)^v(f,25),b=y+m+t9(f,d,p)+ee[g]+en[g]|0,w=v(u,2)^v(u,13)^v(u,22),k=w+et(u,c,l)|0;y=p,p=d,d=f,f=h+b|0,h=l,l=c,c=u,u=b+k|0}u=u+this.A|0,c=c+this.B|0,l=l+this.C|0,h=h+this.D|0,f=f+this.E|0,d=d+this.F|0,p=p+this.G|0,y=y+this.H|0,this.set(u,c,l,h,f,d,p,y)}roundClean(){en.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class eo extends ei{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}let ea=E(()=>new ei);E(()=>new eo);var es=r(5532),eu=r(9386);function ec(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function el(t,e){if(t){if("string"==typeof t)return ec(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ec(t,e)}}function eh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||el(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ef=r(475);function ed(t,e,r){return(e=s(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ep(t){return function(t){if(Array.isArray(t))return ec(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||el(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ey(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}class eg extends TypeError{constructor(t,e){let r,{message:n,...i}=t,{path:o}=t,a=0===o.length?n:"At path: "+o.join(".")+" -- "+n;super(a),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[t,...e()]}}}function em(t){return"object"==typeof t&&null!=t}function ev(t){return"string"==typeof t?JSON.stringify(t):""+t}function eb(t,e,r,n){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});let{path:i,branch:o}=e,{type:a}=r,{refinement:s,message:u="Expected a value of type `"+a+"`"+(s?" with refinement `"+s+"`":"")+", but received: `"+ev(n)+"`"}=t;return{value:n,type:a,refinement:s,key:i[i.length-1],path:i,branch:o,...t,message:u}}function*ew(t,e,r,n){var i;for(let o of((!em(i=t)||"function"!=typeof i[Symbol.iterator])&&(t=[t]),t)){let a=eb(o,e,r,n);a&&(yield a)}}function*ek(t,e,r={}){let{path:n=[],branch:i=[t],coerce:o=!1,mask:a=!1}=r,s={path:n,branch:i};if(o&&(t=e.coercer(t,s),a&&"type"!==e.type&&em(e.schema)&&em(t)&&!Array.isArray(t)))for(let u in t)void 0===e.schema[u]&&delete t[u];let c=!0;for(let l of e.validator(t,s))c=!1,yield[l,void 0];for(let[h,f,d]of e.entries(t,s)){let p=ek(f,d,{path:void 0===h?n:[...n,h],branch:void 0===h?i:[...i,f],coerce:o,mask:a});for(let y of p)y[0]?(c=!1,yield[y[0],void 0]):o&&(f=y[1],void 0===h?t=f:t instanceof Map?t.set(h,f):t instanceof Set?t.add(f):em(t)&&(t[h]=f))}if(c)for(let g of e.refiner(t,s))c=!1,yield[g,void 0];c&&(yield[void 0,t])}class ex{constructor(t){let{type:e,schema:r,validator:n,refiner:i,coercer:o=t=>t,entries:a=function*(){}}=t;this.type=e,this.schema=r,this.entries=a,this.coercer=o,n?this.validator=(t,e)=>{let r=n(t,e);return ew(r,e,this,t)}:this.validator=()=>[],i?this.refiner=(t,e)=>{let r=i(t,e);return ew(r,e,this,t)}:this.refiner=()=>[]}assert(t){return function(t,e){let r=e_(t,e);if(r[0])throw r[0]}(t,this)}create(t){return eS(t,this)}is(t){return eE(t,this)}mask(t){return function(t,e){let r=e_(t,e,{coerce:!0,mask:!0});if(!r[0])return r[1];throw r[0]}(t,this)}validate(t,e={}){return e_(t,this,e)}}function eS(t,e){let r=e_(t,e,{coerce:!0});if(!r[0])return r[1];throw r[0]}function eE(t,e){let r=e_(t,e);return!r[0]}function e_(t,e,r={}){let n=ek(t,e,r),i=function(t){let{done:e,value:r}=t.next();return e?void 0:r}(n);if(i[0]){let o=new eg(i[0],function*(){for(let t of n)t[0]&&(yield t[0])});return[o,void 0]}{let a=i[1];return[void 0,a]}}function eA(t,e){return new ex({type:t,schema:null,validator:e})}function eI(t){return new ex({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,n]of e.entries())yield[r,n,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+ev(t)})}function eM(){return eA("boolean",t=>"boolean"==typeof t)}function eO(t){return eA("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+ev(e))}function eL(t){let e=ev(t),r=typeof t;return new ex({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator:r=>r===t||"Expected the literal `"+e+"`, but received: "+ev(r)})}function eB(t){return new ex({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function eT(){return eA("number",t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+ev(t))}function eN(t){return new ex({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function ej(t,e){return new ex({type:"record",schema:null,*entries(r){if(em(r))for(let n in r){let i=r[n];yield[n,n,t],yield[n,i,e]}},validator:t=>em(t)||"Expected an object, but received: "+ev(t)})}function eP(){return eA("string",t=>"string"==typeof t||"Expected a string, but received: "+ev(t))}function eC(t){let e=eA("never",()=>!1);return new ex({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator:t=>Array.isArray(t)||"Expected an array, but received: "+ev(t)})}function eR(t){let e=Object.keys(t);return new ex({type:"type",schema:t,*entries(r){if(em(r))for(let n of e)yield[n,r[n],t[n]]},validator:t=>em(t)||"Expected an object, but received: "+ev(t)})}function eU(t){let e=t.map(t=>t.type).join(" | ");return new ex({type:"union",schema:null,validator(r,n){let i=[];for(let o of t){let[...a]=ek(r,o,n),[s]=a;if(!s[0])return[];for(let[u]of a)u&&i.push(u)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+ev(r),...i]}})}function ez(){return eA("unknown",()=>!0)}function eD(t,e,r){return new ex({...t,coercer:(n,i)=>eE(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var eW=r(1198),eq=r.n(eW);function eK(t,e,r){return(eK=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}()?function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&t1(i,r.prototype),i}:Reflect.construct.bind()).apply(null,arguments)}function eF(t){var e="function"==typeof Map?new Map:void 0;return(eF=function(t){var r;if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return eK(t,arguments,t8(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t1(n,t)})(t)}function eH(){return(eH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=t8(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}var eG=r(6855),eY=r(9062);let[eV,e$,eZ]=[[],[],[]],eJ=BigInt(0),eQ=BigInt(1),eX=BigInt(2),e0=BigInt(7),e1=BigInt(256),e2=BigInt(113);for(let e6=0,e8=eQ,e3=1,e4=0;e6<24;e6++){[e3,e4]=[e4,(2*e3+3*e4)%5],eV.push(2*(5*e4+e3)),e$.push((e6+1)*(e6+2)/2%64);let e5=eJ;for(let e7=0;e7<7;e7++)(e8=(e8<<eQ^(e8>>e0)*e2)%e1)&eX&&(e5^=eQ<<(eQ<<BigInt(e7))-eQ);eZ.push(e5)}let[e9,rt]=B.split(eZ,!0),re=(t,e,r)=>r>32?B.rotlBH(t,e,r):B.rotlSH(t,e,r),rr=(t,e,r)=>r>32?B.rotlBL(t,e,r):B.rotlSL(t,e,r);class rn extends S{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,d.number(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=g(this.state)}keccak(){!function(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let i=0;i<10;i++)r[i]=t[i]^t[i+10]^t[i+20]^t[i+30]^t[i+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,s=(o+2)%10,u=r[s],c=r[s+1],l=re(u,c,1)^r[a],h=rr(u,c,1)^r[a+1];for(let f=0;f<50;f+=10)t[o+f]^=l,t[o+f+1]^=h}let d=t[2],p=t[3];for(let y=0;y<24;y++){let g=e$[y],m=re(d,p,g),v=rr(d,p,g),b=eV[y];d=t[b],p=t[b+1],t[b]=m,t[b+1]=v}for(let w=0;w<50;w+=10){for(let k=0;k<10;k++)r[k]=t[w+k];for(let x=0;x<10;x++)t[w+x]^=~r[(x+2)%10]&r[(x+4)%10]}t[0]^=e9[n],t[1]^=rt[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){d.exists(this);let{blockLen:e,state:r}=this;t=k(t);let n=t.length;for(let i=0;i<n;){let o=Math.min(e-this.pos,n-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,(128&e)!=0&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){d.exists(this,!1),d.bytes(t),this.finish();let e=this.state,{blockLen:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);t.set(e.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return t}xofInto(t){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return d.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(d.output(t,this),this.finished)throw Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return t||(t=new rn(e,r,n,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=o,t.destroyed=this.destroyed,t}}let ri=(t,e,r)=>E(()=>new rn(e,t,r));ri(6,144,28),ri(6,136,32),ri(6,104,48),ri(6,72,64),ri(1,144,28);let ro=ri(1,136,32);ri(1,104,48),ri(1,72,64);let ra=(t,e,r)=>(function(t){let e=(e,r)=>t(r).update(k(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e})((n={})=>new rn(e,t,void 0===n.dkLen?r:n.dkLen,!0));ra(31,168,16),ra(31,136,32);let{bytesToNumberBE:rs,hexToBytes:ru}=i,rc={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){let{Err:e}=rc;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(128&n[0])throw new e("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:rs(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=rc,r="string"==typeof t?ru(t):t;if(!(r instanceof Uint8Array))throw Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=rc._parseInt(r.subarray(2)),{d:a,l:s}=rc._parseInt(o);if(s.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){let e=t=>8&Number.parseInt(t[0],16)?"00"+t:t,r=t=>{let e=t.toString(16);return 1&e.length?`0${e}`:e},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,a=i.length/2,s=r(o),u=r(a);return`30${r(a+o+4)}02${u}${i}02${s}${n}`}},rl=BigInt(0),rh=BigInt(1),rf=(BigInt(2),BigInt(3));BigInt(4);class rd extends S{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,d.hash(t);let r=k(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(t){return d.exists(this),this.iHash.update(t),this}digestInto(t){d.exists(this),d.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:a}=this;return t.finished=n,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let rp=(t,e,r)=>new rd(t,e).update(r).digest();rp.create=(t,e)=>new rd(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */ let ry=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),rg=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rm=BigInt(1),rv=BigInt(2),rb=(t,e)=>(t+e/rv)/e,rw=tM(ry,void 0,void 0,{sqrt:function(t){let e=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),s=BigInt(88),u=t*t*t%ry,c=u*u*t%ry,l=tS(c,e,ry)*c%ry,h=tS(l,e,ry)*c%ry,f=tS(h,rv,ry)*u%ry,d=tS(f,n,ry)*f%ry,p=tS(d,i,ry)*d%ry,y=tS(p,a,ry)*p%ry,g=tS(y,s,ry)*y%ry,m=tS(g,a,ry)*p%ry,v=tS(m,e,ry)*c%ry,b=tS(v,o,ry)*d%ry,w=tS(b,r,ry)*u%ry,k=tS(w,rv,ry);if(!rw.eql(rw.sqr(k),t))throw Error("Cannot find square root");return k}}),rk=function(t,e){let r=e=>{var r;return function(t){let e=function(t){let e=tT(t);return td(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n:n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function a(t){return tk(t,n)}function s(t){return tE(t,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:l,isWithinCurveOrder:h}=function(t){let e=/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */ function(t){let e=tT(t);td(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,n=e.toBytes||((t,e,n)=>{let i=e.toAffine();return tr(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=e.fromBytes||(t=>{let e=t.subarray(1),n=r.fromBytes(e.subarray(0,r.BYTES)),i=r.fromBytes(e.subarray(r.BYTES,2*r.BYTES));return{x:n,y:i}});function o(t){let{a:n,b:i}=e,o=r.sqr(t),a=r.mul(o,t);return r.add(r.add(a,r.mul(t,n)),i)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw Error("bad generator point: equation left != right");function a(t){return"bigint"==typeof t&&rl<t&&t<e.n}function s(t){if(!a(t))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function u(t){let{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:o}=e;if(r&&"bigint"!=typeof t){if(t instanceof Uint8Array&&(t=G(t)),"string"!=typeof t||!r.includes(t.length))throw Error("Invalid key");t=t.padStart(2*n,"0")}let a;try{a="bigint"==typeof t?t:Z(te("private key",t,n))}catch(u){throw Error(`private key must be ${n} bytes, hex or bigint, not ${typeof t}`)}return i&&(a=tk(a,o)),s(a),a}let c=new Map;function l(t){if(!(t instanceof h))throw Error("ProjectivePoint expected")}class h{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw Error("x required");if(null==e||!r.isValid(e))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}static fromAffine(t){let{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw Error("invalid affine point");if(t instanceof h)throw Error("projective point not allowed");let i=t=>r.eql(t,r.ZERO);return i(e)&&i(n)?h.ZERO:new h(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){let e=r.invertBatch(t.map(t=>t.pz));return t.map((t,r)=>t.toAffine(e[r])).map(h.fromAffine)}static fromHex(t){let e=h.fromAffine(i(te("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return h.BASE.multiply(u(t))}_setWindowSize(t){this._WINDOW_SIZE=t,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw Error("bad point: ZERO")}let{x:t,y:n}=this.toAffine();if(!r.isValid(t)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),a=o(t);if(!r.eql(i,a))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw Error("Field doesn't support isOdd")}equals(t){l(t);let{px:e,py:n,pz:i}=this,{px:o,py:a,pz:s}=t,u=r.eql(r.mul(e,s),r.mul(o,i)),c=r.eql(r.mul(n,s),r.mul(a,i));return u&&c}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){let{a:t,b:n}=e,i=r.mul(n,rf),{px:o,py:a,pz:s}=this,u=r.ZERO,c=r.ZERO,l=r.ZERO,f=r.mul(o,o),d=r.mul(a,a),p=r.mul(s,s),y=r.mul(o,a);return y=r.add(y,y),l=r.mul(o,s),l=r.add(l,l),u=r.mul(t,l),c=r.mul(i,p),c=r.add(u,c),u=r.sub(d,c),c=r.add(d,c),c=r.mul(u,c),u=r.mul(y,u),l=r.mul(i,l),p=r.mul(t,p),y=r.sub(f,p),y=r.mul(t,y),y=r.add(y,l),l=r.add(f,f),f=r.add(l,f),f=r.add(f,p),f=r.mul(f,y),c=r.add(c,f),p=r.mul(a,s),p=r.add(p,p),f=r.mul(p,y),u=r.sub(u,f),l=r.mul(p,d),l=r.add(l,l),l=r.add(l,l),new h(u,c,l)}add(t){l(t);let{px:n,py:i,pz:o}=this,{px:a,py:s,pz:u}=t,c=r.ZERO,f=r.ZERO,d=r.ZERO,p=e.a,y=r.mul(e.b,rf),g=r.mul(n,a),m=r.mul(i,s),v=r.mul(o,u),b=r.add(n,i),w=r.add(a,s);b=r.mul(b,w),w=r.add(g,m),b=r.sub(b,w),w=r.add(n,o);let k=r.add(a,u);return w=r.mul(w,k),k=r.add(g,v),w=r.sub(w,k),k=r.add(i,o),c=r.add(s,u),k=r.mul(k,c),c=r.add(m,v),k=r.sub(k,c),d=r.mul(p,w),c=r.mul(y,v),d=r.add(c,d),c=r.sub(m,d),d=r.add(m,d),f=r.mul(c,d),m=r.add(g,g),m=r.add(m,g),v=r.mul(p,v),w=r.mul(y,w),m=r.add(m,v),v=r.sub(g,v),v=r.mul(p,v),w=r.add(w,v),g=r.mul(m,w),f=r.add(f,g),g=r.mul(k,w),c=r.mul(b,c),c=r.sub(c,g),g=r.mul(b,m),d=r.mul(k,d),d=r.add(d,g),new h(c,f,d)}subtract(t){return this.add(t.negate())}is0(){return this.equals(h.ZERO)}wNAF(t){return d.wNAFCached(this,c,t,t=>{let e=r.invertBatch(t.map(t=>t.pz));return t.map((t,r)=>t.toAffine(e[r])).map(h.fromAffine)})}multiplyUnsafe(t){let n=h.ZERO;if(t===rl)return n;if(s(t),t===rh)return this;let{endo:i}=e;if(!i)return d.unsafeLadder(this,t);let{k1neg:o,k1:a,k2neg:u,k2:c}=i.splitScalar(t),l=n,f=n,p=this;for(;a>rl||c>rl;)a&rh&&(l=l.add(p)),c&rh&&(f=f.add(p)),p=p.double(),a>>=rh,c>>=rh;return o&&(l=l.negate()),u&&(f=f.negate()),f=new h(r.mul(f.px,i.beta),f.py,f.pz),l.add(f)}multiply(t){s(t);let n,i,{endo:o}=e;if(o){let{k1neg:a,k1:u,k2neg:c,k2:l}=o.splitScalar(t),{p:f,f:p}=this.wNAF(u),{p:y,f:g}=this.wNAF(l);f=d.constTimeNegate(a,f),y=d.constTimeNegate(c,y),y=new h(r.mul(y.px,o.beta),y.py,y.pz),n=f.add(y),i=p.add(g)}else{let{p:m,f:v}=this.wNAF(t);n=m,i=v}return h.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(t,e,r){let n=h.BASE,i=(t,e)=>e!==rl&&e!==rh&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),o=i(this,e).add(i(t,r));return o.is0()?void 0:o}toAffine(t){let{px:e,py:n,pz:i}=this,o=this.is0();null==t&&(t=o?r.ONE:r.inv(i));let a=r.mul(e,t),s=r.mul(n,t),u=r.mul(i,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw Error("invZ was invalid");return{x:a,y:s}}isTorsionFree(){let{h:t,isTorsionFree:r}=e;if(t===rh)return!0;if(r)return r(h,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:t,clearCofactor:r}=e;return t===rh?this:r?r(h,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),n(h,this,t)}toHex(t=!0){return G(this.toRawBytes(t))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);let f=e.nBitLength,d=tB(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:u,weierstrassEquation:o,isWithinCurveOrder:a}}({...e,toBytes(t,e,n){let i=e.toAffine(),o=r.toBytes(i.x);return n?tr(Uint8Array.from([e.hasEvenY()?2:3]),o):tr(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(t){let e=t.length,n=t[0],a=t.subarray(1);if(e===i&&(2===n||3===n)){var s;let u=Z(a);if(!(rl<u)||!(u<r.ORDER))throw Error("Point is not on curve");let c=l(u),h=r.sqrt(c),f=(h&rh)===rh;return(1&n)==1!==f&&(h=r.neg(h)),{x:u,y:h}}if(e===o&&4===n){let d=r.fromBytes(a.subarray(0,r.BYTES)),p=r.fromBytes(a.subarray(r.BYTES,2*r.BYTES));return{x:d,y:p}}throw Error(`Point of length ${e} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),f=t=>G(Q(t,e.nByteLength));function d(t){return t>n>>rh}let p=(t,e,r)=>Z(t.slice(e,r));class y{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){let r=e.nByteLength;return t=te("compactSignature",t,2*r),new y(p(t,0,r),p(t,r,2*r))}static fromDER(t){let{r:e,s:r}=rc.toSig(te("DER",t));return new y(e,r)}assertValidity(){if(!h(this.r))throw Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new y(this.r,this.s,t)}recoverPublicKey(t){let{r:n,s:i,recovery:o}=this,c=v(te("msgHash",t));if(null==o||![0,1,2,3].includes(o))throw Error("recovery id invalid");let l=2===o||3===o?n+e.n:n;if(l>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let h=u.fromHex(((1&o)==0?"02":"03")+f(l)),d=s(l),p=a(-c*d),y=a(i*d),g=u.BASE.multiplyAndAddUnsafe(h,p,y);if(!g)throw Error("point at infinify");return g.assertValidity(),g}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return $(this.toDERHex())}toDERHex(){return rc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return $(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}function g(t){let e=t instanceof Uint8Array,r="string"==typeof t,n=(e||r)&&t.length;return e?n===i||n===o:r?n===2*i||n===2*o:t instanceof u}let m=e.bits2int||function(t){let r=Z(t),n=8*t.length-e.nBitLength;return n>0?r>>BigInt(n):r},v=e.bits2int_modN||function(t){return a(m(t))},b=tu(e.nBitLength);function w(t){if("bigint"!=typeof t)throw Error("bigint expected");if(!(rl<=t&&t<b))throw Error(`bigint expected < 2^${e.nBitLength}`);return Q(t,e.nByteLength)}let k={lowS:e.lowS,prehash:!1},x={lowS:e.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return u.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(g(t))throw Error("first arg must be private key");if(!g(e))throw Error("second arg must be public key");let n=u.fromHex(e);return n.multiply(c(t)).toRawBytes(r)},sign:function(t,n,i=k){let{seed:o,k2sig:l}=function(t,n,i=k){if(["recovered","canonical"].some(t=>t in i))throw Error("sign() legacy options not supported");let{hash:o,randomBytes:l}=e,{lowS:f,prehash:p,extraEntropy:g}=i;null==f&&(f=!0),t=te("msgHash",t),p&&(t=te("prehashed msgHash",o(t)));let b=v(t),x=c(n),S=[w(x),w(b)];if(null!=g){let E=!0===g?l(r.BYTES):g;S.push(te("extraEntropy",E,r.BYTES))}let _=tr(...S);return{seed:_,k2sig:function(t){let e=m(t);if(!h(e))return;let r=s(e),n=u.BASE.multiply(e).toAffine(),i=a(n.x);if(i===rl)return;let o=a(r*a(b+i*x));if(o===rl)return;let c=(n.x===i?0:2)|Number(n.y&rh),l=o;if(f&&d(o)){var p;l=d(o)?a(-o):o,c^=1}return new y(i,l,c)}}}(t,n,i),f=th(e.hash.outputLen,e.nByteLength,e.hmac);return f(o,l)},verify:function(t,r,n,i=x){if(r=te("msgHash",r),n=te("publicKey",n),"strict"in i)throw Error("options.strict was renamed to lowS");let{lowS:o,prehash:c}=i,l,h;try{if("string"==typeof t||t instanceof Uint8Array)try{l=y.fromDER(t)}catch(f){if(!(f instanceof rc.Err))throw f;l=y.fromCompact(t)}else if("object"==typeof t&&"bigint"==typeof t.r&&"bigint"==typeof t.s){let{r:d,s:p}=t;l=new y(d,p)}else throw Error("PARSE");h=u.fromHex(n)}catch(g){if("PARSE"===g.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(o&&l.hasHighS())return!1;c&&(r=e.hash(r));let{r:m,s:b}=l,w=v(r),k=s(b),S=a(w*k),E=a(m*k),_=u.BASE.multiplyAndAddUnsafe(h,S,E)?.toAffine();if(!_)return!1;let A=a(_.x);return A===m},ProjectivePoint:u,Signature:y,utils:{isValidPrivateKey(t){try{return c(t),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey(){let t=e.randomBytes(r.BYTES+8),i=function(t,e,r=!1){t=te("privateHash",t);let n=t.length,i=tI(e).nByteLength+8;if(i<24||n<i||n>1024)throw Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let o=r?J(t):Z(t);return tk(o,e-ty)+ty}(t,n);return Q(i,e.nByteLength)},precompute:(t=8,e=u.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}}({...t,hash:e,hmac:(t,...r)=>rp(e,t,x(...r)),randomBytes:_})};return Object.freeze({...r(e),create:r})}({a:BigInt(0),b:BigInt(7),Fp:rw,n:rg,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-rm*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),o=rb(e*t,rg),a=rb(-r*t,rg),s=tk(t-o*e-a*n,rg),u=tk(-o*r-a*e,rg),c=s>i,l=u>i;if(c&&(s=rg-s),l&&(u=rg-u),s>i||u>i)throw Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:c,k1:s,k2neg:l,k2:u}}}},ea);BigInt(0),rk.ProjectivePoint,tZ.utils.randomPrivateKey;var rx=function(){var t=tZ.utils.randomPrivateKey(),e=rS(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},rS=tZ.getPublicKey;function rE(t){try{return tZ.ExtendedPoint.fromHex(t),!0}catch(e){return!1}}var r_=function(t,e){return tZ.sign(t,e.slice(0,32))},rA=tZ.verify,rI=function(t){return l.Buffer.isBuffer(t)?t:t instanceof Uint8Array?l.Buffer.from(t.buffer,t.byteOffset,t.byteLength):l.Buffer.from(t)},rM=function(){function t(e){o(this,t),Object.assign(this,e)}return c(t,[{key:"encode",value:function(){return l.Buffer.from((0,es.serialize)(rO,this))}}],[{key:"decode",value:function(t){return(0,es.deserialize)(rO,this,t)}},{key:"decodeUnchecked",value:function(t){return(0,es.deserializeUnchecked)(rO,this,t)}}]),t}(),rO=new Map;function rL(){rL=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(l){c=function(t,e,r){return t[e]=r}}function h(t,e,r,i){var o,a,s,u,c=Object.create((e&&e.prototype instanceof p?e:p).prototype);return n(c,"_invoke",{value:(o=t,a=r,s=new A(i||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return M()}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r){var n=S(r,s);if(n){if(n===d)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u="executing";var i=f(o,a,s);if("normal"===i.type){if(u=s.done?"completed":"suspendedYield",i.arg===d)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(u="completed",s.method="throw",s.arg=i.arg)}})}),c}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=h;var d={};function p(){}function y(){}function g(){}var m={};c(m,o,function(){return this});var v=Object.getPrototypeOf,b=v&&v(v(I([])));b&&b!==e&&r.call(b,o)&&(m=b);var w=g.prototype=p.prototype=Object.create(m);function k(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function x(t,e){var i;n(this,"_invoke",{value:function(n,o){function s(){return new e(function(i,s){!function n(i,o,s,u){var c=f(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==a(h)&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):e.resolve(h).then(function(t){l.value=t,s(l)},function(t){return n("throw",t,s,u)})}u(c.arg)}(n,o,i,s)})}return i=i?i.then(s,s):s()}})}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+r+"' method")),d;var i=f(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,d)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function I(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return y.prototype=g,n(w,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:y,configurable:!0}),y.displayName=c(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(x.prototype),c(x.prototype,s,function(){return this}),t.AsyncIterator=x,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new x(h(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(w),c(w,u,"Generator"),c(w,o,function(){return this}),c(w,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;_(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:I(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}var rB=1;n=Symbol.toStringTag;var rT=function(t){t2(h,t);var e,r,i,a,s,u=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=t8(h);if(r){var n=t8(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return t6(this,t)});function h(t){var e,r;if(o(this,h),(e=u.call(this,{}))._bn=void 0,void 0!==t._bn)e._bn=t._bn;else{if("string"==typeof t){var n=t7().decode(t);if(32!=n.length)throw Error("Invalid public key input");e._bn=new(t4())(n)}else e._bn=new(t4())(t);if(e._bn.byteLength()>32)throw Error("Invalid public key input")}return e}return c(h,[{key:"equals",value:function(t){return this._bn.eq(t._bn)}},{key:"toBase58",value:function(){return t7().encode(this.toBytes())}},{key:"toJSON",value:function(){return this.toBase58()}},{key:"toBytes",value:function(){var t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}},{key:"toBuffer",value:function(){var t=this._bn.toArrayLike(l.Buffer);if(32===t.length)return t;var e=l.Buffer.alloc(32);return t.copy(e,32-t.length),e}},{key:n,get:function(){return"PublicKey(".concat(this.toString(),")")}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"unique",value:function(){var t=new h(rB);return rB+=1,new h(t.toBuffer())}},{key:"createWithSeed",value:(i=t0(rL().mark(function t(e,r,n){var i,o;return rL().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=ea(l.Buffer.concat([e.toBuffer(),l.Buffer.from(r),n.toBuffer()])),t.abrupt("return",new h(o));case 3:case"end":return t.stop()}},t)})),function(t,e,r){return i.apply(this,arguments)})},{key:"createProgramAddressSync",value:function(t,e){var r=l.Buffer.alloc(0);t.forEach(function(t){if(t.length>32)throw TypeError("Max seed length exceeded");r=l.Buffer.concat([r,rI(t)])}),r=l.Buffer.concat([r,e.toBuffer(),l.Buffer.from("ProgramDerivedAddress")]);var n=ea(r);if(rE(n))throw Error("Invalid seeds, address must fall off the curve");return new h(n)}},{key:"createProgramAddress",value:(a=t0(rL().mark(function t(e,r){return rL().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.createProgramAddressSync(e,r));case 1:case"end":return t.stop()}},t,this)})),function(t,e){return a.apply(this,arguments)})},{key:"findProgramAddressSync",value:function(t,e){for(var r,n=255;0!=n;){try{var i=t.concat(l.Buffer.from([n]));r=this.createProgramAddressSync(i,e)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[r,n]}throw Error("Unable to find a viable program address nonce")}},{key:"findProgramAddress",value:(s=t0(rL().mark(function t(e,r){return rL().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.findProgramAddressSync(e,r));case 1:case"end":return t.stop()}},t,this)})),function(t,e){return s.apply(this,arguments)})},{key:"isOnCurve",value:function(t){var e=new h(t);return rE(e.toBytes())}}]),h}(rM);rT.default=new rT("11111111111111111111111111111111"),rO.set(rT,{kind:"struct",fields:[["_bn","u256"]]}),new rT("BPFLoader1111111111111111111111111111111111");var rN=64;function rj(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=t8(t);if(e){var i=t8(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return t6(this,r)}}var rP=function(t){t2(r,t);var e=rj(r);function r(t){var n;return o(this,r),(n=e.call(this,"Signature ".concat(t," has expired: block height exceeded."))).signature=void 0,n.signature=t,n}return c(r)}(eF(Error));Object.defineProperty(rP.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var rC=function(t){t2(r,t);var e=rj(r);function r(t,n){var i;return o(this,r),(i=e.call(this,"Transaction was not confirmed in ".concat(n.toFixed(2)," seconds. It is ")+"unknown if it succeeded or failed. Check signature "+"".concat(t," using the Solana Explorer or CLI tools."))).signature=void 0,i.signature=t,i}return c(r)}(eF(Error));Object.defineProperty(rC.prototype,"name",{value:"TransactionExpiredTimeoutError"});var rR=function(t){t2(r,t);var e=rj(r);function r(t){var n;return o(this,r),(n=e.call(this,"Signature ".concat(t," has expired: the nonce is no longer valid."))).signature=void 0,n.signature=t,n}return c(r)}(eF(Error));function rU(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}Object.defineProperty(rR.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var rz=function(){function t(e,r){o(this,t),this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}return c(t,[{key:"keySegments",value:function(){var t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}},{key:"get",value:function(t){var e,r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return rU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rU(t,e)}}(t))){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(this.keySegments());try{for(r.s();!(e=r.n()).done;){var n=e.value;if(t<n.length)return n[t];t-=n.length}}catch(i){r.e(i)}finally{r.f()}}},{key:"length",get:function(){return this.keySegments().flat().length}},{key:"compileInstructions",value:function(t){if(this.length>256)throw Error("Account index overflow encountered during compilation");var e=new Map;this.keySegments().flat().forEach(function(t,r){e.set(t.toBase58(),r)});var r=function(t){var r=e.get(t.toBase58());if(void 0===r)throw Error("Encountered an unknown instruction account key during compilation");return r};return t.map(function(t){return{programIdIndex:r(t.programId),accountKeyIndexes:t.keys.map(function(t){return r(t.pubkey)}),data:t.data}})}}]),t}(),rD=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return eu.Ik(32,t)},rW=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signature";return eu.Ik(64,t)},rq=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",e=eu.n_([eu.Jq("length"),eu.Jq("lengthPadding"),eu.Ik(eu.cv(eu.Jq(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=function(t,e){return r(t,e).chars.toString()},i.encode=function(t,e,r){return n({chars:l.Buffer.from(t,"utf8")},e,r)},i.alloc=function(t){return eu.Jq().span+eu.Jq().span+l.Buffer.from(t,"utf8").length},i};function rK(t){for(var e=0,r=0;;){var n=t.shift();if(e|=(127&n)<<7*r,r+=1,(128&n)==0)break}return e}function rF(t,e){for(var r=e;;){var n=127&r;if(0==(r>>=7)){t.push(n);break}n|=128,t.push(n)}}function rH(t,e){if(!t)throw Error(e||"Assertion failed")}function rG(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return rY(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rY(t,e)}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function rY(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var rV=function(){function t(e,r){o(this,t),this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}return c(t,[{key:"getMessageComponents",value:function(){var t=ep(this.keyMetaMap.entries());rH(t.length<=256,"Max static account keys length exceeded");var e=t.filter(function(t){var e=eh(t,2)[1];return e.isSigner&&e.isWritable}),r=t.filter(function(t){var e=eh(t,2)[1];return e.isSigner&&!e.isWritable}),n=t.filter(function(t){var e=eh(t,2)[1];return!e.isSigner&&e.isWritable}),i=t.filter(function(t){var e=eh(t,2)[1];return!e.isSigner&&!e.isWritable}),o={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};rH(e.length>0,"Expected at least one writable signer key");var a=eh(e[0],1)[0];rH(a===this.payer.toBase58(),"Expected first writable signer key to be the fee payer");var s=[].concat(ep(e.map(function(t){var e=eh(t,1)[0];return new rT(e)})),ep(r.map(function(t){var e=eh(t,1)[0];return new rT(e)})),ep(n.map(function(t){var e=eh(t,1)[0];return new rT(e)})),ep(i.map(function(t){var e=eh(t,1)[0];return new rT(e)})));return[o,s]}},{key:"extractTableLookup",value:function(t){var e=eh(this.drainKeysFoundInLookupTable(t.state.addresses,function(t){return!t.isSigner&&!t.isInvoked&&t.isWritable}),2),r=e[0],n=e[1],i=eh(this.drainKeysFoundInLookupTable(t.state.addresses,function(t){return!t.isSigner&&!t.isInvoked&&!t.isWritable}),2),o=i[0],a=i[1];if(0!==r.length||0!==o.length)return[{accountKey:t.key,writableIndexes:r,readonlyIndexes:o},{writable:n,readonly:a}]}},{key:"drainKeysFoundInLookupTable",value:function(t,e){var r,n=this,i=[],o=[],a=rG(this.keyMetaMap.entries());try{for(a.s();!(r=a.n()).done;)!function(){var a=eh(r.value,2),s=a[0],u=a[1];if(e(u)){var c=new rT(s),l=t.findIndex(function(t){return t.equals(c)});l>=0&&(rH(l<256,"Max lookup table index exceeded"),i.push(l),o.push(c),n.keyMetaMap.delete(s))}}()}catch(s){a.e(s)}finally{a.f()}return[i,o]}}],[{key:"compile",value:function(e,r){var n=new Map,i=function(t){var e=t.toBase58(),r=n.get(e);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(e,r)),r},o=i(r);o.isSigner=!0,o.isWritable=!0;var a,s=rG(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;i(u.programId).isInvoked=!0;var c,l=rG(u.keys);try{for(l.s();!(c=l.n()).done;){var h=c.value,f=i(h.pubkey);f.isSigner||(f.isSigner=h.isSigner),f.isWritable||(f.isWritable=h.isWritable)}}catch(d){l.e(d)}finally{l.f()}}}catch(p){s.e(p)}finally{s.f()}return new t(r,n)}}]),t}(),r$=function(){function t(e){var r=this;o(this,t),this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(function(t){return new rT(t)}),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(function(t){return r.indexToProgramIds.set(t.programIdIndex,r.accountKeys[t.programIdIndex])})}return c(t,[{key:"version",get:function(){return"legacy"}},{key:"staticAccountKeys",get:function(){return this.accountKeys}},{key:"compiledInstructions",get:function(){return this.instructions.map(function(t){return{programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:t7().decode(t.data)}})}},{key:"addressTableLookups",get:function(){return[]}},{key:"getAccountKeys",value:function(){return new rz(this.staticAccountKeys)}},{key:"isAccountSigner",value:function(t){return t<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(t){var e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){var r=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return t-e<r}return t<e-this.header.numReadonlySignedAccounts}},{key:"isProgramId",value:function(t){return this.indexToProgramIds.has(t)}},{key:"programIds",value:function(){return ep(this.indexToProgramIds.values())}},{key:"nonProgramIds",value:function(){var t=this;return this.accountKeys.filter(function(e,r){return!t.isProgramId(r)})}},{key:"serialize",value:function(){var t=this.accountKeys.length,e=[];rF(e,t);var r=this.instructions.map(function(t){var e=t.accounts,r=t.programIdIndex,n=Array.from(t7().decode(t.data)),i=[];rF(i,e.length);var o=[];return rF(o,n.length),{programIdIndex:r,keyIndicesCount:l.Buffer.from(i),keyIndices:e,dataLength:l.Buffer.from(o),data:n}}),n=[];rF(n,r.length);var i=l.Buffer.alloc(1232);l.Buffer.from(n).copy(i);var o=n.length;r.forEach(function(t){var e=eu.n_([eu.u8("programIdIndex"),eu.Ik(t.keyIndicesCount.length,"keyIndicesCount"),eu.A9(eu.u8("keyIndex"),t.keyIndices.length,"keyIndices"),eu.Ik(t.dataLength.length,"dataLength"),eu.A9(eu.u8("userdatum"),t.data.length,"data")]).encode(t,i,o);o+=e}),i=i.slice(0,o);var a=eu.n_([eu.Ik(1,"numRequiredSignatures"),eu.Ik(1,"numReadonlySignedAccounts"),eu.Ik(1,"numReadonlyUnsignedAccounts"),eu.Ik(e.length,"keyCount"),eu.A9(rD("key"),t,"keys"),rD("recentBlockhash")]),s={numRequiredSignatures:l.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:l.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:l.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:l.Buffer.from(e),keys:this.accountKeys.map(function(t){return rI(t.toBytes())}),recentBlockhash:t7().decode(this.recentBlockhash)},u=l.Buffer.alloc(2048),c=a.encode(s,u);return i.copy(u,c),u.slice(0,c+i.length)}}],[{key:"compile",value:function(e){var r=eh(rV.compile(e.instructions,e.payerKey).getMessageComponents(),2),n=r[0],i=r[1],o=new rz(i).compileInstructions(e.instructions).map(function(t){return{programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:t7().encode(t.data)}});return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}},{key:"from",value:function(e){var r=ep(e),n=r.shift();if(n!==(127&n))throw Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");for(var i=r.shift(),o=r.shift(),a=rK(r),s=[],u=0;u<a;u++){var c=r.slice(0,32);r=r.slice(32),s.push(new rT(l.Buffer.from(c)))}for(var h=r.slice(0,32),f=rK(r=r.slice(32)),d=[],p=0;p<f;p++){var y=r.shift(),g=rK(r),m=r.slice(0,g);r=r.slice(g);var v=rK(r),b=r.slice(0,v),w=t7().encode(l.Buffer.from(b));r=r.slice(v),d.push({programIdIndex:y,accounts:m,data:w})}var k={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:t7().encode(l.Buffer.from(h)),accountKeys:s,instructions:d};return new t(k)}}]),t}();function rZ(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return rJ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rJ(t,e)}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function rJ(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var rQ=function(){function t(e){o(this,t),this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}return c(t,[{key:"version",get:function(){return 0}},{key:"numAccountKeysFromLookups",get:function(){var t,e=0,r=rZ(this.addressTableLookups);try{for(r.s();!(t=r.n()).done;){var n=t.value;e+=n.readonlyIndexes.length+n.writableIndexes.length}}catch(i){r.e(i)}finally{r.f()}return e}},{key:"getAccountKeys",value:function(t){var e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw Error("Failed to get account keys because address table lookups were not resolved");return new rz(this.staticAccountKeys,e)}},{key:"isAccountSigner",value:function(t){return t<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(t){var e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r)return t-r<this.addressTableLookups.reduce(function(t,e){return t+e.writableIndexes.length},0);if(t>=this.header.numRequiredSignatures){var n=r-e-this.header.numReadonlyUnsignedAccounts;return t-e<n}return t<e-this.header.numReadonlySignedAccounts}},{key:"resolveAddressTableLookups",value:function(t){var e,r={writable:[],readonly:[]},n=rZ(this.addressTableLookups);try{for(n.s();!(e=n.n()).done;)!function(){var n=e.value,i=t.find(function(t){return t.key.equals(n.accountKey)});if(!i)throw Error("Failed to find address lookup table account for table key ".concat(n.accountKey.toBase58()));var o,a=rZ(n.writableIndexes);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw Error("Failed to find address for index ".concat(s," in address lookup table ").concat(n.accountKey.toBase58()))}}catch(u){a.e(u)}finally{a.f()}var c,l=rZ(n.readonlyIndexes);try{for(l.s();!(c=l.n()).done;){var h=c.value;if(h<i.state.addresses.length)r.readonly.push(i.state.addresses[h]);else throw Error("Failed to find address for index ".concat(h," in address lookup table ").concat(n.accountKey.toBase58()))}}catch(f){l.e(f)}finally{l.f()}}()}catch(i){n.e(i)}finally{n.f()}return r}},{key:"serialize",value:function(){var t=[];rF(t,this.staticAccountKeys.length);var e=this.serializeInstructions(),r=[];rF(r,this.compiledInstructions.length);var n=this.serializeAddressTableLookups(),i=[];rF(i,this.addressTableLookups.length);var o=eu.n_([eu.u8("prefix"),eu.n_([eu.u8("numRequiredSignatures"),eu.u8("numReadonlySignedAccounts"),eu.u8("numReadonlyUnsignedAccounts")],"header"),eu.Ik(t.length,"staticAccountKeysLength"),eu.A9(rD(),this.staticAccountKeys.length,"staticAccountKeys"),rD("recentBlockhash"),eu.Ik(r.length,"instructionsLength"),eu.Ik(e.length,"serializedInstructions"),eu.Ik(i.length,"addressTableLookupsLength"),eu.Ik(n.length,"serializedAddressTableLookups")]),a=new Uint8Array(1232),s=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(function(t){return t.toBytes()}),recentBlockhash:t7().decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},a);return a.slice(0,s)}},{key:"serializeInstructions",value:function(){var t,e=0,r=new Uint8Array(1232),n=rZ(this.compiledInstructions);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=[];rF(o,i.accountKeyIndexes.length);var a=[];rF(a,i.data.length);var s=eu.n_([eu.u8("programIdIndex"),eu.Ik(o.length,"encodedAccountKeyIndexesLength"),eu.A9(eu.u8(),i.accountKeyIndexes.length,"accountKeyIndexes"),eu.Ik(a.length,"encodedDataLength"),eu.Ik(i.data.length,"data")]);e+=s.encode({programIdIndex:i.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:i.accountKeyIndexes,encodedDataLength:new Uint8Array(a),data:i.data},r,e)}}catch(u){n.e(u)}finally{n.f()}return r.slice(0,e)}},{key:"serializeAddressTableLookups",value:function(){var t,e=0,r=new Uint8Array(1232),n=rZ(this.addressTableLookups);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=[];rF(o,i.writableIndexes.length);var a=[];rF(a,i.readonlyIndexes.length);var s=eu.n_([rD("accountKey"),eu.Ik(o.length,"encodedWritableIndexesLength"),eu.A9(eu.u8(),i.writableIndexes.length,"writableIndexes"),eu.Ik(a.length,"encodedReadonlyIndexesLength"),eu.A9(eu.u8(),i.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:i.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:i.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(a),readonlyIndexes:i.readonlyIndexes},r,e)}}catch(u){n.e(u)}finally{n.f()}return r.slice(0,e)}}],[{key:"compile",value:function(e){var r,n=rV.compile(e.instructions,e.payerKey),i=[],o={writable:[],readonly:[]},a=rZ(e.addressLookupTableAccounts||[]);try{for(a.s();!(r=a.n()).done;){var s=r.value,u=n.extractTableLookup(s);if(void 0!==u){var c,l,h=eh(u,2),f=h[0],d=h[1],p=d.writable,y=d.readonly;i.push(f),(c=o.writable).push.apply(c,ep(p)),(l=o.readonly).push.apply(l,ep(y))}}}catch(g){a.e(g)}finally{a.f()}var m=eh(n.getMessageComponents(),2),v=m[0],b=m[1],w=new rz(b,o).compileInstructions(e.instructions);return new t({header:v,staticAccountKeys:b,recentBlockhash:e.recentBlockhash,compiledInstructions:w,addressTableLookups:i})}},{key:"deserialize",value:function(e){var r=ep(e),n=r.shift(),i=127&n;rH(n!==i,"Expected versioned message but received legacy message"),rH(0===i,"Expected versioned message with version 0 but found version ".concat(i));for(var o={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},a=[],s=rK(r),u=0;u<s;u++)a.push(new rT(r.splice(0,32)));for(var c=t7().encode(r.splice(0,32)),l=rK(r),h=[],f=0;f<l;f++){var d=r.shift(),p=rK(r),y=r.splice(0,p),g=rK(r),m=new Uint8Array(r.splice(0,g));h.push({programIdIndex:d,accountKeyIndexes:y,data:m})}for(var v=rK(r),b=[],w=0;w<v;w++){var k=new rT(r.splice(0,32)),x=rK(r),S=r.splice(0,x),E=rK(r),_=r.splice(0,E);b.push({accountKey:k,writableIndexes:S,readonlyIndexes:_})}return new t({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:h,addressTableLookups:b})}}]),t}(),rX={deserializeMessageVersion:function(t){var e=t[0],r=127&e;return r===e?"legacy":r},deserialize:function(t){var e=rX.deserializeMessageVersion(t);if("legacy"===e)return r$.from(t);if(0===e)return rQ.deserialize(t);throw Error("Transaction message version ".concat(e," deserialization is not supported"))}};function r0(){r0=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(l){c=function(t,e,r){return t[e]=r}}function h(t,e,r,i){var o,a,s,u,c=Object.create((e&&e.prototype instanceof p?e:p).prototype);return n(c,"_invoke",{value:(o=t,a=r,s=new A(i||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return M()}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r){var n=S(r,s);if(n){if(n===d)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u="executing";var i=f(o,a,s);if("normal"===i.type){if(u=s.done?"completed":"suspendedYield",i.arg===d)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(u="completed",s.method="throw",s.arg=i.arg)}})}),c}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=h;var d={};function p(){}function y(){}function g(){}var m={};c(m,o,function(){return this});var v=Object.getPrototypeOf,b=v&&v(v(I([])));b&&b!==e&&r.call(b,o)&&(m=b);var w=g.prototype=p.prototype=Object.create(m);function k(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function x(t,e){var i;n(this,"_invoke",{value:function(n,o){function s(){return new e(function(i,s){!function n(i,o,s,u){var c=f(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==a(h)&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):e.resolve(h).then(function(t){l.value=t,s(l)},function(t){return n("throw",t,s,u)})}u(c.arg)}(n,o,i,s)})}return i=i?i.then(s,s):s()}})}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+r+"' method")),d;var i=f(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,d)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function I(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return y.prototype=g,n(w,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:y,configurable:!0}),y.displayName=c(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(x.prototype),c(x.prototype,s,function(){return this}),t.AsyncIterator=x,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new x(h(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(w),c(w,u,"Generator"),c(w,o,function(){return this}),c(w,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;_(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:I(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function r1(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return r2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r2(t,e)}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function r2(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function r6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}var r8,r3=((r8={})[r8.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r8[r8.PROCESSED=1]="PROCESSED",r8[r8.TIMED_OUT=2]="TIMED_OUT",r8[r8.NONCE_INVALID=3]="NONCE_INVALID",r8),r4=l.Buffer.alloc(rN).fill(0),r5=function(){function t(e){o(this,t),this.keys=void 0,this.programId=void 0,this.data=l.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}return c(t,[{key:"toJSON",value:function(){return{keys:this.keys.map(function(t){var e=t.pubkey,r=t.isSigner,n=t.isWritable;return{pubkey:e.toJSON(),isSigner:r,isWritable:n}}),programId:this.programId.toJSON(),data:ep(this.data)}}}]),t}(),r7=function(){var t;function e(t){if(o(this,e),this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t){if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){var r=t.minContextSlot,n=t.nonceInfo;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){var i=t.blockhash,a=t.lastValidBlockHeight;this.recentBlockhash=i,this.lastValidBlockHeight=a}else{var s=t.recentBlockhash,u=t.nonceInfo;u&&(this.nonceInfo=u),this.recentBlockhash=s}}}return c(e,[{key:"signature",get:function(){return this.signatures.length>0?this.signatures[0].signature:null}},{key:"toJSON",value:function(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(function(t){return t.toJSON()}),signers:this.signatures.map(function(t){return t.publicKey.toJSON()})}}},{key:"add",value:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];if(0===r.length)throw Error("No instructions");return r.forEach(function(e){"instructions"in e?t.instructions=t.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?t.instructions.push(e):t.instructions.push(new r5(e))}),this}},{key:"compileMessage",value:function(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;if(this.nonceInfo?(s=this.nonceInfo.nonce,u=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction].concat(ep(this.instructions)):this.instructions):(s=this.recentBlockhash,u=this.instructions),!s)throw Error("Transaction recentBlockhash required");if(u.length<1&&console.warn("No instructions provided"),this.feePayer)c=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)c=this.signatures[0].publicKey;else throw Error("Transaction fee payer required");for(var t=0;t<u.length;t++)if(void 0===u[t].programId)throw Error("Transaction instruction index ".concat(t," has undefined program id"));var e=[],r=[];u.forEach(function(t){t.keys.forEach(function(t){r.push(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?r6(Object(r),!0).forEach(function(e){ed(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r6(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},t))});var n=t.programId.toString();e.includes(n)||e.push(n)}),e.forEach(function(t){r.push({pubkey:new rT(t),isSigner:!1,isWritable:!1})});var n=[];r.forEach(function(t){var e=t.pubkey.toString(),r=n.findIndex(function(t){return t.pubkey.toString()===e});r>-1?(n[r].isWritable=n[r].isWritable||t.isWritable,n[r].isSigner=n[r].isSigner||t.isSigner):n.push(t)}),n.sort(function(t,e){return t.isSigner!==e.isSigner?t.isSigner?-1:1:t.isWritable!==e.isWritable?t.isWritable?-1:1:t.pubkey.toBase58().localeCompare(e.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});var i=n.findIndex(function(t){return t.pubkey.equals(c)});if(i>-1){var o=n.splice(i,1),a=eh(o,1)[0];a.isSigner=!0,a.isWritable=!0,n.unshift(a)}else n.unshift({pubkey:c,isSigner:!0,isWritable:!0});var s,u,c,l,h=r1(this.signatures);try{for(h.s();!(l=h.n()).done;)!function(){var t=l.value,e=n.findIndex(function(e){return e.pubkey.equals(t.publicKey)});if(e>-1)n[e].isSigner||(n[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw Error("unknown signer: ".concat(t.publicKey.toString()))}()}catch(f){h.e(f)}finally{h.f()}var d=0,p=0,y=0,g=[],m=[];n.forEach(function(t){var e=t.pubkey,r=t.isSigner,n=t.isWritable;r?(g.push(e.toString()),d+=1,n||(p+=1)):(m.push(e.toString()),n||(y+=1))});var v=g.concat(m),b=u.map(function(t){var e=t.data,r=t.programId;return{programIdIndex:v.indexOf(r.toString()),accounts:t.keys.map(function(t){return v.indexOf(t.pubkey.toString())}),data:t7().encode(e)}});return b.forEach(function(t){rH(t.programIdIndex>=0),t.accounts.forEach(function(t){return rH(t>=0)})}),new r$({header:{numRequiredSignatures:d,numReadonlySignedAccounts:p,numReadonlyUnsignedAccounts:y},accountKeys:v,recentBlockhash:s,instructions:b})}},{key:"_compile",value:function(){var t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every(function(t,r){return e[r].equals(t.publicKey)})?t:(this.signatures=e.map(function(t){return{signature:null,publicKey:t}}),t)}},{key:"serializeMessage",value:function(){return this._compile().serialize()}},{key:"getEstimatedFee",value:(t=t0(r0().mark(function t(e){return r0().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFeeForMessage(this.compileMessage());case 2:return t.abrupt("return",t.sent.value);case 3:case"end":return t.stop()}},t,this)})),function(e){return t.apply(this,arguments)})},{key:"setSigners",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)throw Error("No signers");var n=new Set;this.signatures=e.filter(function(t){var e=t.toString();return!n.has(e)&&(n.add(e),!0)}).map(function(t){return{signature:null,publicKey:t}})}},{key:"sign",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)throw Error("No signers");for(var n=new Set,i=[],o=0;o<e.length;o++){var a=e[o],s=a.publicKey.toString();!n.has(s)&&(n.add(s),i.push(a))}this.signatures=i.map(function(t){return{signature:null,publicKey:t.publicKey}});var u=this._compile();this._partialSign.apply(this,[u].concat(i))}},{key:"partialSign",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)throw Error("No signers");for(var n=new Set,i=[],o=0;o<e.length;o++){var a=e[o],s=a.publicKey.toString();!n.has(s)&&(n.add(s),i.push(a))}var u=this._compile();this._partialSign.apply(this,[u].concat(i))}},{key:"_partialSign",value:function(t){for(var e=this,r=t.serialize(),n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];i.forEach(function(t){var n=r_(r,t.secretKey);e._addSignature(t.publicKey,rI(n))})}},{key:"addSignature",value:function(t,e){this._compile(),this._addSignature(t,e)}},{key:"_addSignature",value:function(t,e){rH(64===e.length);var r=this.signatures.findIndex(function(e){return t.equals(e.publicKey)});if(r<0)throw Error("unknown signer: ".concat(t.toString()));this.signatures[r].signature=l.Buffer.from(e)}},{key:"verifySignatures",value:function(t){return this._verifySignatures(this.serializeMessage(),void 0===t||t)}},{key:"_verifySignatures",value:function(t,e){var r,n=r1(this.signatures);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=i.signature,a=i.publicKey;if(null===o){if(e)return!1}else if(!rA(o,t,a.toBytes()))return!1}}catch(s){n.e(s)}finally{n.f()}return!0}},{key:"serialize",value:function(t){var e=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),r=e.requireAllSignatures,n=e.verifySignatures,i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw Error("Signature verification failed");return this._serialize(i)}},{key:"_serialize",value:function(t){var e=this.signatures,r=[];rF(r,e.length);var n=r.length+64*e.length+t.length,i=l.Buffer.alloc(n);return rH(e.length<256),l.Buffer.from(r).copy(i,0),e.forEach(function(t,e){var n=t.signature;null!==n&&(rH(64===n.length,"signature has invalid length"),l.Buffer.from(n).copy(i,r.length+64*e))}),t.copy(i,r.length+64*e.length),rH(i.length<=1232,"Transaction too large: ".concat(i.length," > ").concat(1232)),i}},{key:"keys",get:function(){return rH(1===this.instructions.length),this.instructions[0].keys.map(function(t){return t.pubkey})}},{key:"programId",get:function(){return rH(1===this.instructions.length),this.instructions[0].programId}},{key:"data",get:function(){return rH(1===this.instructions.length),this.instructions[0].data}}],[{key:"from",value:function(t){for(var r=ep(t),n=rK(r),i=[],o=0;o<n;o++){var a=r.slice(0,rN);r=r.slice(rN),i.push(t7().encode(l.Buffer.from(a)))}return e.populate(r$.from(r),i)}},{key:"populate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new e;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach(function(e,r){var i={signature:e==t7().encode(r4)?null:t7().decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)}),t.instructions.forEach(function(e){var r=e.accounts.map(function(e){var r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some(function(t){return t.publicKey.toString()===r.toString()})||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}});n.instructions.push(new r5({keys:r,programId:t.accountKeys[e.programIdIndex],data:t7().decode(e.data)}))}),n._message=t,n._json=n.toJSON(),n}}]),e}();function r9(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var nt=function(){function t(e,r){if(o(this,t),this.signatures=void 0,this.message=void 0,void 0!==r)rH(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{for(var n=[],i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(rN));this.signatures=n}this.message=e}return c(t,[{key:"version",get:function(){return this.message.version}},{key:"serialize",value:function(){var t=this.message.serialize(),e=[];rF(e,this.signatures.length);var r=eu.n_([eu.Ik(e.length,"encodedSignaturesLength"),eu.A9(rW(),this.signatures.length,"signatures"),eu.Ik(t.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},n);return n.slice(0,i)}},{key:"sign",value:function(t){var e,r=this,n=this.message.serialize(),i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures),o=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return r9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r9(t,e)}}(t))){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(t);try{for(o.s();!(e=o.n()).done;)!function(){var t=e.value,o=i.findIndex(function(e){return e.equals(t.publicKey)});rH(o>=0,"Cannot sign with non signer key ".concat(t.publicKey.toBase58())),r.signatures[o]=r_(n,t.secretKey)}()}catch(a){o.e(a)}finally{o.f()}}},{key:"addSignature",value:function(t,e){rH(64===e.byteLength,"Signature must be 64 bytes long");var r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(function(e){return e.equals(t)});rH(r>=0,"Can not add signature; `".concat(t.toBase58(),"` is not required to sign this transaction")),this.signatures[r]=e}}],[{key:"deserialize",value:function(e){for(var r=ep(e),n=[],i=rK(r),o=0;o<i;o++)n.push(new Uint8Array(r.splice(0,rN)));var a=rX.deserialize(new Uint8Array(r));return new t(a,n)}}]),t}(),ne=new rT("SysvarC1ock11111111111111111111111111111111");new rT("SysvarEpochSchedu1e111111111111111111111111"),new rT("Sysvar1nstructions1111111111111111111111111");var nr=new rT("SysvarRecentB1ockHashes11111111111111111111"),nn=new rT("SysvarRent111111111111111111111111111111111");new rT("SysvarRewards111111111111111111111111111111"),new rT("SysvarS1otHashes111111111111111111111111111"),new rT("SysvarS1otHistory11111111111111111111111111");var ni=new rT("SysvarStakeHistory1111111111111111111111111");function no(){no=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(l){c=function(t,e,r){return t[e]=r}}function h(t,e,r,i){var o,a,s,u,c=Object.create((e&&e.prototype instanceof p?e:p).prototype);return n(c,"_invoke",{value:(o=t,a=r,s=new A(i||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return M()}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r){var n=S(r,s);if(n){if(n===d)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u="executing";var i=f(o,a,s);if("normal"===i.type){if(u=s.done?"completed":"suspendedYield",i.arg===d)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(u="completed",s.method="throw",s.arg=i.arg)}})}),c}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=h;var d={};function p(){}function y(){}function g(){}var m={};c(m,o,function(){return this});var v=Object.getPrototypeOf,b=v&&v(v(I([])));b&&b!==e&&r.call(b,o)&&(m=b);var w=g.prototype=p.prototype=Object.create(m);function k(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function x(t,e){var i;n(this,"_invoke",{value:function(n,o){function s(){return new e(function(i,s){!function n(i,o,s,u){var c=f(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==a(h)&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):e.resolve(h).then(function(t){l.value=t,s(l)},function(t){return n("throw",t,s,u)})}u(c.arg)}(n,o,i,s)})}return i=i?i.then(s,s):s()}})}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+r+"' method")),d;var i=f(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,d)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function I(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return y.prototype=g,n(w,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:y,configurable:!0}),y.displayName=c(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(x.prototype),c(x.prototype,s,function(){return this}),t.AsyncIterator=x,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new x(h(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(w),c(w,u,"Generator"),c(w,o,function(){return this}),c(w,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;_(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:I(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function na(t,e,r,n){return ns.apply(this,arguments)}function ns(){return(ns=t0(no().mark(function t(e,r,n,i){var o,a,s,u,c;return no().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},t.next=3,e.sendTransaction(r,n,o);case 3:if(a=t.sent,!(null!=r.recentBlockhash&&null!=r.lastValidBlockHeight)){t.next=10;break}return t.next=7,e.confirmTransaction({abortSignal:null==i?void 0:i.abortSignal,signature:a,blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight},i&&i.commitment);case 7:case 15:s=t.sent.value,t.next=22;break;case 10:if(!(null!=r.minNonceContextSlot&&null!=r.nonceInfo)){t.next=18;break}return c=r.nonceInfo.nonceInstruction.keys[0].pubkey,t.next=15,e.confirmTransaction({abortSignal:null==i?void 0:i.abortSignal,minContextSlot:r.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:r.nonceInfo.nonce,signature:a},i&&i.commitment);case 18:return(null==i?void 0:i.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),t.next=21,e.confirmTransaction(a,i&&i.commitment);case 21:s=t.sent.value;case 22:if(!s.err){t.next=24;break}throw Error("Transaction ".concat(a," failed (").concat(JSON.stringify(s),")"));case 24:return t.abrupt("return",a);case 25:case"end":return t.stop()}},t)}))).apply(this,arguments)}function nu(t){return new Promise(function(e){return setTimeout(e,t)})}function nc(t,e){var r=t.layout.span>=0?t.layout.span:function t(e,r){var n=function e(n){if(n.span>=0)return n.span;if("function"==typeof n.alloc)return n.alloc(r[n.property]);if("count"in n&&"elementLayout"in n){var i=r[n.property];if(Array.isArray(i))return i.length*e(n.elementLayout)}else if("fields"in n)return t({layout:n},r[n.property]);return 0},i=0;return e.layout.fields.forEach(function(t){i+=n(t)}),i}(t,e),n=l.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}var nl,nh=eu._O("lamportsPerSignature"),nf=eu.n_([eu.Jq("version"),eu.Jq("state"),rD("authorizedPubkey"),rD("nonce"),eu.n_([nh],"feeCalculator")]),nd=nf.span,np=function(){function t(e){o(this,t),this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}return c(t,null,[{key:"fromAccountData",value:function(e){var r=nf.decode(rI(e),0);return new t({authorizedPubkey:new rT(r.authorizedPubkey),nonce:new rT(r.nonce).toString(),feeCalculator:r.feeCalculator})}}]),t}(),ny=function(t){var e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},ng=function(t){var e=(0,eu.Ik)(8,t),r=ny(e),n=r.encode,i=r.decode,o=e;return o.decode=function(t,e){var r=i(t,e);return(0,ef.oU)(l.Buffer.from(r))},o.encode=function(t,e,r){var i=(0,ef.k$)(t,8);return n(i,e,r)},o},nm=Object.freeze({Create:{index:0,layout:eu.n_([eu.Jq("instruction"),eu.gM("lamports"),eu.gM("space"),rD("programId")])},Assign:{index:1,layout:eu.n_([eu.Jq("instruction"),rD("programId")])},Transfer:{index:2,layout:eu.n_([eu.Jq("instruction"),ng("lamports")])},CreateWithSeed:{index:3,layout:eu.n_([eu.Jq("instruction"),rD("base"),rq("seed"),eu.gM("lamports"),eu.gM("space"),rD("programId")])},AdvanceNonceAccount:{index:4,layout:eu.n_([eu.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:eu.n_([eu.Jq("instruction"),eu.gM("lamports")])},InitializeNonceAccount:{index:6,layout:eu.n_([eu.Jq("instruction"),rD("authorized")])},AuthorizeNonceAccount:{index:7,layout:eu.n_([eu.Jq("instruction"),rD("authorized")])},Allocate:{index:8,layout:eu.n_([eu.Jq("instruction"),eu.gM("space")])},AllocateWithSeed:{index:9,layout:eu.n_([eu.Jq("instruction"),rD("base"),rq("seed"),eu.gM("space"),rD("programId")])},AssignWithSeed:{index:10,layout:eu.n_([eu.Jq("instruction"),rD("base"),rq("seed"),rD("programId")])},TransferWithSeed:{index:11,layout:eu.n_([eu.Jq("instruction"),ng("lamports"),rq("seed"),rD("programId")])},UpgradeNonceAccount:{index:12,layout:eu.n_([eu.Jq("instruction")])}}),nv=function(){function t(){o(this,t)}return c(t,null,[{key:"createAccount",value:function(t){var e=nc(nm.Create,{lamports:t.lamports,space:t.space,programId:rI(t.programId.toBuffer())});return new r5({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}},{key:"transfer",value:function(t){var e,r;return"basePubkey"in t?(e=nc(nm.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:rI(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]):(e=nc(nm.Transfer,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]),new r5({keys:r,programId:this.programId,data:e})}},{key:"assign",value:function(t){var e,r;return"basePubkey"in t?(e=nc(nm.AssignWithSeed,{base:rI(t.basePubkey.toBuffer()),seed:t.seed,programId:rI(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=nc(nm.Assign,{programId:rI(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new r5({keys:r,programId:this.programId,data:e})}},{key:"createAccountWithSeed",value:function(t){var e=nc(nm.CreateWithSeed,{base:rI(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:rI(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&r.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new r5({keys:r,programId:this.programId,data:e})}},{key:"createNonceAccount",value:function(e){var r=new r7;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:nd,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:nd,programId:this.programId}));var n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}},{key:"nonceInitialize",value:function(t){var e=nc(nm.InitializeNonceAccount,{authorized:rI(t.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:nr,isSigner:!1,isWritable:!1},{pubkey:nn,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new r5(r)}},{key:"nonceAdvance",value:function(t){var e=nc(nm.AdvanceNonceAccount),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:nr,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new r5(r)}},{key:"nonceWithdraw",value:function(t){var e=nc(nm.WithdrawNonceAccount,{lamports:t.lamports});return new r5({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:nr,isSigner:!1,isWritable:!1},{pubkey:nn,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}},{key:"nonceAuthorize",value:function(t){var e=nc(nm.AuthorizeNonceAccount,{authorized:rI(t.newAuthorizedPubkey.toBuffer())});return new r5({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}},{key:"allocate",value:function(t){var e,r;return"basePubkey"in t?(e=nc(nm.AllocateWithSeed,{base:rI(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:rI(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=nc(nm.Allocate,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new r5({keys:r,programId:this.programId,data:e})}}]),t}();function nb(){nb=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(l){c=function(t,e,r){return t[e]=r}}function h(t,e,r,i){var o,a,s,u,c=Object.create((e&&e.prototype instanceof p?e:p).prototype);return n(c,"_invoke",{value:(o=t,a=r,s=new A(i||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return M()}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r){var n=S(r,s);if(n){if(n===d)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u="executing";var i=f(o,a,s);if("normal"===i.type){if(u=s.done?"completed":"suspendedYield",i.arg===d)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(u="completed",s.method="throw",s.arg=i.arg)}})}),c}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=h;var d={};function p(){}function y(){}function g(){}var m={};c(m,o,function(){return this});var v=Object.getPrototypeOf,b=v&&v(v(I([])));b&&b!==e&&r.call(b,o)&&(m=b);var w=g.prototype=p.prototype=Object.create(m);function k(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function x(t,e){var i;n(this,"_invoke",{value:function(n,o){function s(){return new e(function(i,s){!function n(i,o,s,u){var c=f(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==a(h)&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):e.resolve(h).then(function(t){l.value=t,s(l)},function(t){return n("throw",t,s,u)})}u(c.arg)}(n,o,i,s)})}return i=i?i.then(s,s):s()}})}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+r+"' method")),d;var i=f(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,d)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function I(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return y.prototype=g,n(w,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:y,configurable:!0}),y.displayName=c(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(x.prototype),c(x.prototype,s,function(){return this}),t.AsyncIterator=x,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new x(h(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(w),c(w,u,"Generator"),c(w,o,function(){return this}),c(w,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;_(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:I(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}nv.programId=new rT("11111111111111111111111111111111"),function(){var t;function e(){o(this,e)}return c(e,null,[{key:"getMinNumSignatures",value:function(t){return 2*(Math.ceil(t/e.chunkSize)+1+1)}},{key:"load",value:(t=t0(nb().mark(function t(r,n,i,o,a){var s,u,c,h,f,d,p,y,g,m,v,b,w,k,x,S,E,_,A,I,M;return nb().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getMinimumBalanceForRentExemption(a.length);case 2:return s=t.sent,t.next=5,r.getAccountInfo(i.publicKey,"confirmed");case 5:if(u=t.sent,c=null,!(null!==u)){t.next=16;break}if(!u.executable){t.next=11;break}return console.error("Program load failed, account is already executable"),t.abrupt("return",!1);case 11:u.data.length!==a.length&&(c=c||new r7).add(nv.allocate({accountPubkey:i.publicKey,space:a.length})),u.owner.equals(o)||(c=c||new r7).add(nv.assign({accountPubkey:i.publicKey,programId:o})),u.lamports<s&&(c=c||new r7).add(nv.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:s-u.lamports})),t.next=17;break;case 16:c=new r7().add(nv.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:s>0?s:1,space:a.length,programId:o}));case 17:if(!(null!==c)){t.next=20;break}return t.next=20,na(r,c,[n,i],{commitment:"confirmed"});case 20:h=eu.n_([eu.Jq("instruction"),eu.Jq("offset"),eu.Jq("bytesLength"),eu.Jq("bytesLengthPadding"),eu.A9(eu.u8("byte"),eu.cv(eu.Jq(),-8),"bytes")]),f=e.chunkSize,d=0,p=a,y=[];case 25:if(!(p.length>0)){t.next=39;break}if(g=p.slice(0,f),m=l.Buffer.alloc(f+16),h.encode({instruction:0,offset:d,bytes:g,bytesLength:0,bytesLengthPadding:0},m),v=new r7().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:m}),y.push(na(r,v,[n,i],{commitment:"confirmed"})),!r._rpcEndpoint.includes("solana.com")){t.next=35;break}return b=4,t.next=35,nu(1e3/b);case 35:d+=f,p=p.slice(f),t.next=25;break;case 39:return t.next=41,Promise.all(y);case 41:return w=eu.n_([eu.Jq("instruction")]),k=l.Buffer.alloc(w.span),w.encode({instruction:1},k),x=new r7().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:nn,isSigner:!1,isWritable:!1}],programId:o,data:k}),S="processed",t.next=48,r.sendTransaction(x,[n,i],{preflightCommitment:S});case 48:return E=t.sent,t.next=51,r.confirmTransaction({signature:E,lastValidBlockHeight:x.lastValidBlockHeight,blockhash:x.recentBlockhash},S);case 51:if(A=(_=t.sent).context,!(I=_.value).err){t.next=56;break}throw Error("Transaction ".concat(E," failed (").concat(JSON.stringify(I),")"));case 56:return t.prev=57,t.next=60,r.getSlot({commitment:S});case 60:if(!(t.sent>A.slot)){t.next=63;break}return t.abrupt("break",71);case 63:t.next=67;break;case 65:t.prev=65,t.t0=t.catch(57);case 67:return t.next=69,new Promise(function(t){return setTimeout(t,Math.round(200))});case 69:t.next=56;break;case 71:return t.abrupt("return",!0);case 72:case"end":return t.stop()}},t,null,[[57,65]])})),function(e,r,n,i,o){return t.apply(this,arguments)})}]),e}().chunkSize=932,new rT("BPFLoader2111111111111111111111111111111111");var nw,nk=Object.prototype.toString,nx=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},nS=(nw=function(t){var e=function t(e,r){var n,i,o,a,s,u,c;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"==typeof e.toJSON)return t(e.toJSON(),r);if("[object Array]"===(c=nk.call(e))){for(n=0,o="[",i=e.length-1;n<i;n++)o+=t(e[n],!0)+",";return i>-1&&(o+=t(e[n],!0)),o+"]"}if("[object Object]"!==c)return JSON.stringify(e);for(i=(a=nx(e).sort()).length,o="",n=0;n<i;)void 0!==(u=t(e[s=a[n]],!1))&&(o&&(o+=","),o+=JSON.stringify(s)+":"+u),n++;return"{"+o+"}";case"function":case"undefined":return r?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}(t,!1);if(void 0!==e)return""+e},nw.__esModule&&Object.prototype.hasOwnProperty.call(nw,"default"))?nw.default:nw;function nE(t){for(var e=0;t>1;)t/=2,e++;return e}var n_=function(){function t(e,r,n,i,a){o(this,t),this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=a}return c(t,[{key:"getEpoch",value:function(t){return this.getEpochAndSlotIndex(t)[0]}},{key:"getEpochAndSlotIndex",value:function(t){if(t<this.firstNormalSlot){var e,r=nE(0===(e=t+32+1)?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,(e|=e>>32)+1))-nE(32)-1,n=this.getSlotsInEpoch(r);return[r,t-(n-32)]}var i,o=t-this.firstNormalSlot,a=Math.floor(o/this.slotsPerEpoch);return[this.firstNormalEpoch+a,o%this.slotsPerEpoch]}},{key:"getFirstSlotInEpoch",value:function(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*32:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}},{key:"getLastSlotInEpoch",value:function(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}},{key:"getSlotsInEpoch",value:function(t){return t<this.firstNormalEpoch?Math.pow(2,t+nE(32)):this.slotsPerEpoch}}]),t}();function nA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=t8(t);if(e){var i=t8(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return t6(this,r)}}var nI=function(t){t2(r,t);var e=nA(r);function r(t,n){var i;return o(this,r),(i=e.call(this,t)).logs=void 0,i.logs=n,i}return c(r)}(eF(Error)),nM=function(t){t2(r,t);var e=nA(r);function r(t,n){var i,a=t.code,s=t.message,u=t.data;return o(this,r),(i=e.call(this,null!=n?"".concat(n,": ").concat(s):s)).code=void 0,i.data=void 0,i.code=a,i.data=u,i.name="SolanaJSONRPCError",i}return c(r)}(eF(Error)),nO=globalThis.fetch;function nL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}var nB=function(t){t2(i,t);var e,r,n=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=t8(i);if(r){var n=t8(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return t6(this,t)});function i(t,e,r){o(this,i);var a,s=function(t){var r=(0,eY.Z)(t,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nL(Object(r),!0).forEach(function(e){ed(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nL(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3},e));return"socket"in r?a.underlyingSocket=r.socket:a.underlyingSocket=r,r};return(a=n.call(this,s,t,e,r)).underlyingSocket=void 0,a}return c(i,[{key:"call",value:function(){for(var t,e,r=null===(t=this.underlyingSocket)||void 0===t?void 0:t.readyState,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return 1===r?(e=eH(t8(i.prototype),"call",this)).call.apply(e,[this].concat(o)):Promise.reject(Error("Tried to call a JSON-RPC method `"+o[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},{key:"notify",value:function(){for(var t,e,r=null===(t=this.underlyingSocket)||void 0===t?void 0:t.readyState,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return 1===r?(e=eH(t8(i.prototype),"notify",this)).call.apply(e,[this].concat(o)):Promise.reject(Error("Tried to send a JSON-RPC notification `"+o[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}]),i}(eG.Z),nT=function(){function t(e){o(this,t),this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}return c(t,[{key:"isActive",value:function(){var t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}}],[{key:"deserialize",value:function(t){var e=function(t,e){var r;try{r=t.layout.decode(e)}catch(n){throw Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw Error("invalid account data; account type mismatch ".concat(r.typeIndex," != ").concat(t.index));return r}(nN,t),r=t.length-56;rH(r>=0,"lookup table is invalid"),rH(r%32==0,"lookup table is invalid");var n=eu.n_([eu.A9(rD(),r/32,"addresses")]).decode(t.slice(56)).addresses;return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new rT(e.authority[0]):void 0,addresses:n.map(function(t){return new rT(t)})}}}]),t}(),nN={index:1,layout:eu.n_([eu.Jq("typeIndex"),ng("deactivationSlot"),eu._O("lastExtendedSlot"),eu.u8("lastExtendedStartIndex"),eu.u8(),eu.A9(rD(),eu.cv(eu.u8(),-1),"authority")])},nj=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,nP=["commitment"],nC=["encoding"],nR=["commitment"],nU=["commitment"];function nz(){nz=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(l){c=function(t,e,r){return t[e]=r}}function h(t,e,r,i){var o,a,s,u,c=Object.create((e&&e.prototype instanceof p?e:p).prototype);return n(c,"_invoke",{value:(o=t,a=r,s=new A(i||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return M()}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r){var n=S(r,s);if(n){if(n===d)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u="executing";var i=f(o,a,s);if("normal"===i.type){if(u=s.done?"completed":"suspendedYield",i.arg===d)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(u="completed",s.method="throw",s.arg=i.arg)}})}),c}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=h;var d={};function p(){}function y(){}function g(){}var m={};c(m,o,function(){return this});var v=Object.getPrototypeOf,b=v&&v(v(I([])));b&&b!==e&&r.call(b,o)&&(m=b);var w=g.prototype=p.prototype=Object.create(m);function k(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function x(t,e){var i;n(this,"_invoke",{value:function(n,o){function s(){return new e(function(i,s){!function n(i,o,s,u){var c=f(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==a(h)&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):e.resolve(h).then(function(t){l.value=t,s(l)},function(t){return n("throw",t,s,u)})}u(c.arg)}(n,o,i,s)})}return i=i?i.then(s,s):s()}})}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+r+"' method")),d;var i=f(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,d)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function I(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return y.prototype=g,n(w,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:y,configurable:!0}),y.displayName=c(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(x.prototype),c(x.prototype,s,function(){return this}),t.AsyncIterator=x,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new x(h(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(w),c(w,u,"Generator"),c(w,o,function(){return this}),c(w,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;_(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:I(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function nD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function nW(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nD(Object(r),!0).forEach(function(e){ed(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var nq=eD(eO(rT),eP(),function(t){return new rT(t)}),nK=eC([eP(),eL("base64")]),nF=eD(eO(l.Buffer),nK,function(t){return l.Buffer.from(t[0],"base64")});function nH(t){if("string"==typeof t)e=t;else if(t){var e,r,n=t.commitment,i=ey(t,nP);e=n,r=i}return{commitment:e,config:r}}function nG(t){return eU([eR({jsonrpc:eL("2.0"),id:eP(),result:t}),eR({jsonrpc:eL("2.0"),id:eP(),error:eR({code:ez(),message:eP(),data:eN(eA("any",()=>!0))})})])}var nY=nG(ez());function nV(t){return eD(nG(t),nY,function(e){return"error"in e?e:nW(nW({},e),{},{result:eS(e.result,t)})})}function n$(t){return nV(eR({context:eR({slot:eT()}),value:t}))}function nZ(t){return eR({context:eR({slot:eT()}),value:t})}function nJ(t,e){return 0===t?new rQ({header:e.header,staticAccountKeys:e.accountKeys.map(function(t){return new rT(t)}),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(function(t){return{programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:t7().decode(t.data)}}),addressTableLookups:e.addressTableLookups}):new r$(e)}var nQ=eR({foundation:eT(),foundationTerm:eT(),initial:eT(),taper:eT(),terminal:eT()}),nX=nV(eI(eB(eR({epoch:eT(),effectiveSlot:eT(),amount:eT(),postBalance:eT(),commission:eN(eB(eT()))})))),n0=eI(eR({slot:eT(),prioritizationFee:eT()})),n1=eR({total:eT(),validator:eT(),foundation:eT(),epoch:eT()}),n2=eR({epoch:eT(),slotIndex:eT(),slotsInEpoch:eT(),absoluteSlot:eT(),blockHeight:eN(eT()),transactionCount:eN(eT())}),n6=eR({slotsPerEpoch:eT(),leaderScheduleSlotOffset:eT(),warmup:eM(),firstNormalEpoch:eT(),firstNormalSlot:eT()}),n8=ej(eP(),eI(eT())),n3=eB(eU([eR({}),eP()])),n4=eR({err:n3}),n5=eL("receivedSignature"),n7=eR({"solana-core":eP(),"feature-set":eN(eT())}),n9=n$(eR({err:eB(eU([eR({}),eP()])),logs:eB(eI(eP())),accounts:eN(eB(eI(eB(eR({executable:eM(),owner:eP(),lamports:eT(),data:eI(eP()),rentEpoch:eN(eT())}))))),unitsConsumed:eN(eT()),returnData:eN(eB(eR({programId:eP(),data:eC([eP(),eL("base64")])})))})),it=n$(eR({byIdentity:ej(eP(),eI(eT())),range:eR({firstSlot:eT(),lastSlot:eT()})})),ie=nV(nQ),ir=nV(n1),ii=nV(n0),io=nV(n2),ia=nV(n6),is=nV(n8),iu=nV(eT()),ic=n$(eR({total:eT(),circulating:eT(),nonCirculating:eT(),nonCirculatingAccounts:eI(nq)})),il=eR({amount:eP(),uiAmount:eB(eT()),decimals:eT(),uiAmountString:eN(eP())}),ih=n$(eI(eR({address:nq,amount:eP(),uiAmount:eB(eT()),decimals:eT(),uiAmountString:eN(eP())}))),id=n$(eI(eR({pubkey:nq,account:eR({executable:eM(),owner:nq,lamports:eT(),data:nF,rentEpoch:eT()})}))),ip=eR({program:eP(),parsed:ez(),space:eT()}),iy=n$(eI(eR({pubkey:nq,account:eR({executable:eM(),owner:nq,lamports:eT(),data:ip,rentEpoch:eT()})}))),ig=n$(eI(eR({lamports:eT(),address:nq}))),im=eR({executable:eM(),owner:nq,lamports:eT(),data:nF,rentEpoch:eT()}),iv=eR({pubkey:nq,account:im}),ib=eD(eU([eO(l.Buffer),ip]),eU([nK,ip]),function(t){return Array.isArray(t)?eS(t,nF):t}),iw=eR({executable:eM(),owner:nq,lamports:eT(),data:ib,rentEpoch:eT()}),ik=eR({pubkey:nq,account:iw}),ix=eR({state:eU([eL("active"),eL("inactive"),eL("activating"),eL("deactivating")]),active:eT(),inactive:eT()}),iS=nV(eI(eR({signature:eP(),slot:eT(),err:n3,memo:eB(eP()),blockTime:eN(eB(eT()))}))),iE=nV(eI(eR({signature:eP(),slot:eT(),err:n3,memo:eB(eP()),blockTime:eN(eB(eT()))}))),i_=eR({subscription:eT(),result:nZ(im)}),iA=eR({pubkey:nq,account:im}),iI=eR({subscription:eT(),result:nZ(iA)}),iM=eR({parent:eT(),slot:eT(),root:eT()}),iO=eR({subscription:eT(),result:iM}),iL=eU([eR({type:eU([eL("firstShredReceived"),eL("completed"),eL("optimisticConfirmation"),eL("root")]),slot:eT(),timestamp:eT()}),eR({type:eL("createdBank"),parent:eT(),slot:eT(),timestamp:eT()}),eR({type:eL("frozen"),slot:eT(),timestamp:eT(),stats:eR({numTransactionEntries:eT(),numSuccessfulTransactions:eT(),numFailedTransactions:eT(),maxTransactionsPerEntry:eT()})}),eR({type:eL("dead"),slot:eT(),timestamp:eT(),err:eP()})]),iB=eR({subscription:eT(),result:iL}),iT=eR({subscription:eT(),result:nZ(eU([n4,n5]))}),iN=eR({subscription:eT(),result:eT()}),ij=eR({pubkey:eP(),gossip:eB(eP()),tpu:eB(eP()),rpc:eB(eP()),version:eB(eP())}),iP=eR({votePubkey:eP(),nodePubkey:eP(),activatedStake:eT(),epochVoteAccount:eM(),epochCredits:eI(eC([eT(),eT(),eT()])),commission:eT(),lastVote:eT(),rootSlot:eB(eT())}),iC=nV(eR({current:eI(iP),delinquent:eI(iP)})),iR=eU([eL("processed"),eL("confirmed"),eL("finalized")]),iU=eR({slot:eT(),confirmations:eB(eT()),err:n3,confirmationStatus:eN(iR)}),iz=n$(eI(eB(iU))),iD=nV(eT()),iW=eR({accountKey:nq,writableIndexes:eI(eT()),readonlyIndexes:eI(eT())}),iq=eR({signatures:eI(eP()),message:eR({accountKeys:eI(eP()),header:eR({numRequiredSignatures:eT(),numReadonlySignedAccounts:eT(),numReadonlyUnsignedAccounts:eT()}),instructions:eI(eR({accounts:eI(eT()),data:eP(),programIdIndex:eT()})),recentBlockhash:eP(),addressTableLookups:eN(eI(iW))})}),iK=eR({pubkey:nq,signer:eM(),writable:eM(),source:eN(eU([eL("transaction"),eL("lookupTable")]))}),iF=eR({accountKeys:eI(iK),signatures:eI(eP())}),iH=eR({parsed:ez(),program:eP(),programId:nq}),iG=eR({accounts:eI(nq),data:eP(),programId:nq}),iY=eU([iG,iH]),iV=eU([eR({parsed:ez(),program:eP(),programId:eP()}),eR({accounts:eI(eP()),data:eP(),programId:eP()})]),i$=eD(iY,iV,function(t){return"accounts"in t?eS(t,iG):eS(t,iH)}),iZ=eR({signatures:eI(eP()),message:eR({accountKeys:eI(iK),instructions:eI(i$),recentBlockhash:eP(),addressTableLookups:eN(eB(eI(iW)))})}),iJ=eR({accountIndex:eT(),mint:eP(),owner:eN(eP()),uiTokenAmount:il}),iQ=eR({writable:eI(nq),readonly:eI(nq)}),iX=eR({err:n3,fee:eT(),innerInstructions:eN(eB(eI(eR({index:eT(),instructions:eI(eR({accounts:eI(eT()),data:eP(),programIdIndex:eT()}))})))),preBalances:eI(eT()),postBalances:eI(eT()),logMessages:eN(eB(eI(eP()))),preTokenBalances:eN(eB(eI(iJ))),postTokenBalances:eN(eB(eI(iJ))),loadedAddresses:eN(iQ),computeUnitsConsumed:eN(eT())}),i0=eR({err:n3,fee:eT(),innerInstructions:eN(eB(eI(eR({index:eT(),instructions:eI(i$)})))),preBalances:eI(eT()),postBalances:eI(eT()),logMessages:eN(eB(eI(eP()))),preTokenBalances:eN(eB(eI(iJ))),postTokenBalances:eN(eB(eI(iJ))),loadedAddresses:eN(iQ),computeUnitsConsumed:eN(eT())}),i1=eU([eL(0),eL("legacy")]),i2=eR({pubkey:eP(),lamports:eT(),postBalance:eB(eT()),rewardType:eB(eP()),commission:eN(eB(eT()))}),i6=nV(eB(eR({blockhash:eP(),previousBlockhash:eP(),parentSlot:eT(),transactions:eI(eR({transaction:iq,meta:eB(iX),version:eN(i1)})),rewards:eN(eI(i2)),blockTime:eB(eT()),blockHeight:eB(eT())}))),i8=nV(eB(eR({blockhash:eP(),previousBlockhash:eP(),parentSlot:eT(),rewards:eN(eI(i2)),blockTime:eB(eT()),blockHeight:eB(eT())}))),i3=nV(eB(eR({blockhash:eP(),previousBlockhash:eP(),parentSlot:eT(),transactions:eI(eR({transaction:iF,meta:eB(iX),version:eN(i1)})),rewards:eN(eI(i2)),blockTime:eB(eT()),blockHeight:eB(eT())}))),i4=nV(eB(eR({blockhash:eP(),previousBlockhash:eP(),parentSlot:eT(),transactions:eI(eR({transaction:iZ,meta:eB(i0),version:eN(i1)})),rewards:eN(eI(i2)),blockTime:eB(eT()),blockHeight:eB(eT())}))),i5=nV(eB(eR({blockhash:eP(),previousBlockhash:eP(),parentSlot:eT(),transactions:eI(eR({transaction:iF,meta:eB(i0),version:eN(i1)})),rewards:eN(eI(i2)),blockTime:eB(eT()),blockHeight:eB(eT())}))),i7=nV(eB(eR({blockhash:eP(),previousBlockhash:eP(),parentSlot:eT(),rewards:eN(eI(i2)),blockTime:eB(eT()),blockHeight:eB(eT())}))),i9=nV(eB(eR({blockhash:eP(),previousBlockhash:eP(),parentSlot:eT(),transactions:eI(eR({transaction:iq,meta:eB(iX)})),rewards:eN(eI(i2)),blockTime:eB(eT())}))),ot=nV(eB(eR({blockhash:eP(),previousBlockhash:eP(),parentSlot:eT(),signatures:eI(eP()),blockTime:eB(eT())}))),oe=nV(eB(eR({slot:eT(),meta:iX,blockTime:eN(eB(eT())),transaction:iq,version:eN(i1)}))),or=nV(eB(eR({slot:eT(),transaction:iZ,meta:eB(i0),blockTime:eN(eB(eT())),version:eN(i1)}))),on=n$(eR({blockhash:eP(),feeCalculator:eR({lamportsPerSignature:eT()})})),oi=n$(eR({blockhash:eP(),lastValidBlockHeight:eT()})),oo=n$(eM()),oa=eR({slot:eT(),numTransactions:eT(),numSlots:eT(),samplePeriodSecs:eT()}),os=nV(eI(oa)),ou=n$(eB(eR({feeCalculator:eR({lamportsPerSignature:eT()})}))),oc=nV(eP()),ol=nV(eP()),oh=eR({err:n3,logs:eI(eP()),signature:eP()}),of=eR({result:nZ(oh),subscription:eT()}),od={"solana-client":"js/".concat("0.0.0-development")},op=function(){var t,e,r,n,i,s,u,h,f,d,p,y,g,m,v,b,w,k,x,S,E,_,A,I,M,O,L,B,T,N,j,P,C,R,U,z,D,W,q,K,F,H,G,Y,V,$,Z,J,Q,X,tt,te,tr,tn,ti,to,ta,ts,tu,tc,tl,th,tf,td,tp,ty,tg,tm,tv,tb,tw,tk,tx,tS,tE,t_,tA,tI,tM,tO,tL,tB,tT,tN,tj,tP,tC,tR,tU;function tz(t,e){var r,n,i,a,s,u,c,l,h,f,d,p,y,g,m,v,b,w,k,x,S,E=this;o(this,tz),this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(c={},l=t0(nz().mark(function t(e){var r,n,i,o,a,s;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=nH(e)).commitment,o=n.config,c[s=nS(a=E._buildArgs([],i,void 0,o))]=null!==(r=c[s])&&void 0!==r?r:t0(nz().mark(function t(){var e,r;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E._rpcRequest("getBlockHeight",a);case 3:if(!("error"in(r=eS(t.sent,nV(eT()))))){t.next=7;break}throw new nM(r.error,"failed to get block height information");case 7:return t.abrupt("return",r.result);case 8:return t.prev=8,delete c[s],t.finish(8);case 11:case"end":return t.stop()}},t,null,[[0,,8,11]])}))(),t.next=6,c[s];case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t)})),function(t){return l.apply(this,arguments)}),e&&"string"==typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,r=e.wsEndpoint,n=e.httpHeaders,i=e.fetch,a=e.fetchMiddleware,s=e.disableRetryOnRateLimit,u=e.httpAgent),this._rpcEndpoint=function(t){if(!1===/^https?:/.test(t))throw TypeError("Endpoint URL must start with `http:` or `https:`.");return t}(t),this._rpcWsEndpoint=r||function(t){var e=t.match(nj);if(null==e)throw TypeError("Failed to validate endpoint URL `".concat(t,"`"));var r=eh(e,4);r[0];var n=r[1],i=r[2],o=r[3],a=t.startsWith("https:")?"wss:":"ws:",s=null==i?null:parseInt(i.slice(1),10),u=null==s?"":":".concat(s+1);return"".concat(a,"//").concat(n).concat(u).concat(o)}(t),this._rpcClient=(d=t,p=n,y=i,g=a,m=s,v=u,S=y||nO,null!=v&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),g&&(b=t0(nz().mark(function t(e,r){var n;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t,n){try{g(e,r,function(e,r){return t([e,r])})}catch(i){n(i)}});case 2:return n=t.sent,t.next=5,S.apply(void 0,ep(n));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t)})),x=function(t,e){return b.apply(this,arguments)}),new(eq())((w=t0(nz().mark(function t(e,r){var n,i,o,a,s;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n={method:"POST",body:e,agent:k,headers:Object.assign({"Content-Type":"application/json"},p||{},od)},t.prev=1,i=5,a=500;case 4:if(!x){t.next=10;break}return t.next=7,x(d,n);case 7:o=t.sent,t.next=13;break;case 10:return t.next=12,S(d,n);case 12:o=t.sent;case 13:if(!(429!==o.status)){t.next=15;break}return t.abrupt("break",26);case 15:if(!0!==m){t.next=17;break}return t.abrupt("break",26);case 17:if(0!=(i-=1)){t.next=20;break}return t.abrupt("break",26);case 20:return console.log("Server responded with ".concat(o.status," ").concat(o.statusText,".  Retrying after ").concat(a,"ms delay...")),t.next=23,nu(a);case 23:a*=2;case 24:t.next=4;break;case 26:return t.next=28,o.text();case 28:s=t.sent,o.ok?r(null,s):r(Error("".concat(o.status," ").concat(o.statusText,": ").concat(s))),t.next=35;break;case 32:t.prev=32,t.t0=t.catch(1),t.t0 instanceof Error&&r(t.t0);case 35:case"end":return t.stop()}},t,null,[[1,32]])})),function(t,e){return w.apply(this,arguments)}),{})),this._rpcRequest=(h=this._rpcClient,function(t,e){return new Promise(function(r,n){h.request(t,e,function(t,e){if(t){n(t);return}r(e)})})}),this._rpcBatchRequest=(f=this._rpcClient,function(t){return new Promise(function(e,r){0===t.length&&e([]);var n=t.map(function(t){return f.request(t.methodName,t.args)});f.request(n,function(t,n){if(t){r(t);return}e(n)})})}),this._rpcWebSocket=new nB(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}return c(tz,[{key:"commitment",get:function(){return this._commitment}},{key:"rpcEndpoint",get:function(){return this._rpcEndpoint}},{key:"getBalanceAndContext",value:(t=t0(nz().mark(function t(e,r){var n,i,o,a,s,u;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=nH(r)).commitment,o=n.config,a=this._buildArgs([e.toBase58()],i,void 0,o),t.next=4,this._rpcRequest("getBalance",a);case 4:if(!("error"in(u=eS(t.sent,n$(eT()))))){t.next=8;break}throw new nM(u.error,"failed to get balance for ".concat(e.toBase58()));case 8:return t.abrupt("return",u.result);case 9:case"end":return t.stop()}},t,this)})),function(e,r){return t.apply(this,arguments)})},{key:"getBalance",value:(e=t0(nz().mark(function t(e,r){return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getBalanceAndContext(e,r).then(function(t){return t.value}).catch(function(t){throw Error("failed to get balance of account "+e.toBase58()+": "+t)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(t,r){return e.apply(this,arguments)})},{key:"getBlockTime",value:(r=t0(nz().mark(function t(e){var r,n;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getBlockTime",[e]);case 2:if(!("error"in(n=eS(t.sent,nV(eB(eT())))))){t.next=6;break}throw new nM(n.error,"failed to get block time for slot ".concat(e));case 6:return t.abrupt("return",n.result);case 7:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)})},{key:"getMinimumLedgerSlot",value:(n=t0(nz().mark(function t(){var e,r;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("minimumLedgerSlot",[]);case 2:if(!("error"in(r=eS(t.sent,nV(eT()))))){t.next=6;break}throw new nM(r.error,"failed to get minimum ledger slot");case 6:return t.abrupt("return",r.result);case 7:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)})},{key:"getFirstAvailableBlock",value:(i=t0(nz().mark(function t(){var e,r;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getFirstAvailableBlock",[]);case 2:if(!("error"in(r=eS(t.sent,iu)))){t.next=6;break}throw new nM(r.error,"failed to get first available block");case 6:return t.abrupt("return",r.result);case 7:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},{key:"getSupply",value:(s=t0(nz().mark(function t(e){var r,n,i;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={},r="string"==typeof e?{commitment:e}:e?nW(nW({},e),{},{commitment:e&&e.commitment||this.commitment}):{commitment:this.commitment},t.next=4,this._rpcRequest("getSupply",[r]);case 4:if(!("error"in(i=eS(t.sent,ic)))){t.next=8;break}throw new nM(i.error,"failed to get supply");case 8:return t.abrupt("return",i.result);case 9:case"end":return t.stop()}},t,this)})),function(t){return s.apply(this,arguments)})},{key:"getTokenSupply",value:(u=t0(nz().mark(function t(e,r){var n,i,o;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgs([e.toBase58()],r),t.next=3,this._rpcRequest("getTokenSupply",n);case 3:if(!("error"in(o=eS(t.sent,n$(il))))){t.next=7;break}throw new nM(o.error,"failed to get token supply");case 7:return t.abrupt("return",o.result);case 8:case"end":return t.stop()}},t,this)})),function(t,e){return u.apply(this,arguments)})},{key:"getTokenAccountBalance",value:(h=t0(nz().mark(function t(e,r){var n,i,o;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgs([e.toBase58()],r),t.next=3,this._rpcRequest("getTokenAccountBalance",n);case 3:if(!("error"in(o=eS(t.sent,n$(il))))){t.next=7;break}throw new nM(o.error,"failed to get token account balance");case 7:return t.abrupt("return",o.result);case 8:case"end":return t.stop()}},t,this)})),function(t,e){return h.apply(this,arguments)})},{key:"getTokenAccountsByOwner",value:(f=t0(nz().mark(function t(e,r,n){var i,o,a,s,u,c,l;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=(i=nH(n)).commitment,a=i.config,s=[e.toBase58()],"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()}),u=this._buildArgs(s,o,"base64",a),t.next=6,this._rpcRequest("getTokenAccountsByOwner",u);case 6:if(!("error"in(l=eS(t.sent,id)))){t.next=10;break}throw new nM(l.error,"failed to get token accounts owned by account ".concat(e.toBase58()));case 10:return t.abrupt("return",l.result);case 11:case"end":return t.stop()}},t,this)})),function(t,e,r){return f.apply(this,arguments)})},{key:"getParsedTokenAccountsByOwner",value:(d=t0(nz().mark(function t(e,r,n){var i,o,a,s;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=[e.toBase58()],"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()}),o=this._buildArgs(i,n,"jsonParsed"),t.next=5,this._rpcRequest("getTokenAccountsByOwner",o);case 5:if(!("error"in(s=eS(t.sent,iy)))){t.next=9;break}throw new nM(s.error,"failed to get token accounts owned by account ".concat(e.toBase58()));case 9:return t.abrupt("return",s.result);case 10:case"end":return t.stop()}},t,this)})),function(t,e,r){return d.apply(this,arguments)})},{key:"getLargestAccounts",value:(p=t0(nz().mark(function t(e){var r,n,i,o;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(r=nW(nW({},e),{},{commitment:e&&e.commitment||this.commitment})).filter||r.commitment?[r]:[],t.next=4,this._rpcRequest("getLargestAccounts",n);case 4:if(!("error"in(o=eS(t.sent,ig)))){t.next=8;break}throw new nM(o.error,"failed to get largest accounts");case 8:return t.abrupt("return",o.result);case 9:case"end":return t.stop()}},t,this)})),function(t){return p.apply(this,arguments)})},{key:"getTokenLargestAccounts",value:(y=t0(nz().mark(function t(e,r){var n,i,o;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgs([e.toBase58()],r),t.next=3,this._rpcRequest("getTokenLargestAccounts",n);case 3:if(!("error"in(o=eS(t.sent,ih)))){t.next=7;break}throw new nM(o.error,"failed to get token largest accounts");case 7:return t.abrupt("return",o.result);case 8:case"end":return t.stop()}},t,this)})),function(t,e){return y.apply(this,arguments)})},{key:"getAccountInfoAndContext",value:(g=t0(nz().mark(function t(e,r){var n,i,o,a,s,u;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=nH(r)).commitment,o=n.config,a=this._buildArgs([e.toBase58()],i,"base64",o),t.next=4,this._rpcRequest("getAccountInfo",a);case 4:if(!("error"in(u=eS(t.sent,n$(eB(im)))))){t.next=8;break}throw new nM(u.error,"failed to get info about account ".concat(e.toBase58()));case 8:return t.abrupt("return",u.result);case 9:case"end":return t.stop()}},t,this)})),function(t,e){return g.apply(this,arguments)})},{key:"getParsedAccountInfo",value:(m=t0(nz().mark(function t(e,r){var n,i,o,a,s,u;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=nH(r)).commitment,o=n.config,a=this._buildArgs([e.toBase58()],i,"jsonParsed",o),t.next=4,this._rpcRequest("getAccountInfo",a);case 4:if(!("error"in(u=eS(t.sent,n$(eB(iw)))))){t.next=8;break}throw new nM(u.error,"failed to get info about account ".concat(e.toBase58()));case 8:return t.abrupt("return",u.result);case 9:case"end":return t.stop()}},t,this)})),function(t,e){return m.apply(this,arguments)})},{key:"getAccountInfo",value:(v=t0(nz().mark(function t(e,r){var n;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getAccountInfoAndContext(e,r);case 3:return n=t.sent,t.abrupt("return",n.value);case 7:throw t.prev=7,t.t0=t.catch(0),Error("failed to get info about account "+e.toBase58()+": "+t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(t,e){return v.apply(this,arguments)})},{key:"getMultipleParsedAccounts",value:(b=t0(nz().mark(function t(e,r){var n,i,o,a,s,u,c;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=nH(r)).commitment,o=n.config,a=e.map(function(t){return t.toBase58()}),s=this._buildArgs([a],i,"jsonParsed",o),t.next=5,this._rpcRequest("getMultipleAccounts",s);case 5:if(!("error"in(c=eS(t.sent,n$(eI(eB(iw))))))){t.next=9;break}throw new nM(c.error,"failed to get info for accounts ".concat(a));case 9:return t.abrupt("return",c.result);case 10:case"end":return t.stop()}},t,this)})),function(t,e){return b.apply(this,arguments)})},{key:"getMultipleAccountsInfoAndContext",value:(w=t0(nz().mark(function t(e,r){var n,i,o,a,s,u,c;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=nH(r)).commitment,o=n.config,a=e.map(function(t){return t.toBase58()}),s=this._buildArgs([a],i,"base64",o),t.next=5,this._rpcRequest("getMultipleAccounts",s);case 5:if(!("error"in(c=eS(t.sent,n$(eI(eB(im))))))){t.next=9;break}throw new nM(c.error,"failed to get info for accounts ".concat(a));case 9:return t.abrupt("return",c.result);case 10:case"end":return t.stop()}},t,this)})),function(t,e){return w.apply(this,arguments)})},{key:"getMultipleAccountsInfo",value:(k=t0(nz().mark(function t(e,r){var n;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getMultipleAccountsInfoAndContext(e,r);case 2:return n=t.sent,t.abrupt("return",n.value);case 4:case"end":return t.stop()}},t,this)})),function(t,e){return k.apply(this,arguments)})},{key:"getStakeActivation",value:(x=t0(nz().mark(function t(e,r,n){var i,o,a,s,u,c;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=(i=nH(r)).commitment,a=i.config,s=this._buildArgs([e.toBase58()],o,void 0,nW(nW({},a),{},{epoch:null!=n?n:null==a?void 0:a.epoch})),t.next=4,this._rpcRequest("getStakeActivation",s);case 4:if(!("error"in(c=eS(t.sent,nV(ix))))){t.next=8;break}throw new nM(c.error,"failed to get Stake Activation ".concat(e.toBase58()));case 8:return t.abrupt("return",c.result);case 9:case"end":return t.stop()}},t,this)})),function(t,e,r){return x.apply(this,arguments)})},{key:"getProgramAccounts",value:(S=t0(nz().mark(function t(e,r){var n,i,o,a,s,u,c,l,h,f;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=nH(r)).commitment,s=(a=n.config||{}).encoding,u=ey(a,nC),c=this._buildArgs([e.toBase58()],i,s||"base64",u),t.next=5,this._rpcRequest("getProgramAccounts",c);case 5:if(l=t.sent,h=eI(iv),!("error"in(f=!0===u.withContext?eS(l,n$(h)):eS(l,nV(h))))){t.next=10;break}throw new nM(f.error,"failed to get accounts owned by program ".concat(e.toBase58()));case 10:return t.abrupt("return",f.result);case 11:case"end":return t.stop()}},t,this)})),function(t,e){return S.apply(this,arguments)})},{key:"getParsedProgramAccounts",value:(E=t0(nz().mark(function t(e,r){var n,i,o,a,s,u;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=nH(r)).commitment,o=n.config,a=this._buildArgs([e.toBase58()],i,"jsonParsed",o),t.next=4,this._rpcRequest("getProgramAccounts",a);case 4:if(!("error"in(u=eS(t.sent,nV(eI(ik)))))){t.next=8;break}throw new nM(u.error,"failed to get accounts owned by program ".concat(e.toBase58()));case 8:return t.abrupt("return",u.result);case 9:case"end":return t.stop()}},t,this)})),function(t,e){return E.apply(this,arguments)})},{key:"confirmTransaction",value:(_=t0(nz().mark(function t(e,r){var n,i,o,a;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=4;break}n=e,t.next=8;break;case 4:if(!(null!==(i=(o=e).abortSignal)&&void 0!==i&&i.aborted)){t.next=7;break}return t.abrupt("return",Promise.reject(o.abortSignal.reason));case 7:n=o.signature;case 8:t.prev=8,a=t7().decode(n),t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(8),Error("signature must be base58 encoded: "+n);case 15:if(rH(64===a.length,"signature has invalid length"),"string"!=typeof e){t.next=22;break}return t.next=19,this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n});case 19:case 25:case 30:return t.abrupt("return",t.sent);case 22:if(!("lastValidBlockHeight"in e)){t.next=28;break}return t.next=25,this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e});case 28:return t.next=30,this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e});case 31:case"end":return t.stop()}},t,this,[[8,12]])})),function(t,e){return _.apply(this,arguments)})},{key:"getCancellationPromise",value:function(t){return new Promise(function(e,r){null!=t&&(t.aborted?r(t.reason):t.addEventListener("abort",function(){r(t.reason)}))})}},{key:"getTransactionConfirmationPromise",value:function(t){var e,r,n,i=this,o=t.commitment,a=t.signature,s=!1;return{abortConfirmation:function(){r&&(r(),r=void 0),null!=e&&(i.removeSignatureListener(e),e=void 0)},confirmationPromise:new Promise(function(t,n){try{e=i.onSignature(a,function(r,n){e=void 0,t({__type:r3.PROCESSED,response:{context:n,value:r}})},o);var u=new Promise(function(t){null==e?t():r=i._onSubscriptionStateChange(e,function(e){"subscribed"===e&&t()})});t0(nz().mark(function e(){var r,c,l;return nz().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u;case 2:if(!s){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,i.getSignatureStatus(a);case 6:if(r=e.sent,!s){e.next=9;break}return e.abrupt("return");case 9:if(null!=r){e.next=11;break}return e.abrupt("return");case 11:if(c=r.context,l=r.value,null!=l){e.next=14;break}return e.abrupt("return");case 14:if(!(null!=l&&l.err)){e.next=18;break}n(l.err),e.next=29;break;case 18:e.t0=o,e.next="confirmed"===e.t0?21:"single"===e.t0?21:"singleGossip"===e.t0?21:"finalized"===e.t0?24:"max"===e.t0?24:"root"===e.t0?24:("processed"===e.t0||e.t0,27);break;case 21:if("processed"!==l.confirmationStatus){e.next=23;break}return e.abrupt("return");case 23:case 26:return e.abrupt("break",27);case 24:if(!("processed"===l.confirmationStatus||"confirmed"===l.confirmationStatus)){e.next=26;break}return e.abrupt("return");case 27:s=!0,t({__type:r3.PROCESSED,response:{context:c,value:l}});case 29:case"end":return e.stop()}},e)}))()}catch(c){n(c)}})}}},{key:"confirmTransactionUsingBlockHeightExceedanceStrategy",value:(A=t0(nz().mark(function t(e){var r,n,i,o,a,s,u,c,l,h,f,d,p,y=this;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.commitment,i=(n=e.strategy).abortSignal,o=n.lastValidBlockHeight,a=n.signature,s=!1,u=new Promise(function(t){var e=function(){var t=t0(nz().mark(function t(){var e;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.getBlockHeight(r);case 3:return e=t.sent,t.abrupt("return",e);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",-1);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}();t0(nz().mark(function r(){var n;return nz().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e();case 2:if(n=r.sent,!s){r.next=5;break}return r.abrupt("return");case 5:if(!(n<=o)){r.next=17;break}return r.next=8,nu(1e3);case 8:if(!s){r.next=10;break}return r.abrupt("return");case 10:return r.next=12,e();case 12:if(n=r.sent,!s){r.next=15;break}return r.abrupt("return");case 15:r.next=5;break;case 17:t({__type:r3.BLOCKHEIGHT_EXCEEDED});case 18:case"end":return r.stop()}},r)}))()}),l=(c=this.getTransactionConfirmationPromise({commitment:r,signature:a})).abortConfirmation,h=c.confirmationPromise,f=this.getCancellationPromise(i),t.prev=5,t.next=8,Promise.race([f,h,u]);case 8:if((p=t.sent).__type!==r3.PROCESSED){t.next=13;break}d=p.response,t.next=14;break;case 13:throw new rP(a);case 14:return t.prev=14,s=!0,l(),t.finish(14);case 18:return t.abrupt("return",d);case 19:case"end":return t.stop()}},t,this,[[5,,14,18]])})),function(t){return A.apply(this,arguments)})},{key:"confirmTransactionUsingDurableNonceStrategy",value:(I=t0(nz().mark(function t(e){var r,n,i,o,a,s,u,c,l,h,f,d,p,y,g,m,v,b,w,k,x,S=this;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.commitment,i=(n=e.strategy).abortSignal,o=n.minContextSlot,a=n.nonceAccountPubkey,s=n.nonceValue,u=n.signature,c=!1,l=new Promise(function(t){var e=s,n=null,i=function(){var t=t0(nz().mark(function t(){var i,s,u;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.getNonceAndContext(a,{commitment:r,minContextSlot:o});case 3:return s=(i=t.sent).context,u=i.value,n=s.slot,t.abrupt("return",null==u?void 0:u.nonce);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",e);case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(){return t.apply(this,arguments)}}();t0(nz().mark(function r(){return nz().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i();case 2:if(e=r.sent,!c){r.next=5;break}return r.abrupt("return");case 5:if(!(s!==e)){r.next=9;break}return t({__type:r3.NONCE_INVALID,slotInWhichNonceDidAdvance:n}),r.abrupt("return");case 9:return r.next=11,nu(2e3);case 11:if(!c){r.next=13;break}return r.abrupt("return");case 13:return r.next=15,i();case 15:if(e=r.sent,!c){r.next=18;break}return r.abrupt("return");case 18:r.next=5;break;case 20:case"end":return r.stop()}},r)}))()}),f=(h=this.getTransactionConfirmationPromise({commitment:r,signature:u})).abortConfirmation,d=h.confirmationPromise,p=this.getCancellationPromise(i),t.prev=5,t.next=8,Promise.race([p,d,l]);case 8:if((g=t.sent).__type!==r3.PROCESSED){t.next=13;break}y=g.response,t.next=47;break;case 13:return t.next=16,this.getSignatureStatus(u);case 16:if(null!=(w=t.sent)){t.next=19;break}return t.abrupt("break",27);case 19:if(!(w.context.slot<(null!==(b=g.slotInWhichNonceDidAdvance)&&void 0!==b?b:o))){t.next=23;break}return t.next=22,nu(400);case 22:return t.abrupt("continue",13);case 23:return v=w,t.abrupt("break",27);case 27:if(!(null!==(m=v)&&void 0!==m&&m.value)){t.next=46;break}k=r||"finalized",x=v.value.confirmationStatus,t.t0=k,t.next="processed"===t.t0?33:"recent"===t.t0?33:"confirmed"===t.t0?36:"single"===t.t0?36:"singleGossip"===t.t0?36:"finalized"===t.t0?39:"max"===t.t0?39:"root"===t.t0?39:42;break;case 33:if(!("processed"!==x&&"confirmed"!==x&&"finalized"!==x)){t.next=35;break}throw new rR(u);case 35:case 38:case 41:return t.abrupt("break",43);case 36:if(!("confirmed"!==x&&"finalized"!==x)){t.next=38;break}throw new rR(u);case 39:if(!("finalized"!==x)){t.next=41;break}throw new rR(u);case 42:case 43:y={context:v.context,value:{err:v.value.err}},t.next=47;break;case 46:throw new rR(u);case 47:return t.prev=47,c=!0,f(),t.finish(47);case 51:return t.abrupt("return",y);case 52:case"end":return t.stop()}},t,this,[[5,,47,51]])})),function(t){return I.apply(this,arguments)})},{key:"confirmTransactionUsingLegacyTimeoutStrategy",value:(M=t0(nz().mark(function t(e){var r,n,i,o,a,s,u,c,l,h=this;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.commitment,n=e.signature,o=new Promise(function(t){var e=h._confirmTransactionInitialTimeout||6e4;switch(r){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":e=h._confirmTransactionInitialTimeout||3e4}i=setTimeout(function(){return t({__type:r3.TIMED_OUT,timeoutMs:e})},e)}),s=(a=this.getTransactionConfirmationPromise({commitment:r,signature:n})).abortConfirmation,u=a.confirmationPromise,t.prev=3,t.next=6,Promise.race([u,o]);case 6:if((l=t.sent).__type!==r3.PROCESSED){t.next=11;break}c=l.response,t.next=12;break;case 11:throw new rC(n,l.timeoutMs/1e3);case 12:return t.prev=12,clearTimeout(i),s(),t.finish(12);case 16:return t.abrupt("return",c);case 17:case"end":return t.stop()}},t,this,[[3,,12,16]])})),function(t){return M.apply(this,arguments)})},{key:"getClusterNodes",value:(O=t0(nz().mark(function t(){var e,r;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getClusterNodes",[]);case 2:if(!("error"in(r=eS(t.sent,nV(eI(ij)))))){t.next=6;break}throw new nM(r.error,"failed to get cluster nodes");case 6:return t.abrupt("return",r.result);case 7:case"end":return t.stop()}},t,this)})),function(){return O.apply(this,arguments)})},{key:"getVoteAccounts",value:(L=t0(nz().mark(function t(e){var r,n,i;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this._buildArgs([],e),t.next=3,this._rpcRequest("getVoteAccounts",r);case 3:if(!("error"in(i=eS(t.sent,iC)))){t.next=7;break}throw new nM(i.error,"failed to get vote accounts");case 7:return t.abrupt("return",i.result);case 8:case"end":return t.stop()}},t,this)})),function(t){return L.apply(this,arguments)})},{key:"getSlot",value:(B=t0(nz().mark(function t(e){var r,n,i,o,a,s;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(r=nH(e)).commitment,i=r.config,o=this._buildArgs([],n,void 0,i),t.next=4,this._rpcRequest("getSlot",o);case 4:if(!("error"in(s=eS(t.sent,nV(eT()))))){t.next=8;break}throw new nM(s.error,"failed to get slot");case 8:return t.abrupt("return",s.result);case 9:case"end":return t.stop()}},t,this)})),function(t){return B.apply(this,arguments)})},{key:"getSlotLeader",value:(T=t0(nz().mark(function t(e){var r,n,i,o,a,s;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(r=nH(e)).commitment,i=r.config,o=this._buildArgs([],n,void 0,i),t.next=4,this._rpcRequest("getSlotLeader",o);case 4:if(!("error"in(s=eS(t.sent,nV(eP()))))){t.next=8;break}throw new nM(s.error,"failed to get slot leader");case 8:return t.abrupt("return",s.result);case 9:case"end":return t.stop()}},t,this)})),function(t){return T.apply(this,arguments)})},{key:"getSlotLeaders",value:(N=t0(nz().mark(function t(e,r){var n,i,o;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[e,r],t.next=3,this._rpcRequest("getSlotLeaders",n);case 3:if(!("error"in(o=eS(t.sent,nV(eI(nq)))))){t.next=7;break}throw new nM(o.error,"failed to get slot leaders");case 7:return t.abrupt("return",o.result);case 8:case"end":return t.stop()}},t,this)})),function(t,e){return N.apply(this,arguments)})},{key:"getSignatureStatus",value:(j=t0(nz().mark(function t(e,r){var n,i,o,a;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSignatureStatuses([e],r);case 2:return i=(n=t.sent).context,rH(1===(o=n.value).length),a=o[0],t.abrupt("return",{context:i,value:a});case 8:case"end":return t.stop()}},t,this)})),function(t,e){return j.apply(this,arguments)})},{key:"getSignatureStatuses",value:(P=t0(nz().mark(function t(e,r){var n,i,o;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[e],r&&n.push(r),t.next=4,this._rpcRequest("getSignatureStatuses",n);case 4:if(!("error"in(o=eS(t.sent,iz)))){t.next=8;break}throw new nM(o.error,"failed to get signature status");case 8:return t.abrupt("return",o.result);case 9:case"end":return t.stop()}},t,this)})),function(t,e){return P.apply(this,arguments)})},{key:"getTransactionCount",value:(C=t0(nz().mark(function t(e){var r,n,i,o,a,s;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(r=nH(e)).commitment,i=r.config,o=this._buildArgs([],n,void 0,i),t.next=4,this._rpcRequest("getTransactionCount",o);case 4:if(!("error"in(s=eS(t.sent,nV(eT()))))){t.next=8;break}throw new nM(s.error,"failed to get transaction count");case 8:return t.abrupt("return",s.result);case 9:case"end":return t.stop()}},t,this)})),function(t){return C.apply(this,arguments)})},{key:"getTotalSupply",value:(R=t0(nz().mark(function t(e){var r;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0});case 2:return r=t.sent,t.abrupt("return",r.value.total);case 4:case"end":return t.stop()}},t,this)})),function(t){return R.apply(this,arguments)})},{key:"getInflationGovernor",value:(U=t0(nz().mark(function t(e){var r,n,i;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this._buildArgs([],e),t.next=3,this._rpcRequest("getInflationGovernor",r);case 3:if(!("error"in(i=eS(t.sent,ie)))){t.next=7;break}throw new nM(i.error,"failed to get inflation");case 7:return t.abrupt("return",i.result);case 8:case"end":return t.stop()}},t,this)})),function(t){return U.apply(this,arguments)})},{key:"getInflationReward",value:(z=t0(nz().mark(function t(e,r,n){var i,o,a,s,u,c;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=(i=nH(n)).commitment,a=i.config,s=this._buildArgs([e.map(function(t){return t.toBase58()})],o,void 0,nW(nW({},a),{},{epoch:null!=r?r:null==a?void 0:a.epoch})),t.next=4,this._rpcRequest("getInflationReward",s);case 4:if(!("error"in(c=eS(t.sent,nX)))){t.next=8;break}throw new nM(c.error,"failed to get inflation reward");case 8:return t.abrupt("return",c.result);case 9:case"end":return t.stop()}},t,this)})),function(t,e,r){return z.apply(this,arguments)})},{key:"getInflationRate",value:(D=t0(nz().mark(function t(){var e,r;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getInflationRate",[]);case 2:if(!("error"in(r=eS(t.sent,ir)))){t.next=6;break}throw new nM(r.error,"failed to get inflation rate");case 6:return t.abrupt("return",r.result);case 7:case"end":return t.stop()}},t,this)})),function(){return D.apply(this,arguments)})},{key:"getEpochInfo",value:(W=t0(nz().mark(function t(e){var r,n,i,o,a,s;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(r=nH(e)).commitment,i=r.config,o=this._buildArgs([],n,void 0,i),t.next=4,this._rpcRequest("getEpochInfo",o);case 4:if(!("error"in(s=eS(t.sent,io)))){t.next=8;break}throw new nM(s.error,"failed to get epoch info");case 8:return t.abrupt("return",s.result);case 9:case"end":return t.stop()}},t,this)})),function(t){return W.apply(this,arguments)})},{key:"getEpochSchedule",value:(q=t0(nz().mark(function t(){var e,r,n;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getEpochSchedule",[]);case 2:if(!("error"in(r=eS(t.sent,ia)))){t.next=6;break}throw new nM(r.error,"failed to get epoch schedule");case 6:return n=r.result,t.abrupt("return",new n_(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot));case 8:case"end":return t.stop()}},t,this)})),function(){return q.apply(this,arguments)})},{key:"getLeaderSchedule",value:(K=t0(nz().mark(function t(){var e,r;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getLeaderSchedule",[]);case 2:if(!("error"in(r=eS(t.sent,is)))){t.next=6;break}throw new nM(r.error,"failed to get leader schedule");case 6:return t.abrupt("return",r.result);case 7:case"end":return t.stop()}},t,this)})),function(){return K.apply(this,arguments)})},{key:"getMinimumBalanceForRentExemption",value:(F=t0(nz().mark(function t(e,r){var n,i,o;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgs([e],r),t.next=3,this._rpcRequest("getMinimumBalanceForRentExemption",n);case 3:if(!("error"in(o=eS(t.sent,iD)))){t.next=8;break}return console.warn("Unable to fetch minimum balance for rent exemption"),t.abrupt("return",0);case 8:return t.abrupt("return",o.result);case 9:case"end":return t.stop()}},t,this)})),function(t,e){return F.apply(this,arguments)})},{key:"getRecentBlockhashAndContext",value:(H=t0(nz().mark(function t(e){var r,n,i;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this._buildArgs([],e),t.next=3,this._rpcRequest("getRecentBlockhash",r);case 3:if(!("error"in(i=eS(t.sent,on)))){t.next=7;break}throw new nM(i.error,"failed to get recent blockhash");case 7:return t.abrupt("return",i.result);case 8:case"end":return t.stop()}},t,this)})),function(t){return H.apply(this,arguments)})},{key:"getRecentPerformanceSamples",value:(G=t0(nz().mark(function t(e){var r,n;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]);case 2:if(!("error"in(n=eS(t.sent,os)))){t.next=6;break}throw new nM(n.error,"failed to get recent performance samples");case 6:return t.abrupt("return",n.result);case 7:case"end":return t.stop()}},t,this)})),function(t){return G.apply(this,arguments)})},{key:"getFeeCalculatorForBlockhash",value:(Y=t0(nz().mark(function t(e,r){var n,i,o,a,s,u;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgs([e],r),t.next=3,this._rpcRequest("getFeeCalculatorForBlockhash",n);case 3:if(!("error"in(o=eS(t.sent,ou)))){t.next=7;break}throw new nM(o.error,"failed to get fee calculator");case 7:return s=(a=o.result).context,u=a.value,t.abrupt("return",{context:s,value:null!==u?u.feeCalculator:null});case 9:case"end":return t.stop()}},t,this)})),function(t,e){return Y.apply(this,arguments)})},{key:"getFeeForMessage",value:(V=t0(nz().mark(function t(e,r){var n,i,o,a;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=rI(e.serialize()).toString("base64"),i=this._buildArgs([n],r),t.next=4,this._rpcRequest("getFeeForMessage",i);case 4:if(!("error"in(a=eS(t.sent,n$(eB(eT())))))){t.next=8;break}throw new nM(a.error,"failed to get fee for message");case 8:if(null!==a.result){t.next=10;break}throw Error("invalid blockhash");case 10:return t.abrupt("return",a.result);case 11:case"end":return t.stop()}},t,this)})),function(t,e){return V.apply(this,arguments)})},{key:"getRecentPrioritizationFees",value:($=t0(nz().mark(function t(e){var r,n,i,o,a;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=null!=(n=null==e?void 0:null===(r=e.lockedWritableAccounts)||void 0===r?void 0:r.map(function(t){return t.toBase58()}))&&n.length?[n]:[],t.next=4,this._rpcRequest("getRecentPrioritizationFees",i);case 4:if(!("error"in(a=eS(t.sent,ii)))){t.next=8;break}throw new nM(a.error,"failed to get recent prioritization fees");case 8:return t.abrupt("return",a.result);case 9:case"end":return t.stop()}},t,this)})),function(t){return $.apply(this,arguments)})},{key:"getRecentBlockhash",value:(Z=t0(nz().mark(function t(e){var r;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getRecentBlockhashAndContext(e);case 3:return r=t.sent,t.abrupt("return",r.value);case 7:throw t.prev=7,t.t0=t.catch(0),Error("failed to get recent blockhash: "+t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(t){return Z.apply(this,arguments)})},{key:"getLatestBlockhash",value:(J=t0(nz().mark(function t(e){var r;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getLatestBlockhashAndContext(e);case 3:return r=t.sent,t.abrupt("return",r.value);case 7:throw t.prev=7,t.t0=t.catch(0),Error("failed to get recent blockhash: "+t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(t){return J.apply(this,arguments)})},{key:"getLatestBlockhashAndContext",value:(Q=t0(nz().mark(function t(e){var r,n,i,o,a,s;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(r=nH(e)).commitment,i=r.config,o=this._buildArgs([],n,void 0,i),t.next=4,this._rpcRequest("getLatestBlockhash",o);case 4:if(!("error"in(s=eS(t.sent,oi)))){t.next=8;break}throw new nM(s.error,"failed to get latest blockhash");case 8:return t.abrupt("return",s.result);case 9:case"end":return t.stop()}},t,this)})),function(t){return Q.apply(this,arguments)})},{key:"isBlockhashValid",value:(X=t0(nz().mark(function t(e,r){var n,i,o,a,s,u;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=nH(r)).commitment,o=n.config,a=this._buildArgs([e],i,void 0,o),t.next=4,this._rpcRequest("isBlockhashValid",a);case 4:if(!("error"in(u=eS(t.sent,oo)))){t.next=8;break}throw new nM(u.error,"failed to determine if the blockhash `"+e+"`is valid");case 8:return t.abrupt("return",u.result);case 9:case"end":return t.stop()}},t,this)})),function(t,e){return X.apply(this,arguments)})},{key:"getVersion",value:(tt=t0(nz().mark(function t(){var e,r;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getVersion",[]);case 2:if(!("error"in(r=eS(t.sent,nV(n7))))){t.next=6;break}throw new nM(r.error,"failed to get version");case 6:return t.abrupt("return",r.result);case 7:case"end":return t.stop()}},t,this)})),function(){return tt.apply(this,arguments)})},{key:"getGenesisHash",value:(te=t0(nz().mark(function t(){var e,r;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getGenesisHash",[]);case 2:if(!("error"in(r=eS(t.sent,nV(eP()))))){t.next=6;break}throw new nM(r.error,"failed to get genesis hash");case 6:return t.abrupt("return",r.result);case 7:case"end":return t.stop()}},t,this)})),function(){return te.apply(this,arguments)})},{key:"getBlock",value:(tr=t0(nz().mark(function t(e,r){var n,i,o,a,s,u,c,l,h;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=nH(r)).commitment,o=n.config,a=this._buildArgsAtLeastConfirmed([e],i,void 0,o),t.next=4,this._rpcRequest("getBlock",a);case 4:s=t.sent,t.prev=5,t.t0=null==o?void 0:o.transactionDetails,t.next="accounts"===t.t0?9:"none"===t.t0?13:17;break;case 9:if(!("error"in(u=eS(s,i3)))){t.next=12;break}throw u.error;case 12:return t.abrupt("return",u.result);case 13:if(!("error"in(c=eS(s,i8)))){t.next=16;break}throw c.error;case 16:return t.abrupt("return",c.result);case 17:if(!("error"in(l=eS(s,i6)))){t.next=20;break}throw l.error;case 20:return h=l.result,t.abrupt("return",h?nW(nW({},h),{},{transactions:h.transactions.map(function(t){var e=t.transaction,r=t.meta,n=t.version;return{meta:r,transaction:nW(nW({},e),{},{message:nJ(n,e.message)}),version:n}})}):null);case 22:t.next=27;break;case 24:throw t.prev=24,t.t1=t.catch(5),new nM(t.t1,"failed to get confirmed block");case 27:case"end":return t.stop()}},t,this,[[5,24]])})),function(t,e){return tr.apply(this,arguments)})},{key:"getParsedBlock",value:(tn=t0(nz().mark(function t(e,r){var n,i,o,a,s,u,c,l;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=nH(r)).commitment,o=n.config,a=this._buildArgsAtLeastConfirmed([e],i,"jsonParsed",o),t.next=4,this._rpcRequest("getBlock",a);case 4:s=t.sent,t.prev=5,t.t0=null==o?void 0:o.transactionDetails,t.next="accounts"===t.t0?9:"none"===t.t0?13:17;break;case 9:if(!("error"in(u=eS(s,i5)))){t.next=12;break}throw u.error;case 12:return t.abrupt("return",u.result);case 13:if(!("error"in(c=eS(s,i7)))){t.next=16;break}throw c.error;case 16:return t.abrupt("return",c.result);case 17:if(!("error"in(l=eS(s,i4)))){t.next=20;break}throw l.error;case 20:return t.abrupt("return",l.result);case 21:t.next=26;break;case 23:throw t.prev=23,t.t1=t.catch(5),new nM(t.t1,"failed to get block");case 26:case"end":return t.stop()}},t,this,[[5,23]])})),function(t,e){return tn.apply(this,arguments)})},{key:"getBlockProduction",value:(ti=t0(nz().mark(function t(e){var r,n,i,o,a,s,u;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e?n=e:e&&(i=e.commitment,o=ey(e,nR),n=i,r=o),a=this._buildArgs([],n,"base64",r),t.next=4,this._rpcRequest("getBlockProduction",a);case 4:if(!("error"in(u=eS(t.sent,it)))){t.next=8;break}throw new nM(u.error,"failed to get block production information");case 8:return t.abrupt("return",u.result);case 9:case"end":return t.stop()}},t,this)})),function(t){return ti.apply(this,arguments)})},{key:"getTransaction",value:(to=t0(nz().mark(function t(e,r){var n,i,o,a,s,u,c;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=nH(r)).commitment,o=n.config,a=this._buildArgsAtLeastConfirmed([e],i,void 0,o),t.next=4,this._rpcRequest("getTransaction",a);case 4:if(!("error"in(u=eS(t.sent,oe)))){t.next=8;break}throw new nM(u.error,"failed to get transaction");case 8:if(c=u.result){t.next=11;break}return t.abrupt("return",c);case 11:return t.abrupt("return",nW(nW({},c),{},{transaction:nW(nW({},c.transaction),{},{message:nJ(c.version,c.transaction.message)})}));case 12:case"end":return t.stop()}},t,this)})),function(t,e){return to.apply(this,arguments)})},{key:"getParsedTransaction",value:(ta=t0(nz().mark(function t(e,r){var n,i,o,a,s,u;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=nH(r)).commitment,o=n.config,a=this._buildArgsAtLeastConfirmed([e],i,"jsonParsed",o),t.next=4,this._rpcRequest("getTransaction",a);case 4:if(!("error"in(u=eS(t.sent,or)))){t.next=8;break}throw new nM(u.error,"failed to get transaction");case 8:return t.abrupt("return",u.result);case 9:case"end":return t.stop()}},t,this)})),function(t,e){return ta.apply(this,arguments)})},{key:"getParsedTransactions",value:(ts=t0(nz().mark(function t(e,r){var n,i,o,a,s,u,c=this;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=nH(r)).commitment,o=n.config,a=e.map(function(t){return{methodName:"getTransaction",args:c._buildArgsAtLeastConfirmed([t],i,"jsonParsed",o)}}),t.next=4,this._rpcBatchRequest(a);case 4:return u=(0,t.sent).map(function(t){var e=eS(t,or);if("error"in e)throw new nM(e.error,"failed to get transactions");return e.result}),t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)})),function(t,e){return ts.apply(this,arguments)})},{key:"getTransactions",value:(tu=t0(nz().mark(function t(e,r){var n,i,o,a,s,u,c=this;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=nH(r)).commitment,o=n.config,a=e.map(function(t){return{methodName:"getTransaction",args:c._buildArgsAtLeastConfirmed([t],i,void 0,o)}}),t.next=4,this._rpcBatchRequest(a);case 4:return u=(0,t.sent).map(function(t){var e=eS(t,oe);if("error"in e)throw new nM(e.error,"failed to get transactions");var r=e.result;return r?nW(nW({},r),{},{transaction:nW(nW({},r.transaction),{},{message:nJ(r.version,r.transaction.message)})}):r}),t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)})),function(t,e){return tu.apply(this,arguments)})},{key:"getConfirmedBlock",value:(tc=t0(nz().mark(function t(e,r){var n,i,o,a,s;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgsAtLeastConfirmed([e],r),t.next=3,this._rpcRequest("getConfirmedBlock",n);case 3:if(!("error"in(o=eS(t.sent,i9)))){t.next=7;break}throw new nM(o.error,"failed to get confirmed block");case 7:if(a=o.result){t.next=10;break}throw Error("Confirmed block "+e+" not found");case 10:return s=nW(nW({},a),{},{transactions:a.transactions.map(function(t){var e=t.transaction,r=t.meta,n=new r$(e.message);return{meta:r,transaction:nW(nW({},e),{},{message:n})}})}),t.abrupt("return",nW(nW({},s),{},{transactions:s.transactions.map(function(t){var e=t.transaction;return{meta:t.meta,transaction:r7.populate(e.message,e.signatures)}})}));case 12:case"end":return t.stop()}},t,this)})),function(t,e){return tc.apply(this,arguments)})},{key:"getBlocks",value:(tl=t0(nz().mark(function t(e,r,n){var i,o,a;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this._buildArgsAtLeastConfirmed(void 0!==r?[e,r]:[e],n),t.next=3,this._rpcRequest("getBlocks",i);case 3:if(!("error"in(a=eS(t.sent,nV(eI(eT())))))){t.next=7;break}throw new nM(a.error,"failed to get blocks");case 7:return t.abrupt("return",a.result);case 8:case"end":return t.stop()}},t,this)})),function(t,e,r){return tl.apply(this,arguments)})},{key:"getBlockSignatures",value:(th=t0(nz().mark(function t(e,r){var n,i,o,a;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),t.next=3,this._rpcRequest("getBlock",n);case 3:if(!("error"in(o=eS(t.sent,ot)))){t.next=7;break}throw new nM(o.error,"failed to get block");case 7:if(a=o.result){t.next=10;break}throw Error("Block "+e+" not found");case 10:return t.abrupt("return",a);case 11:case"end":return t.stop()}},t,this)})),function(t,e){return th.apply(this,arguments)})},{key:"getConfirmedBlockSignatures",value:(tf=t0(nz().mark(function t(e,r){var n,i,o,a;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),t.next=3,this._rpcRequest("getConfirmedBlock",n);case 3:if(!("error"in(o=eS(t.sent,ot)))){t.next=7;break}throw new nM(o.error,"failed to get confirmed block");case 7:if(a=o.result){t.next=10;break}throw Error("Confirmed block "+e+" not found");case 10:return t.abrupt("return",a);case 11:case"end":return t.stop()}},t,this)})),function(t,e){return tf.apply(this,arguments)})},{key:"getConfirmedTransaction",value:(td=t0(nz().mark(function t(e,r){var n,i,o,a,s,u;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgsAtLeastConfirmed([e],r),t.next=3,this._rpcRequest("getConfirmedTransaction",n);case 3:if(!("error"in(o=eS(t.sent,oe)))){t.next=7;break}throw new nM(o.error,"failed to get transaction");case 7:if(a=o.result){t.next=10;break}return t.abrupt("return",a);case 10:return s=new r$(a.transaction.message),u=a.transaction.signatures,t.abrupt("return",nW(nW({},a),{},{transaction:r7.populate(s,u)}));case 13:case"end":return t.stop()}},t,this)})),function(t,e){return td.apply(this,arguments)})},{key:"getParsedConfirmedTransaction",value:(tp=t0(nz().mark(function t(e,r){var n,i,o;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),t.next=3,this._rpcRequest("getConfirmedTransaction",n);case 3:if(!("error"in(o=eS(t.sent,or)))){t.next=7;break}throw new nM(o.error,"failed to get confirmed transaction");case 7:return t.abrupt("return",o.result);case 8:case"end":return t.stop()}},t,this)})),function(t,e){return tp.apply(this,arguments)})},{key:"getParsedConfirmedTransactions",value:(ty=t0(nz().mark(function t(e,r){var n,i,o,a=this;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.map(function(t){return{methodName:"getConfirmedTransaction",args:a._buildArgsAtLeastConfirmed([t],r,"jsonParsed")}}),t.next=3,this._rpcBatchRequest(n);case 3:return o=(0,t.sent).map(function(t){var e=eS(t,or);if("error"in e)throw new nM(e.error,"failed to get confirmed transactions");return e.result}),t.abrupt("return",o);case 6:case"end":return t.stop()}},t,this)})),function(t,e){return ty.apply(this,arguments)})},{key:"getConfirmedSignaturesForAddress",value:(tg=t0(nz().mark(function t(e,r,n){var i,o,a,s,u,c;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={},t.next=3,this.getFirstAvailableBlock();case 3:o=t.sent;case 4:if("until"in i){t.next=24;break}if(!(--r<=0||r<o)){t.next=8;break}return t.abrupt("break",24);case 8:return t.prev=8,t.next=11,this.getConfirmedBlockSignatures(r,"finalized");case 11:(a=t.sent).signatures.length>0&&(i.until=a.signatures[a.signatures.length-1].toString()),t.next=22;break;case 15:if(t.prev=15,t.t0=t.catch(8),!(t.t0 instanceof Error&&t.t0.message.includes("skipped"))){t.next=21;break}return t.abrupt("continue",4);case 21:throw t.t0;case 22:t.next=4;break;case 24:return t.next=26,this.getSlot("finalized");case 26:s=t.sent;case 27:if("before"in i){t.next=47;break}if(!(++n>s)){t.next=31;break}return t.abrupt("break",47);case 31:return t.prev=31,t.next=34,this.getConfirmedBlockSignatures(n);case 34:(u=t.sent).signatures.length>0&&(i.before=u.signatures[u.signatures.length-1].toString()),t.next=45;break;case 38:if(t.prev=38,t.t1=t.catch(31),!(t.t1 instanceof Error&&t.t1.message.includes("skipped"))){t.next=44;break}return t.abrupt("continue",27);case 44:throw t.t1;case 45:t.next=27;break;case 47:return t.next=49,this.getConfirmedSignaturesForAddress2(e,i);case 49:return c=t.sent,t.abrupt("return",c.map(function(t){return t.signature}));case 51:case"end":return t.stop()}},t,this,[[8,15],[31,38]])})),function(t,e,r){return tg.apply(this,arguments)})},{key:"getConfirmedSignaturesForAddress2",value:(tm=t0(nz().mark(function t(e,r,n){var i,o,a;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),t.next=3,this._rpcRequest("getConfirmedSignaturesForAddress2",i);case 3:if(!("error"in(a=eS(t.sent,iS)))){t.next=7;break}throw new nM(a.error,"failed to get confirmed signatures for address");case 7:return t.abrupt("return",a.result);case 8:case"end":return t.stop()}},t,this)})),function(t,e,r){return tm.apply(this,arguments)})},{key:"getSignaturesForAddress",value:(tv=t0(nz().mark(function t(e,r,n){var i,o,a;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),t.next=3,this._rpcRequest("getSignaturesForAddress",i);case 3:if(!("error"in(a=eS(t.sent,iE)))){t.next=7;break}throw new nM(a.error,"failed to get signatures for address");case 7:return t.abrupt("return",a.result);case 8:case"end":return t.stop()}},t,this)})),function(t,e,r){return tv.apply(this,arguments)})},{key:"getAddressLookupTable",value:(tb=t0(nz().mark(function t(e,r){var n,i,o,a;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAccountInfoAndContext(e,r);case 2:return i=(n=t.sent).context,o=n.value,a=null,null!==o&&(a=new nT({key:e,state:nT.deserialize(o.data)})),t.abrupt("return",{context:i,value:a});case 8:case"end":return t.stop()}},t,this)})),function(t,e){return tb.apply(this,arguments)})},{key:"getNonceAndContext",value:(tw=t0(nz().mark(function t(e,r){var n,i,o,a;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAccountInfoAndContext(e,r);case 2:return i=(n=t.sent).context,o=n.value,a=null,null!==o&&(a=np.fromAccountData(o.data)),t.abrupt("return",{context:i,value:a});case 8:case"end":return t.stop()}},t,this)})),function(t,e){return tw.apply(this,arguments)})},{key:"getNonce",value:(tk=t0(nz().mark(function t(e,r){return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNonceAndContext(e,r).then(function(t){return t.value}).catch(function(t){throw Error("failed to get nonce for account "+e.toBase58()+": "+t)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(t,e){return tk.apply(this,arguments)})},{key:"requestAirdrop",value:(tx=t0(nz().mark(function t(e,r){var n,i;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("requestAirdrop",[e.toBase58(),r]);case 2:if(!("error"in(i=eS(t.sent,oc)))){t.next=6;break}throw new nM(i.error,"airdrop to ".concat(e.toBase58()," failed"));case 6:return t.abrupt("return",i.result);case 7:case"end":return t.stop()}},t,this)})),function(t,e){return tx.apply(this,arguments)})},{key:"_blockhashWithExpiryBlockHeight",value:(tS=t0(nz().mark(function t(e){var r,n;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=10;break}case 1:if(!this._pollingBlockhash){t.next=6;break}return t.next=4,nu(100);case 4:t.next=1;break;case 6:if(n=Date.now()-this._blockhashInfo.lastFetch>=3e4,!(null!==this._blockhashInfo.latestBlockhash&&!n)){t.next=10;break}return t.abrupt("return",this._blockhashInfo.latestBlockhash);case 10:return t.next=12,this._pollNewBlockhash();case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}},t,this)})),function(t){return tS.apply(this,arguments)})},{key:"_pollNewBlockhash",value:(tE=t0(nz().mark(function t(){var e,r,n,i,o;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this._pollingBlockhash=!0,t.prev=1,e=Date.now(),n=(r=this._blockhashInfo.latestBlockhash)?r.blockhash:null,i=0;case 6:if(!(i<50)){t.next=18;break}return t.next=9,this.getLatestBlockhash("finalized");case 9:if(!(n!==(o=t.sent).blockhash)){t.next=13;break}return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t.abrupt("return",o);case 13:return t.next=15,nu(200);case 15:i++,t.next=6;break;case 18:throw Error("Unable to obtain a new blockhash after ".concat(Date.now()-e,"ms"));case 19:return t.prev=19,this._pollingBlockhash=!1,t.finish(19);case 22:case"end":return t.stop()}},t,this,[[1,,19,22]])})),function(){return tE.apply(this,arguments)})},{key:"getStakeMinimumDelegation",value:(t_=t0(nz().mark(function t(e){var r,n,i,o,a,s;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(r=nH(e)).commitment,i=r.config,o=this._buildArgs([],n,"base64",i),t.next=4,this._rpcRequest("getStakeMinimumDelegation",o);case 4:if(!("error"in(s=eS(t.sent,n$(eT()))))){t.next=8;break}throw new nM(s.error,"failed to get stake minimum delegation");case 8:return t.abrupt("return",s.result);case 9:case"end":return t.stop()}},t,this)})),function(t){return t_.apply(this,arguments)})},{key:"simulateTransaction",value:(tA=t0(nz().mark(function t(e,r,n){var i,o,a,s,u,c,h,f,d,p,y,g,m,v,b,w,k,x,S,E,_,A,I,M,O,L;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!("message"in e)){t.next=17;break}if(i=e.serialize(),o=l.Buffer.from(i).toString("base64"),!(Array.isArray(r)||void 0!==n)){t.next=6;break}throw Error("Invalid arguments");case 6:return(a=r||{}).encoding="base64","commitment"in a||(a.commitment=this.commitment),s=[o,a],t.next=12,this._rpcRequest("simulateTransaction",s);case 12:if(!("error"in(c=eS(t.sent,n9)))){t.next=16;break}throw Error("failed to simulate transaction: "+c.error.message);case 16:return t.abrupt("return",c.result);case 17:if(e instanceof r7?(f=e,(h=new r7).feePayer=f.feePayer,h.instructions=e.instructions,h.nonceInfo=f.nonceInfo,h.signatures=f.signatures):(h=r7.populate(e))._message=h._json=void 0,!(void 0!==r&&!Array.isArray(r))){t.next=20;break}throw Error("Invalid arguments");case 20:if(d=r,!(h.nonceInfo&&d)){t.next=25;break}(p=h).sign.apply(p,ep(d)),t.next=45;break;case 25:y=this._disableBlockhashCaching;case 26:return t.next=28,this._blockhashWithExpiryBlockHeight(y);case 28:if(m=t.sent,h.lastValidBlockHeight=m.lastValidBlockHeight,h.recentBlockhash=m.blockhash,d){t.next=33;break}return t.abrupt("break",45);case 33:if((g=h).sign.apply(g,ep(d)),h.signature){t.next=36;break}throw Error("!signature");case 36:if(v=h.signature.toString("base64"),!(!this._blockhashInfo.simulatedSignatures.includes(v)&&!this._blockhashInfo.transactionSignatures.includes(v))){t.next=42;break}return this._blockhashInfo.simulatedSignatures.push(v),t.abrupt("break",45);case 42:y=!0;case 43:t.next=26;break;case 45:return w=(b=h._compile()).serialize(),x=h._serialize(w).toString("base64"),S={encoding:"base64",commitment:this.commitment},n&&(E=(Array.isArray(n)?n:b.nonProgramIds()).map(function(t){return t.toBase58()}),S.accounts={encoding:"base64",addresses:E}),d&&(S.sigVerify=!0),_=[x,S],t.next=55,this._rpcRequest("simulateTransaction",_);case 55:if(!("error"in(I=eS(t.sent,n9)))){t.next=60;break}throw"data"in I.error&&(M=I.error.data.logs)&&Array.isArray(M)&&(L=(O="\n    ")+M.join(O),console.error(I.error.message,L)),new nI("failed to simulate transaction: "+I.error.message,M);case 60:return t.abrupt("return",I.result);case 61:case"end":return t.stop()}},t,this)})),function(t,e,r){return tA.apply(this,arguments)})},{key:"sendTransaction",value:(tI=t0(nz().mark(function t(e,r,n){var i,o,a,s,u,c;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!("version"in e)){t.next=7;break}if(!(r&&Array.isArray(r))){t.next=3;break}throw Error("Invalid arguments");case 3:return i=e.serialize(),t.next=6,this.sendRawTransaction(i,r);case 6:return t.abrupt("return",t.sent);case 7:if(!(void 0===r||!Array.isArray(r))){t.next=9;break}throw Error("Invalid arguments");case 9:if(o=r,!e.nonceInfo){t.next=14;break}e.sign.apply(e,ep(o)),t.next=32;break;case 14:a=this._disableBlockhashCaching;case 15:return t.next=17,this._blockhashWithExpiryBlockHeight(a);case 17:if(s=t.sent,e.lastValidBlockHeight=s.lastValidBlockHeight,e.recentBlockhash=s.blockhash,e.sign.apply(e,ep(o)),e.signature){t.next=23;break}throw Error("!signature");case 23:if(u=e.signature.toString("base64"),this._blockhashInfo.transactionSignatures.includes(u)){t.next=29;break}return this._blockhashInfo.transactionSignatures.push(u),t.abrupt("break",32);case 29:a=!0;case 30:t.next=15;break;case 32:return c=e.serialize(),t.next=35,this.sendRawTransaction(c,n);case 35:return t.abrupt("return",t.sent);case 36:case"end":return t.stop()}},t,this)})),function(t,e,r){return tI.apply(this,arguments)})},{key:"sendRawTransaction",value:(tM=t0(nz().mark(function t(e,r){var n,i;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=rI(e).toString("base64"),t.next=3,this.sendEncodedTransaction(n,r);case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return tM.apply(this,arguments)})},{key:"sendEncodedTransaction",value:(tO=t0(nz().mark(function t(e,r){var n,i,o,a,s,u,c;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={encoding:"base64"},i=r&&r.skipPreflight,o=r&&r.preflightCommitment||this.commitment,r&&null!=r.maxRetries&&(n.maxRetries=r.maxRetries),r&&null!=r.minContextSlot&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o),a=[e,n],t.next=10,this._rpcRequest("sendTransaction",a);case 10:if(!("error"in(u=eS(t.sent,ol)))){t.next=15;break}throw"data"in u.error&&(c=u.error.data.logs),new nI("failed to send transaction: "+u.error.message,c);case 15:return t.abrupt("return",u.result);case 16:case"end":return t.stop()}},t,this)})),function(t,e){return tO.apply(this,arguments)})},{key:"_wsOnOpen",value:function(){var t=this;this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(function(){t0(nz().mark(function e(){return nz().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._rpcWebSocket.notify("ping");case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},e,null,[[0,5]])}))()},5e3),this._updateSubscriptions()}},{key:"_wsOnError",value:function(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}},{key:"_wsOnClose",value:function(t){var e=this;if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3===t){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(function(t){var r=eh(t,2),n=r[0],i=r[1];e._setSubscription(n,nW(nW({},i),{},{state:"pending"}))})}},{key:"_setSubscription",value:function(t,e){var r,n=null===(r=this._subscriptionsByHash[t])||void 0===r?void 0:r.state;if(this._subscriptionsByHash[t]=e,n!==e.state){var i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(function(t){try{t(e.state)}catch(r){}})}}},{key:"_onSubscriptionStateChange",value:function(t,e){var r,n=this,i=this._subscriptionHashByClientSubscriptionId[t];if(null==i)return function(){};var o=(r=this._subscriptionStateChangeCallbacksByHash)[i]||(r[i]=new Set);return o.add(e),function(){o.delete(e),0===o.size&&delete n._subscriptionStateChangeCallbacksByHash[i]}}},{key:"_updateSubscriptions",value:(tL=t0(nz().mark(function t(){var e,r,n=this;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==Object.keys(this._subscriptionsByHash).length){t.next=3;break}return this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(function(){n._rpcWebSocketIdleTimeout=null;try{n._rpcWebSocket.close()}catch(t){t instanceof Error&&console.log("Error when closing socket connection: ".concat(t.message))}},500)),t.abrupt("return");case 3:if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),this._rpcWebSocketConnected){t.next=7;break}return this._rpcWebSocket.connect(),t.abrupt("return");case 7:return e=this._rpcWebSocketGeneration,r=function(){return e===n._rpcWebSocketGeneration},t.next=11,Promise.all(Object.keys(this._subscriptionsByHash).map(function(){var t=t0(nz().mark(function t(e){var i;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(i=n._subscriptionsByHash[e])){t.next=3;break}return t.abrupt("return");case 3:t.t0=i.state,t.next="pending"===t.t0?6:"unsubscribed"===t.t0?6:"subscribed"===t.t0?15:"subscribing"===t.t0?19:"unsubscribing"===t.t0?19:20;break;case 6:if(0!==i.callbacks.size){t.next=12;break}return delete n._subscriptionsByHash[e],"unsubscribed"===i.state&&delete n._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],t.next=11,n._updateSubscriptions();case 11:return t.abrupt("return");case 12:return t.next=14,t0(nz().mark(function t(){var o,a,s;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.args,a=i.method,t.prev=1,n._setSubscription(e,nW(nW({},i),{},{state:"subscribing"})),t.next=5,n._rpcWebSocket.call(a,o);case 5:return s=t.sent,n._setSubscription(e,nW(nW({},i),{},{serverSubscriptionId:s,state:"subscribed"})),n._subscriptionCallbacksByServerSubscriptionId[s]=i.callbacks,t.next=10,n._updateSubscriptions();case 10:t.next=20;break;case 12:if(t.prev=12,t.t0=t.catch(1),t.t0 instanceof Error&&console.error("".concat(a," error for argument"),o,t.t0.message),r()){t.next=17;break}return t.abrupt("return");case 17:return n._setSubscription(e,nW(nW({},i),{},{state:"pending"})),t.next=20,n._updateSubscriptions();case 20:case"end":return t.stop()}},t,null,[[1,12]])}))();case 14:case 18:case 19:return t.abrupt("break",20);case 15:if(0!==i.callbacks.size){t.next=18;break}return t.next=18,t0(nz().mark(function t(){var o,a;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=i.serverSubscriptionId,a=i.unsubscribeMethod,!n._subscriptionsAutoDisposedByRpc.has(o)){t.next=5;break}n._subscriptionsAutoDisposedByRpc.delete(o),t.next=21;break;case 5:return n._setSubscription(e,nW(nW({},i),{},{state:"unsubscribing"})),n._setSubscription(e,nW(nW({},i),{},{state:"unsubscribing"})),t.prev=7,t.next=10,n._rpcWebSocket.call(a,[o]);case 10:t.next=21;break;case 12:if(t.prev=12,t.t0=t.catch(7),t.t0 instanceof Error&&console.error("".concat(a," error:"),t.t0.message),r()){t.next=17;break}return t.abrupt("return");case 17:return n._setSubscription(e,nW(nW({},i),{},{state:"subscribed"})),t.next=20,n._updateSubscriptions();case 20:return t.abrupt("return");case 21:return n._setSubscription(e,nW(nW({},i),{},{state:"unsubscribed"})),t.next=24,n._updateSubscriptions();case 24:case"end":return t.stop()}},t,null,[[7,12]])}))();case 20:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 11:case"end":return t.stop()}},t,this)})),function(){return tL.apply(this,arguments)})},{key:"_handleServerNotification",value:function(t,e){var r=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==r&&r.forEach(function(t){try{t.apply(void 0,ep(e))}catch(r){console.error(r)}})}},{key:"_wsOnAccountNotification",value:function(t){var e=eS(t,i_),r=e.result,n=e.subscription;this._handleServerNotification(n,[r.value,r.context])}},{key:"_makeSubscription",value:function(t,e){var r=this,n=this._nextClientSubscriptionId++,i=nS([t.method,e],!0),o=this._subscriptionsByHash[i];return void 0===o?this._subscriptionsByHash[i]=nW(nW({},t),{},{args:e,callbacks:new Set([t.callback]),state:"pending"}):o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=t0(nz().mark(function e(){var o;return nz().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return delete r._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete r._subscriptionHashByClientSubscriptionId[n],rH(void 0!==(o=r._subscriptionsByHash[i]),"Could not find a `Subscription` when tearing down client subscription #".concat(n)),o.callbacks.delete(t.callback),e.next=7,r._updateSubscriptions();case 7:case"end":return e.stop()}},e)})),this._updateSubscriptions(),n}},{key:"onAccountChange",value:function(t,e,r){var n=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},n)}},{key:"removeAccountChangeListener",value:(tB=t0(nz().mark(function t(e){return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._unsubscribeClientSubscription(e,"account change");case 2:case"end":return t.stop()}},t,this)})),function(t){return tB.apply(this,arguments)})},{key:"_wsOnProgramAccountNotification",value:function(t){var e=eS(t,iI),r=e.result,n=e.subscription;this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}},{key:"onProgramAccountChange",value:function(t,e,r,n){var i=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64",n?{filters:n}:void 0);return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}},{key:"removeProgramAccountChangeListener",value:(tT=t0(nz().mark(function t(e){return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._unsubscribeClientSubscription(e,"program account change");case 2:case"end":return t.stop()}},t,this)})),function(t){return tT.apply(this,arguments)})},{key:"onLogs",value:function(t,e,r){var n=this._buildArgs(["object"===a(t)?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}},{key:"removeOnLogsListener",value:(tN=t0(nz().mark(function t(e){return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._unsubscribeClientSubscription(e,"logs");case 2:case"end":return t.stop()}},t,this)})),function(t){return tN.apply(this,arguments)})},{key:"_wsOnLogsNotification",value:function(t){var e=eS(t,of),r=e.result,n=e.subscription;this._handleServerNotification(n,[r.value,r.context])}},{key:"_wsOnSlotNotification",value:function(t){var e=eS(t,iO),r=e.result,n=e.subscription;this._handleServerNotification(n,[r])}},{key:"onSlotChange",value:function(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}},{key:"removeSlotChangeListener",value:(tj=t0(nz().mark(function t(e){return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._unsubscribeClientSubscription(e,"slot change");case 2:case"end":return t.stop()}},t,this)})),function(t){return tj.apply(this,arguments)})},{key:"_wsOnSlotUpdatesNotification",value:function(t){var e=eS(t,iB),r=e.result,n=e.subscription;this._handleServerNotification(n,[r])}},{key:"onSlotUpdate",value:function(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}},{key:"removeSlotUpdateListener",value:(tP=t0(nz().mark(function t(e){return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._unsubscribeClientSubscription(e,"slot update");case 2:case"end":return t.stop()}},t,this)})),function(t){return tP.apply(this,arguments)})},{key:"_unsubscribeClientSubscription",value:(tC=t0(nz().mark(function t(e,r){var n;return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e])){t.next=6;break}return t.next=4,n();case 4:t.next=7;break;case 6:console.warn("Ignored unsubscribe request because an active subscription with id "+"`".concat(e,"` for '").concat(r,"' events ")+"could not be found.");case 7:case"end":return t.stop()}},t,this)})),function(t,e){return tC.apply(this,arguments)})},{key:"_buildArgs",value:function(t,e,r,n){var i=e||this._commitment;if(i||r||n){var o={};r&&(o.encoding=r),i&&(o.commitment=i),n&&(o=Object.assign(o,n)),t.push(o)}return t}},{key:"_buildArgsAtLeastConfirmed",value:function(t,e,r,n){var i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,n)}},{key:"_wsOnSignatureNotification",value:function(t){var e=eS(t,iT),r=e.result,n=e.subscription;"receivedSignature"!==r.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===r.value?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}},{key:"onSignature",value:function(t,e,r){var n=this,i=this._buildArgs([t],r||this._commitment||"finalized"),o=this._makeSubscription({callback:function(t,r){if("status"===t.type){e(t.result,r);try{n.removeSignatureListener(o)}catch(i){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}},{key:"onSignatureWithOptions",value:function(t,e,r){var n=this,i=nW(nW({},r),{},{commitment:r&&r.commitment||this._commitment||"finalized"}),o=i.commitment,a=ey(i,nU),s=this._buildArgs([t],o,void 0,a),u=this._makeSubscription({callback:function(t,r){e(t,r);try{n.removeSignatureListener(u)}catch(i){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return u}},{key:"removeSignatureListener",value:(tR=t0(nz().mark(function t(e){return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._unsubscribeClientSubscription(e,"signature result");case 2:case"end":return t.stop()}},t,this)})),function(t){return tR.apply(this,arguments)})},{key:"_wsOnRootNotification",value:function(t){var e=eS(t,iN),r=e.result,n=e.subscription;this._handleServerNotification(n,[r])}},{key:"onRootChange",value:function(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}},{key:"removeRootChangeListener",value:(tU=t0(nz().mark(function t(e){return nz().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._unsubscribeClientSubscription(e,"root change");case 2:case"end":return t.stop()}},t,this)})),function(t){return tU.apply(this,arguments)})}]),tz}(),oy=function(){function t(e){o(this,t),this._keypair=void 0,this._keypair=null!=e?e:rx()}return c(t,[{key:"publicKey",get:function(){return new rT(this._keypair.publicKey)}},{key:"secretKey",get:function(){return new Uint8Array(this._keypair.secretKey)}}],[{key:"generate",value:function(){return new t(rx())}},{key:"fromSecretKey",value:function(e,r){if(64!==e.byteLength)throw Error("bad secret key size");var n=e.slice(32,64);if(!r||!r.skipValidation){for(var i=rS(e.slice(0,32)),o=0;o<32;o++)if(n[o]!==i[o])throw Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}},{key:"fromSeed",value:function(e){var r=rS(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}}]),t}(),og=Object.freeze({CreateLookupTable:{index:0,layout:eu.n_([eu.Jq("instruction"),ng("recentSlot"),eu.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:eu.n_([eu.Jq("instruction")])},ExtendLookupTable:{index:2,layout:eu.n_([eu.Jq("instruction"),ng(),eu.A9(rD(),eu.cv(eu.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:eu.n_([eu.Jq("instruction")])},CloseLookupTable:{index:4,layout:eu.n_([eu.Jq("instruction")])}});(function(){function t(){o(this,t)}return c(t,null,[{key:"createLookupTable",value:function(t){var e=eh(rT.findProgramAddressSync([t.authority.toBuffer(),(0,ef.k$)(BigInt(t.recentSlot),8)],this.programId),2),r=e[0],n=e[1],i=nc(og.CreateLookupTable,{recentSlot:BigInt(t.recentSlot),bumpSeed:n}),o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:nv.programId,isSigner:!1,isWritable:!1}];return[new r5({programId:this.programId,keys:o,data:i}),r]}},{key:"freezeLookupTable",value:function(t){var e=nc(og.FreezeLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new r5({programId:this.programId,keys:r,data:e})}},{key:"extendLookupTable",value:function(t){var e=nc(og.ExtendLookupTable,{addresses:t.addresses.map(function(t){return t.toBytes()})}),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&r.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:nv.programId,isSigner:!1,isWritable:!1}),new r5({programId:this.programId,keys:r,data:e})}},{key:"deactivateLookupTable",value:function(t){var e=nc(og.DeactivateLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new r5({programId:this.programId,keys:r,data:e})}},{key:"closeLookupTable",value:function(t){var e=nc(og.CloseLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new r5({programId:this.programId,keys:r,data:e})}}]),t})().programId=new rT("AddressLookupTab1e1111111111111111111111111");var om=Object.freeze({RequestUnits:{index:0,layout:eu.n_([eu.u8("instruction"),eu.Jq("units"),eu.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:eu.n_([eu.u8("instruction"),eu.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:eu.n_([eu.u8("instruction"),eu.Jq("units")])},SetComputeUnitPrice:{index:3,layout:eu.n_([eu.u8("instruction"),ng("microLamports")])}});(function(){function t(){o(this,t)}return c(t,null,[{key:"requestUnits",value:function(t){var e=nc(om.RequestUnits,t);return new r5({keys:[],programId:this.programId,data:e})}},{key:"requestHeapFrame",value:function(t){var e=nc(om.RequestHeapFrame,t);return new r5({keys:[],programId:this.programId,data:e})}},{key:"setComputeUnitLimit",value:function(t){var e=nc(om.SetComputeUnitLimit,t);return new r5({keys:[],programId:this.programId,data:e})}},{key:"setComputeUnitPrice",value:function(t){var e=nc(om.SetComputeUnitPrice,{microLamports:BigInt(t.microLamports)});return new r5({keys:[],programId:this.programId,data:e})}}]),t})().programId=new rT("ComputeBudget111111111111111111111111111111");var ov=eu.n_([eu.u8("numSignatures"),eu.u8("padding"),eu.KB("signatureOffset"),eu.KB("signatureInstructionIndex"),eu.KB("publicKeyOffset"),eu.KB("publicKeyInstructionIndex"),eu.KB("messageDataOffset"),eu.KB("messageDataSize"),eu.KB("messageInstructionIndex")]);(function(){function t(){o(this,t)}return c(t,null,[{key:"createInstructionWithPublicKey",value:function(e){var r=e.publicKey,n=e.message,i=e.signature,o=e.instructionIndex;rH(32===r.length,"Public Key must be ".concat(32," bytes but received ").concat(r.length," bytes")),rH(64===i.length,"Signature must be ".concat(64," bytes but received ").concat(i.length," bytes"));var a=ov.span,s=a+r.length,u=s+i.length,c=l.Buffer.alloc(u+n.length),h=null==o?65535:o;return ov.encode({numSignatures:1,padding:0,signatureOffset:s,signatureInstructionIndex:h,publicKeyOffset:a,publicKeyInstructionIndex:h,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:h},c),c.fill(r,a),c.fill(i,s),c.fill(n,u),new r5({keys:[],programId:t.programId,data:c})}},{key:"createInstructionWithPrivateKey",value:function(t){var e=t.privateKey,r=t.message,n=t.instructionIndex;rH(64===e.length,"Private key must be ".concat(64," bytes but received ").concat(e.length," bytes"));try{var i=oy.fromSecretKey(e),o=i.publicKey.toBytes(),a=r_(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:n})}catch(s){throw Error("Error creating instruction; ".concat(s))}}}]),t})().programId=new rT("Ed25519SigVerify111111111111111111111111111");var ob=function(t,e){var r=rk.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};rk.utils.isValidPrivateKey;var ow=rk.getPublicKey,ok=eu.n_([eu.u8("numSignatures"),eu.KB("signatureOffset"),eu.u8("signatureInstructionIndex"),eu.KB("ethAddressOffset"),eu.u8("ethAddressInstructionIndex"),eu.KB("messageDataOffset"),eu.KB("messageDataSize"),eu.u8("messageInstructionIndex"),eu.Ik(20,"ethAddress"),eu.Ik(64,"signature"),eu.u8("recoveryId")]);(function(){function t(){o(this,t)}return c(t,null,[{key:"publicKeyToEthAddress",value:function(t){rH(64===t.length,"Public key must be ".concat(64," bytes but received ").concat(t.length," bytes"));try{return l.Buffer.from(ro(rI(t))).slice(-20)}catch(e){throw Error("Error constructing Ethereum address: ".concat(e))}}},{key:"createInstructionWithPublicKey",value:function(e){var r=e.publicKey,n=e.message,i=e.signature,o=e.recoveryId,a=e.instructionIndex;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:a})}},{key:"createInstructionWithEthAddress",value:function(e){var r,n=e.ethAddress,i=e.message,o=e.signature,a=e.recoveryId,s=e.instructionIndex,u=void 0===s?0:s;rH(20===(r="string"==typeof n?n.startsWith("0x")?l.Buffer.from(n.substr(2),"hex"):l.Buffer.from(n,"hex"):n).length,"Address must be ".concat(20," bytes but received ").concat(r.length," bytes"));var c=12+r.length,h=c+o.length+1,f=l.Buffer.alloc(ok.span+i.length);return ok.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:u,ethAddressOffset:12,ethAddressInstructionIndex:u,messageDataOffset:h,messageDataSize:i.length,messageInstructionIndex:u,signature:rI(o),ethAddress:rI(r),recoveryId:a},f),f.fill(rI(i),ok.span),new r5({keys:[],programId:t.programId,data:f})}},{key:"createInstructionWithPrivateKey",value:function(t){var e=t.privateKey,r=t.message,n=t.instructionIndex;rH(32===e.length,"Private key must be ".concat(32," bytes but received ").concat(e.length," bytes"));try{var i=rI(e),o=ow(i,!1).slice(1),a=l.Buffer.from(ro(rI(r))),s=ob(a,i),u=eh(s,2),c=u[0],h=u[1];return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:h,instructionIndex:n})}catch(f){throw Error("Error creating instruction; ".concat(f))}}}]),t})().programId=new rT("KeccakSecp256k11111111111111111111111111111");var ox=new rT("StakeConfig11111111111111111111111111111111"),oS=c(function t(e,r,n){o(this,t),this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n});oS.default=new oS(0,0,rT.default);var oE=Object.freeze({Initialize:{index:0,layout:eu.n_([eu.Jq("instruction"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return eu.n_([rD("staker"),rD("withdrawer")],t)}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return eu.n_([eu.gM("unixTimestamp"),eu.gM("epoch"),rD("custodian")],t)}()])},Authorize:{index:1,layout:eu.n_([eu.Jq("instruction"),rD("newAuthorized"),eu.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:eu.n_([eu.Jq("instruction")])},Split:{index:3,layout:eu.n_([eu.Jq("instruction"),eu.gM("lamports")])},Withdraw:{index:4,layout:eu.n_([eu.Jq("instruction"),eu.gM("lamports")])},Deactivate:{index:5,layout:eu.n_([eu.Jq("instruction")])},Merge:{index:7,layout:eu.n_([eu.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:eu.n_([eu.Jq("instruction"),rD("newAuthorized"),eu.Jq("stakeAuthorizationType"),rq("authoritySeed"),rD("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});var o_=function(){function t(){o(this,t)}return c(t,null,[{key:"initialize",value:function(t){var e=t.stakePubkey,r=t.authorized,n=t.lockup||oS.default,i=nc(oE.Initialize,{authorized:{staker:rI(r.staker.toBuffer()),withdrawer:rI(r.withdrawer.toBuffer())},lockup:{unixTimestamp:n.unixTimestamp,epoch:n.epoch,custodian:rI(n.custodian.toBuffer())}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:nn,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new r5(o)}},{key:"createAccountWithSeed",value:function(t){var e=new r7;e.add(nv.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));var r=t.stakePubkey,n=t.authorized,i=t.lockup;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"createAccount",value:function(t){var e=new r7;e.add(nv.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));var r=t.stakePubkey,n=t.authorized,i=t.lockup;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"delegate",value:function(t){var e=t.stakePubkey,r=t.authorizedPubkey,n=t.votePubkey,i=nc(oE.Delegate);return new r7().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!1,isWritable:!1},{pubkey:ni,isSigner:!1,isWritable:!1},{pubkey:ox,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"authorize",value:function(t){var e=t.stakePubkey,r=t.authorizedPubkey,n=t.newAuthorizedPubkey,i=t.stakeAuthorizationType,o=t.custodianPubkey,a=nc(oE.Authorize,{newAuthorized:rI(n.toBuffer()),stakeAuthorizationType:i.index}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&s.push({pubkey:o,isSigner:!1,isWritable:!1}),new r7().add({keys:s,programId:this.programId,data:a})}},{key:"authorizeWithSeed",value:function(t){var e=t.stakePubkey,r=t.authorityBase,n=t.authoritySeed,i=t.authorityOwner,o=t.newAuthorizedPubkey,a=t.stakeAuthorizationType,s=t.custodianPubkey,u=nc(oE.AuthorizeWithSeed,{newAuthorized:rI(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:n,authorityOwner:rI(i.toBuffer())}),c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ne,isSigner:!1,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!1,isWritable:!1}),new r7().add({keys:c,programId:this.programId,data:u})}},{key:"splitInstruction",value:function(t){var e=t.stakePubkey,r=t.authorizedPubkey,n=t.splitStakePubkey,i=t.lamports,o=nc(oE.Split,{lamports:i});return new r5({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}},{key:"split",value:function(t){var e=new r7;return e.add(nv.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),e.add(this.splitInstruction(t))}},{key:"splitWithSeed",value:function(t){var e=t.stakePubkey,r=t.authorizedPubkey,n=t.splitStakePubkey,i=t.basePubkey,o=t.seed,a=t.lamports,s=new r7;return s.add(nv.allocate({accountPubkey:n,basePubkey:i,seed:o,space:this.space,programId:this.programId})),s.add(this.splitInstruction({stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:a}))}},{key:"merge",value:function(t){var e=t.stakePubkey,r=t.sourceStakePubKey,n=t.authorizedPubkey,i=nc(oE.Merge);return new r7().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!1},{pubkey:ni,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"withdraw",value:function(t){var e=t.stakePubkey,r=t.authorizedPubkey,n=t.toPubkey,i=t.lamports,o=t.custodianPubkey,a=nc(oE.Withdraw,{lamports:i}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!1},{pubkey:ni,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&s.push({pubkey:o,isSigner:!1,isWritable:!1}),new r7().add({keys:s,programId:this.programId,data:a})}},{key:"deactivate",value:function(t){var e=t.stakePubkey,r=t.authorizedPubkey,n=nc(oE.Deactivate);return new r7().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}]),t}();o_.programId=new rT("Stake11111111111111111111111111111111111111"),o_.space=200;var oA=Object.freeze({InitializeAccount:{index:0,layout:eu.n_([eu.Jq("instruction"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return eu.n_([rD("nodePubkey"),rD("authorizedVoter"),rD("authorizedWithdrawer"),eu.u8("commission")],t)}()])},Authorize:{index:1,layout:eu.n_([eu.Jq("instruction"),rD("newAuthorized"),eu.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:eu.n_([eu.Jq("instruction"),eu.gM("lamports")])},AuthorizeWithSeed:{index:10,layout:eu.n_([eu.Jq("instruction"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteAuthorizeWithSeedArgs";return eu.n_([eu.Jq("voteAuthorizationType"),rD("currentAuthorityDerivedKeyOwnerPubkey"),rq("currentAuthorityDerivedKeySeed"),rD("newAuthorized")],t)}()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});var oI=function(){function t(){o(this,t)}return c(t,null,[{key:"initializeAccount",value:function(t){var e=t.votePubkey,r=t.nodePubkey,n=t.voteInit,i=nc(oA.InitializeAccount,{voteInit:{nodePubkey:rI(n.nodePubkey.toBuffer()),authorizedVoter:rI(n.authorizedVoter.toBuffer()),authorizedWithdrawer:rI(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:nn,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new r5(o)}},{key:"createAccount",value:function(t){var e=new r7;return e.add(nv.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}},{key:"authorize",value:function(t){var e=t.votePubkey,r=t.authorizedPubkey,n=t.newAuthorizedPubkey,i=t.voteAuthorizationType,o=nc(oA.Authorize,{newAuthorized:rI(n.toBuffer()),voteAuthorizationType:i.index});return new r7().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}},{key:"authorizeWithSeed",value:function(t){var e=t.currentAuthorityDerivedKeyBasePubkey,r=t.currentAuthorityDerivedKeyOwnerPubkey,n=t.currentAuthorityDerivedKeySeed,i=t.newAuthorizedPubkey,o=t.voteAuthorizationType,a=t.votePubkey,s=nc(oA.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:rI(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:rI(i.toBuffer()),voteAuthorizationType:o.index}});return new r7().add({keys:[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}},{key:"withdraw",value:function(t){var e=t.votePubkey,r=t.authorizedWithdrawerPubkey,n=t.lamports,i=t.toPubkey,o=nc(oA.Withdraw,{lamports:n});return new r7().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}},{key:"safeWithdraw",value:function(e,r,n){if(e.lamports>r-n)throw Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}}]),t}();oI.programId=new rT("Vote111111111111111111111111111111111111111"),oI.space=3731,new rT("Va1idator1nfo111111111111111111111111111111"),eR({name:eP(),website:eN(eP()),details:eN(eP()),keybaseUsername:eN(eP())}),new rT("Vote111111111111111111111111111111111111111"),eu.n_([rD("nodePubkey"),rD("authorizedWithdrawer"),eu.u8("commission"),eu._O(),eu.A9(eu.n_([eu._O("slot"),eu.Jq("confirmationCount")]),eu.cv(eu.Jq(),-8),"votes"),eu.u8("rootSlotValid"),eu._O("rootSlot"),eu._O(),eu.A9(eu.n_([eu._O("epoch"),rD("authorizedVoter")]),eu.cv(eu.Jq(),-8),"authorizedVoters"),eu.n_([eu.A9(eu.n_([rD("authorizedPubkey"),eu._O("epochOfLastAuthorizedSwitch"),eu._O("targetEpoch")]),32,"buf"),eu._O("idx"),eu.u8("isEmpty")],"priorVoters"),eu._O(),eu.A9(eu.n_([eu._O("epoch"),eu._O("credits"),eu._O("prevCredits")]),eu.cv(eu.Jq(),-8),"epochCredits"),eu.n_([eu._O("slot"),eu._O("timestamp")],"lastTimestamp")]);var oM={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function oO(t,e){var r=!1===e?"http":"https";if(!t)return oM[r].devnet;var n=oM[r][t];if(!n)throw Error("Unknown ".concat(r," cluster: ").concat(t));return n}},9191:function(t,e,r){"use strict";var n=r(9509).Buffer;t.exports=function(t){if(t.length>=255)throw TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(255!==e[a])throw TypeError(o+" is ambiguous");e[a]=i}var s=t.length,u=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function h(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,o=0;t[r]===u;)i++,r++;for(var a=(t.length-r)*c+1>>>0,l=new Uint8Array(a);t[r];){var h=e[t.charCodeAt(r)];if(255===h)return;for(var f=0,d=a-1;(0!==h||f<o)&&-1!==d;d--,f++)h+=s*l[d]>>>0,l[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw Error("Non-zero carry");o=f,r++}for(var p=a-o;p!==a&&0===l[p];)p++;var y=n.allocUnsafe(i+(a-p));y.fill(0,0,i);for(var g=i;p!==a;)y[g++]=l[p++];return y}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,o=0,a=e.length;o!==a&&0===e[o];)o++,r++;for(var c=(a-o)*l+1>>>0,h=new Uint8Array(c);o!==a;){for(var f=e[o],d=0,p=c-1;(0!==f||d<i)&&-1!==p;p--,d++)f+=256*h[p]>>>0,h[p]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");i=d,o++}for(var y=c-i;y!==c&&0===h[y];)y++;for(var g=u.repeat(r);y<c;++y)g+=t.charAt(h[y]);return g},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw Error("Non-base"+s+" character")}}}},11:function(t,e,r){var n=r(9191);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},8162:function(t){"use strict";t.exports=function(t){if(t.length>=255)throw TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(255!==e[o])throw TypeError(i+" is ambiguous");e[o]=n}var a=t.length,s=t.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function l(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var r=0,n=0,i=0;t[r]===s;)n++,r++;for(var o=(t.length-r)*u+1>>>0,c=new Uint8Array(o);t[r];){var l=e[t.charCodeAt(r)];if(255===l)return;for(var h=0,f=o-1;(0!==l||h<i)&&-1!==f;f--,h++)l+=a*c[f]>>>0,c[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=h,r++}for(var d=o-i;d!==o&&0===c[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=c[d++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,o=e.length;i!==o&&0===e[i];)i++,r++;for(var u=(o-i)*c+1>>>0,l=new Uint8Array(u);i!==o;){for(var h=e[i],f=0,d=u-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=u-n;p!==u&&0===l[p];)p++;for(var y=s.repeat(r);p<u;++p)y+=t.charAt(l[p]);return y},decodeUnsafe:l,decode:function(t){var e=l(t);if(e)return e;throw Error("Non-base"+a+" character")}}}},9742:function(t,e){"use strict";e.byteLength=function(t){var e=u(t),r=e[0],n=e[1];return(r+n)*3/4-n},e.toByteArray=function(t){var e,r,o,a,s=u(t),c=s[0],l=s[1],h=new i((c+l)*3/4-l),f=0,d=l>0?c-4:c;for(r=0;r<d;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],h[f++]=e>>16&255,h[f++]=e>>8&255,h[f++]=255&e;return 2===l&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,h[f++]=255&e),1===l&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,h[f++]=e>>8&255,h[f++]=255&e),h},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));return 1===i?o.push(r[(e=t[n-1])>>2]+r[e<<4&63]+"=="):2===i&&o.push(r[(e=(t[n-2]<<8)+t[n-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function c(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function l(t,e,r){for(var n,i=[],o=e;o<r;o+=3)i.push(c(n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2])));return i.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},475:function(t,e,r){"use strict";var n=r(8764).Buffer;e.oU=function(t){{let e=n.from(t);e.reverse();let r=e.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},e.k$=function(t,e){{let r=t.toString(16),i=n.from(r.padStart(2*e,"0").slice(0,2*e),"hex");return i.reverse(),i}}},3550:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(r=e,e=10),this._init(t||0,e||10,r||"be"))}"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{d="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(6601).Buffer}catch(a){}function s(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function c(t,e,r,i){for(var o=0,a=0,s=Math.min(t.length,r),u=e;u<s;u++){var c=t.charCodeAt(u)-48;o*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&a<i,"Invalid character"),o+=a}return o}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return 0>t.cmp(e)?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=Array(this.length);for(var i,o,a=0;a<this.length;a++)this.words[a]=0;var s=0;if("be"===r)for(a=t.length-1,i=0;a>=0;a-=3)o=t[a]|t[a-1]<<8|t[a-2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);else if("le"===r)for(a=0,i=0;a<t.length;a+=3)o=t[a]|t[a+1]<<8|t[a+2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=Array(this.length);for(var n,i=0;i<this.length;i++)this.words[i]=0;var o=0,a=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=u(t,e,i)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;else{var s=t.length-e;for(i=s%2==0?e+1:e;i<t.length;i+=2)n=u(t,e,i)<<o,this.words[a]|=67108863&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8}this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,u=0,l=r;l<s;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=c(t,l,t.length,e),l=0;l<a;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){l(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(h){o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d,p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;l+=(a=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&a}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var r,i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=((s<<i|o)&16777215).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?p[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=y[t],l=g[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var f=h.modrn(l).toString(t);r=(h=h.idivn(l)).isZero()?f+r:p[c-f.length]+f+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},d&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(d,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){this._strip();var i,o,a=this.byteLength(),s=r||Math.max(1,a);n(a<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var u=t.allocUnsafe?t.allocUnsafe(s):new t(s);return this["_toArrayLike"+("le"===e?"LE":"BE")](u,a),u},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r++]=255&a,r<t.length&&(t[r++]=a>>8&255),r<t.length&&(t[r++]=a>>16&255),6===o?(r<t.length&&(t[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r--]=255&a,r>=0&&(t[r--]=a>>8&255),r>=0&&(t[r--]=a>>16&255),6===o?(r>=0&&(t[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return(8191&e)==0&&(r+=13,e>>>=13),(127&e)==0&&(r+=7,e>>>=7),(15&e)==0&&(r+=4,e>>>=4),(3&e)==0&&(r+=2,e>>>=2),(1&e)==0&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return(this.length-1)*26+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n((this.negative|t.negative)==0),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n((this.negative|t.negative)==0),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){this.length>t.length?(e=this,r=t):(e=t,r=this);for(var e,r,n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n((this.negative|t.negative)==0),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),e?this.words[r]=this.words[r]|1<<i:this.words[r]=this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var e,r,n,i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e,r,n=this.iadd(t);return t.negative=1,n._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(e=this,r=t):(e=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(n=(0|e.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&n;for(;0!==o&&a<e.length;a++)o=(n=(0|e.words[a])+o)>>26,this.words[a]=67108863&n;if(0===o&&a<e.length&&e!==this)for(;a<e.length;a++)this.words[a]=e.words[a];return this.length=Math.max(this.length,a),e!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var v=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,c=0,l=0|a[0],h=8191&l,f=l>>>13,d=0|a[1],p=8191&d,y=d>>>13,g=0|a[2],m=8191&g,v=g>>>13,b=0|a[3],w=8191&b,k=b>>>13,x=0|a[4],S=8191&x,E=x>>>13,_=0|a[5],A=8191&_,I=_>>>13,M=0|a[6],O=8191&M,L=M>>>13,B=0|a[7],T=8191&B,N=B>>>13,j=0|a[8],P=8191&j,C=j>>>13,R=0|a[9],U=8191&R,z=R>>>13,D=0|s[0],W=8191&D,q=D>>>13,K=0|s[1],F=8191&K,H=K>>>13,G=0|s[2],Y=8191&G,V=G>>>13,$=0|s[3],Z=8191&$,J=$>>>13,Q=0|s[4],X=8191&Q,tt=Q>>>13,te=0|s[5],tr=8191&te,tn=te>>>13,ti=0|s[6],to=8191&ti,ta=ti>>>13,ts=0|s[7],tu=8191&ts,tc=ts>>>13,tl=0|s[8],th=8191&tl,tf=tl>>>13,td=0|s[9],tp=8191&td,ty=td>>>13;r.negative=t.negative^e.negative,r.length=19,n=Math.imul(h,W);var tg=(c+n|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(f,W)|0))<<13)|0;c=((o=Math.imul(f,q))+(i>>>13)|0)+(tg>>>26)|0,tg&=67108863,n=Math.imul(p,W),i=(i=Math.imul(p,q))+Math.imul(y,W)|0,o=Math.imul(y,q),n=n+Math.imul(h,F)|0;var tm=(c+n|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,F)|0))<<13)|0;c=((o=o+Math.imul(f,H)|0)+(i>>>13)|0)+(tm>>>26)|0,tm&=67108863,n=Math.imul(m,W),i=(i=Math.imul(m,q))+Math.imul(v,W)|0,o=Math.imul(v,q),n=n+Math.imul(p,F)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(y,F)|0,o=o+Math.imul(y,H)|0,n=n+Math.imul(h,Y)|0;var tv=(c+n|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(f,Y)|0))<<13)|0;c=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(tv>>>26)|0,tv&=67108863,n=Math.imul(w,W),i=(i=Math.imul(w,q))+Math.imul(k,W)|0,o=Math.imul(k,q),n=n+Math.imul(m,F)|0,i=(i=i+Math.imul(m,H)|0)+Math.imul(v,F)|0,o=o+Math.imul(v,H)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(h,Z)|0;var tb=(c+n|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,Z)|0))<<13)|0;c=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(tb>>>26)|0,tb&=67108863,n=Math.imul(S,W),i=(i=Math.imul(S,q))+Math.imul(E,W)|0,o=Math.imul(E,q),n=n+Math.imul(w,F)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(k,F)|0,o=o+Math.imul(k,H)|0,n=n+Math.imul(m,Y)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,V)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(h,X)|0;var tw=(c+n|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,X)|0))<<13)|0;c=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(tw>>>26)|0,tw&=67108863,n=Math.imul(A,W),i=(i=Math.imul(A,q))+Math.imul(I,W)|0,o=Math.imul(I,q),n=n+Math.imul(S,F)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(E,F)|0,o=o+Math.imul(E,H)|0,n=n+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(m,Z)|0,i=(i=i+Math.imul(m,J)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(h,tr)|0;var tk=(c+n|0)+((8191&(i=(i=i+Math.imul(h,tn)|0)+Math.imul(f,tr)|0))<<13)|0;c=((o=o+Math.imul(f,tn)|0)+(i>>>13)|0)+(tk>>>26)|0,tk&=67108863,n=Math.imul(O,W),i=(i=Math.imul(O,q))+Math.imul(L,W)|0,o=Math.imul(L,q),n=n+Math.imul(A,F)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(I,F)|0,o=o+Math.imul(I,H)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(m,X)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,tt)|0,n=n+Math.imul(p,tr)|0,i=(i=i+Math.imul(p,tn)|0)+Math.imul(y,tr)|0,o=o+Math.imul(y,tn)|0,n=n+Math.imul(h,to)|0;var tx=(c+n|0)+((8191&(i=(i=i+Math.imul(h,ta)|0)+Math.imul(f,to)|0))<<13)|0;c=((o=o+Math.imul(f,ta)|0)+(i>>>13)|0)+(tx>>>26)|0,tx&=67108863,n=Math.imul(T,W),i=(i=Math.imul(T,q))+Math.imul(N,W)|0,o=Math.imul(N,q),n=n+Math.imul(O,F)|0,i=(i=i+Math.imul(O,H)|0)+Math.imul(L,F)|0,o=o+Math.imul(L,H)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,V)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(m,tr)|0,i=(i=i+Math.imul(m,tn)|0)+Math.imul(v,tr)|0,o=o+Math.imul(v,tn)|0,n=n+Math.imul(p,to)|0,i=(i=i+Math.imul(p,ta)|0)+Math.imul(y,to)|0,o=o+Math.imul(y,ta)|0,n=n+Math.imul(h,tu)|0;var tS=(c+n|0)+((8191&(i=(i=i+Math.imul(h,tc)|0)+Math.imul(f,tu)|0))<<13)|0;c=((o=o+Math.imul(f,tc)|0)+(i>>>13)|0)+(tS>>>26)|0,tS&=67108863,n=Math.imul(P,W),i=(i=Math.imul(P,q))+Math.imul(C,W)|0,o=Math.imul(C,q),n=n+Math.imul(T,F)|0,i=(i=i+Math.imul(T,H)|0)+Math.imul(N,F)|0,o=o+Math.imul(N,H)|0,n=n+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(w,tr)|0,i=(i=i+Math.imul(w,tn)|0)+Math.imul(k,tr)|0,o=o+Math.imul(k,tn)|0,n=n+Math.imul(m,to)|0,i=(i=i+Math.imul(m,ta)|0)+Math.imul(v,to)|0,o=o+Math.imul(v,ta)|0,n=n+Math.imul(p,tu)|0,i=(i=i+Math.imul(p,tc)|0)+Math.imul(y,tu)|0,o=o+Math.imul(y,tc)|0,n=n+Math.imul(h,th)|0;var tE=(c+n|0)+((8191&(i=(i=i+Math.imul(h,tf)|0)+Math.imul(f,th)|0))<<13)|0;c=((o=o+Math.imul(f,tf)|0)+(i>>>13)|0)+(tE>>>26)|0,tE&=67108863,n=Math.imul(U,W),i=(i=Math.imul(U,q))+Math.imul(z,W)|0,o=Math.imul(z,q),n=n+Math.imul(P,F)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(C,F)|0,o=o+Math.imul(C,H)|0,n=n+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,V)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(S,tr)|0,i=(i=i+Math.imul(S,tn)|0)+Math.imul(E,tr)|0,o=o+Math.imul(E,tn)|0,n=n+Math.imul(w,to)|0,i=(i=i+Math.imul(w,ta)|0)+Math.imul(k,to)|0,o=o+Math.imul(k,ta)|0,n=n+Math.imul(m,tu)|0,i=(i=i+Math.imul(m,tc)|0)+Math.imul(v,tu)|0,o=o+Math.imul(v,tc)|0,n=n+Math.imul(p,th)|0,i=(i=i+Math.imul(p,tf)|0)+Math.imul(y,th)|0,o=o+Math.imul(y,tf)|0,n=n+Math.imul(h,tp)|0;var t_=(c+n|0)+((8191&(i=(i=i+Math.imul(h,ty)|0)+Math.imul(f,tp)|0))<<13)|0;c=((o=o+Math.imul(f,ty)|0)+(i>>>13)|0)+(t_>>>26)|0,t_&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,H))+Math.imul(z,F)|0,o=Math.imul(z,H),n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(O,X)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(A,tr)|0,i=(i=i+Math.imul(A,tn)|0)+Math.imul(I,tr)|0,o=o+Math.imul(I,tn)|0,n=n+Math.imul(S,to)|0,i=(i=i+Math.imul(S,ta)|0)+Math.imul(E,to)|0,o=o+Math.imul(E,ta)|0,n=n+Math.imul(w,tu)|0,i=(i=i+Math.imul(w,tc)|0)+Math.imul(k,tu)|0,o=o+Math.imul(k,tc)|0,n=n+Math.imul(m,th)|0,i=(i=i+Math.imul(m,tf)|0)+Math.imul(v,th)|0,o=o+Math.imul(v,tf)|0,n=n+Math.imul(p,tp)|0;var tA=(c+n|0)+((8191&(i=(i=i+Math.imul(p,ty)|0)+Math.imul(y,tp)|0))<<13)|0;c=((o=o+Math.imul(y,ty)|0)+(i>>>13)|0)+(tA>>>26)|0,tA&=67108863,n=Math.imul(U,Y),i=(i=Math.imul(U,V))+Math.imul(z,Y)|0,o=Math.imul(z,V),n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(C,Z)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(O,tr)|0,i=(i=i+Math.imul(O,tn)|0)+Math.imul(L,tr)|0,o=o+Math.imul(L,tn)|0,n=n+Math.imul(A,to)|0,i=(i=i+Math.imul(A,ta)|0)+Math.imul(I,to)|0,o=o+Math.imul(I,ta)|0,n=n+Math.imul(S,tu)|0,i=(i=i+Math.imul(S,tc)|0)+Math.imul(E,tu)|0,o=o+Math.imul(E,tc)|0,n=n+Math.imul(w,th)|0,i=(i=i+Math.imul(w,tf)|0)+Math.imul(k,th)|0,o=o+Math.imul(k,tf)|0,n=n+Math.imul(m,tp)|0;var tI=(c+n|0)+((8191&(i=(i=i+Math.imul(m,ty)|0)+Math.imul(v,tp)|0))<<13)|0;c=((o=o+Math.imul(v,ty)|0)+(i>>>13)|0)+(tI>>>26)|0,tI&=67108863,n=Math.imul(U,Z),i=(i=Math.imul(U,J))+Math.imul(z,Z)|0,o=Math.imul(z,J),n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(T,tr)|0,i=(i=i+Math.imul(T,tn)|0)+Math.imul(N,tr)|0,o=o+Math.imul(N,tn)|0,n=n+Math.imul(O,to)|0,i=(i=i+Math.imul(O,ta)|0)+Math.imul(L,to)|0,o=o+Math.imul(L,ta)|0,n=n+Math.imul(A,tu)|0,i=(i=i+Math.imul(A,tc)|0)+Math.imul(I,tu)|0,o=o+Math.imul(I,tc)|0,n=n+Math.imul(S,th)|0,i=(i=i+Math.imul(S,tf)|0)+Math.imul(E,th)|0,o=o+Math.imul(E,tf)|0,n=n+Math.imul(w,tp)|0;var tM=(c+n|0)+((8191&(i=(i=i+Math.imul(w,ty)|0)+Math.imul(k,tp)|0))<<13)|0;c=((o=o+Math.imul(k,ty)|0)+(i>>>13)|0)+(tM>>>26)|0,tM&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(z,X)|0,o=Math.imul(z,tt),n=n+Math.imul(P,tr)|0,i=(i=i+Math.imul(P,tn)|0)+Math.imul(C,tr)|0,o=o+Math.imul(C,tn)|0,n=n+Math.imul(T,to)|0,i=(i=i+Math.imul(T,ta)|0)+Math.imul(N,to)|0,o=o+Math.imul(N,ta)|0,n=n+Math.imul(O,tu)|0,i=(i=i+Math.imul(O,tc)|0)+Math.imul(L,tu)|0,o=o+Math.imul(L,tc)|0,n=n+Math.imul(A,th)|0,i=(i=i+Math.imul(A,tf)|0)+Math.imul(I,th)|0,o=o+Math.imul(I,tf)|0,n=n+Math.imul(S,tp)|0;var tO=(c+n|0)+((8191&(i=(i=i+Math.imul(S,ty)|0)+Math.imul(E,tp)|0))<<13)|0;c=((o=o+Math.imul(E,ty)|0)+(i>>>13)|0)+(tO>>>26)|0,tO&=67108863,n=Math.imul(U,tr),i=(i=Math.imul(U,tn))+Math.imul(z,tr)|0,o=Math.imul(z,tn),n=n+Math.imul(P,to)|0,i=(i=i+Math.imul(P,ta)|0)+Math.imul(C,to)|0,o=o+Math.imul(C,ta)|0,n=n+Math.imul(T,tu)|0,i=(i=i+Math.imul(T,tc)|0)+Math.imul(N,tu)|0,o=o+Math.imul(N,tc)|0,n=n+Math.imul(O,th)|0,i=(i=i+Math.imul(O,tf)|0)+Math.imul(L,th)|0,o=o+Math.imul(L,tf)|0,n=n+Math.imul(A,tp)|0;var tL=(c+n|0)+((8191&(i=(i=i+Math.imul(A,ty)|0)+Math.imul(I,tp)|0))<<13)|0;c=((o=o+Math.imul(I,ty)|0)+(i>>>13)|0)+(tL>>>26)|0,tL&=67108863,n=Math.imul(U,to),i=(i=Math.imul(U,ta))+Math.imul(z,to)|0,o=Math.imul(z,ta),n=n+Math.imul(P,tu)|0,i=(i=i+Math.imul(P,tc)|0)+Math.imul(C,tu)|0,o=o+Math.imul(C,tc)|0,n=n+Math.imul(T,th)|0,i=(i=i+Math.imul(T,tf)|0)+Math.imul(N,th)|0,o=o+Math.imul(N,tf)|0,n=n+Math.imul(O,tp)|0;var tB=(c+n|0)+((8191&(i=(i=i+Math.imul(O,ty)|0)+Math.imul(L,tp)|0))<<13)|0;c=((o=o+Math.imul(L,ty)|0)+(i>>>13)|0)+(tB>>>26)|0,tB&=67108863,n=Math.imul(U,tu),i=(i=Math.imul(U,tc))+Math.imul(z,tu)|0,o=Math.imul(z,tc),n=n+Math.imul(P,th)|0,i=(i=i+Math.imul(P,tf)|0)+Math.imul(C,th)|0,o=o+Math.imul(C,tf)|0,n=n+Math.imul(T,tp)|0;var tT=(c+n|0)+((8191&(i=(i=i+Math.imul(T,ty)|0)+Math.imul(N,tp)|0))<<13)|0;c=((o=o+Math.imul(N,ty)|0)+(i>>>13)|0)+(tT>>>26)|0,tT&=67108863,n=Math.imul(U,th),i=(i=Math.imul(U,tf))+Math.imul(z,th)|0,o=Math.imul(z,tf),n=n+Math.imul(P,tp)|0;var tN=(c+n|0)+((8191&(i=(i=i+Math.imul(P,ty)|0)+Math.imul(C,tp)|0))<<13)|0;c=((o=o+Math.imul(C,ty)|0)+(i>>>13)|0)+(tN>>>26)|0,tN&=67108863,n=Math.imul(U,tp);var tj=(c+n|0)+((8191&(i=(i=Math.imul(U,ty))+Math.imul(z,tp)|0))<<13)|0;return c=((o=Math.imul(z,ty))+(i>>>13)|0)+(tj>>>26)|0,tj&=67108863,u[0]=tg,u[1]=tm,u[2]=tv,u[3]=tb,u[4]=tw,u[5]=tk,u[6]=tx,u[7]=tS,u[8]=tE,u[9]=t_,u[10]=tA,u[11]=tI,u[12]=tM,u[13]=tO,u[14]=tL,u[15]=tB,u[16]=tT,u[17]=tN,u[18]=tj,0!==c&&(u[19]=c,r.length++),r};function b(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var l,h=o-c,f=(0|t.words[h])*(0|e.words[c]),d=67108863&f;a=a+(f/67108864|0)|0,s=67108863&(d=d+s|0),i+=(a=a+(d>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function w(t,e){this.x=t,this.y=e}Math.imul||(v=m),o.prototype.mulTo=function(t,e){var r,n,i,o,a=this.length+t.length;return 10===this.length&&10===t.length?o=v(this,t,e):a<63?o=m(this,t,e):a<1024?o=b(this,t,e):(r=this,n=t,o=b(r,n,i=e)),o},w.prototype.makeRBT=function(t){for(var e=Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var h=u,f=c,d=0;d<a;d++){var p=r[l+d],y=n[l+d],g=r[l+d+a],m=n[l+d+a],v=h*g-f*m;m=h*m+f*g,g=v,r[l+d]=p+g,n[l+d]=y+m,r[l+d+a]=p-g,n[l+d+a]=y-m,d!==s&&(v=u*h-c*f,f=u*f+c*h,h=v)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n((-8192&o)==0)},w.prototype.stub=function(t){for(var e=Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=Array(n),s=Array(n),u=Array(n),c=Array(n),l=Array(n),h=Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,l,h,n,i);for(var d=0;d<n;d++){var p=s[d]*l[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e,r,n,i=new o(null);return i.words=Array(this.length+t.length),b(this,t,i)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<r;this.words[e]=u|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var i,o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return!(this.length<=r)&&!!(this.words[r]&1<<e)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)?this:(0!==e&&r++,this.length=Math.min(r,this.length),0!==e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this._strip())},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return(n("number"==typeof t),n(t<67108864),t<0)?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;o-=67108863&u,s=(o>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r,n=this.length-t.length,i=this.clone(),a=t,s=0|a.words[a.length-1];0!=(n=26-this._countBits(s))&&(a=a.ushln(n),i.iushln(n),s=0|a.words[a.length-1]);var u=i.length-a.length;if("mod"!==e){(r=new o(null)).length=u+1,r.words=Array(r.length);for(var c=0;c<r.length;c++)r.words[c]=0}var l=i.clone()._ishlnsubmul(a,1,u);0===l.negative&&(i=l,r&&(r.words[u]=1));for(var h=u-1;h>=0;h--){var f=(0|i.words[a.length+h])*67108864+(0|i.words[a.length+h-1]);for(f=Math.min(f/s|0,67108863),i._ishlnsubmul(a,f,h);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(a,1,h),i.isZero()||(i.negative^=1);r&&(r.words[h]=f)}return r&&r._strip(),i._strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:r||null,mod:i}},o.prototype.divmod=function(t,e,r){var i,a,s;return(n(!t.isZero()),this.isZero())?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):(this.negative&t.negative)!=0?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||0>this.cmp(t)?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e)},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=67108864%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;(e.words[0]&d)==0&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var p=0,y=1;(r.words[0]&y)==0&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(h)),s.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(u)):(r.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e,r=this,i=t.clone();r=0!==r.negative?r.umod(t):r.clone();for(var a=new o(1),s=new o(0),u=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var c=0,l=1;(r.words[0]&l)==0&&c<26;++c,l<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;(i.words[0]&f)==0&&h<26;++h,f<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);r.cmp(i)>=0?(r.isub(i),a.isub(s)):(i.isub(r),s.isub(a))}return 0>(e=0===r.cmpn(1)?a:s).cmpn(0)&&e.iadd(t),e},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];s+=o,o=s>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return -1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return -1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return -1===this.cmpn(t)},o.prototype.lt=function(t){return -1===this.cmp(t)},o.prototype.lten=function(t){return 0>=this.cmpn(t)},o.prototype.lte=function(t){return 0>=this.cmp(t)},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new I(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var k={k256:null,p224:null,p192:null,p25519:null};function x(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){I.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x.prototype._tmp=function(){var t=new o(null);return t.words=Array(Math.ceil(this.n/13)),t},x.prototype.ireduce=function(t){var e,r=t;do this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},x.prototype.split=function(t,e){t.iushrn(this.n,0,e)},x.prototype.imulK=function(t){return t.imul(this.k)},i(S,x),S.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9){t.words[0]=0,t.length=1;return}var i=t.words[9];for(n=10,e.words[e.length++]=4194303&i;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},S.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(E,x),i(_,x),i(A,x),A.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=(0|t.words[r])*19+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){var e;if(k[t])return k[t];if("k256"===t)e=new S;else if("p224"===t)e=new E;else if("p192"===t)e=new _;else if("p25519"===t)e=new A;else throw Error("Unknown prime "+t);return k[t]=e,e},I.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},I.prototype._verify2=function(t,e){n((t.negative|e.negative)==0,"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},I.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},I.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},I.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},I.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},I.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},I.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return 0>r.cmpn(0)&&r.iadd(this.m),r},I.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},I.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},I.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},I.prototype.isqr=function(t){return this.imul(t,t.clone())},I.prototype.sqr=function(t){return this.mul(t,t)},I.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var y=d,g=0;0!==y.cmp(s);g++)y=y.redSqr();n(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));f=f.redMul(m),h=m.redSqr(),d=d.redMul(h),p=g}return f},I.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},I.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;if(i!==r[0]&&(i=this.sqr(i)),0===h&&0===a){s=0;continue}a<<=1,a|=h,(4==++s||0===n&&0===l)&&(i=this.mul(i,r[a]),s=0,a=0)}u=26}return i},I.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},I.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new M(t)},i(M,I),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):0>i.cmpn(0)&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):0>i.cmpn(0)&&(a=i.iadd(this.m)),a._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},5532:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return o(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;let c=u(r(3550)),l=u(r(7304)),h=s(r(1127)),f="function"!=typeof TextDecoder?h.TextDecoder:TextDecoder,d=new f("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"==typeof t&&(t=n.from(t,"utf8")),l.default.encode(n.from(t))},e.baseDecode=function(t){return n.from(l.default.decode(t))};class p extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=p;class y{constructor(){this.buf=n.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(1024)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(n.from(new c.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(n.from(new c.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(n.from(new c.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(n.from(new c.default(t).toArray("le",64)))}writeBuffer(t){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),t,n.alloc(1024),]),this.length+=t.length}writeString(t){this.maybeResize();let e=n.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(n.from(t))}writeArray(t,e){for(let r of(this.maybeResize(),this.writeU32(t.length),t))this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}}function g(t,e,r){let n=r.value;r.value=function(...t){try{return n.apply(this,t)}catch(r){if(r instanceof RangeError){let e=r.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new p("Reached the end of buffer when deserializing")}throw r}}}e.BinaryWriter=y;class m{constructor(t){this.buf=t,this.offset=0}readU8(){let t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){let t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){let t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){let t=this.readBuffer(8);return new c.default(t,"le")}readU128(){let t=this.readBuffer(16);return new c.default(t,"le")}readU256(){let t=this.readBuffer(32);return new c.default(t,"le")}readU512(){let t=this.readBuffer(64);return new c.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new p(`Expected buffer length ${t} isn't within bounds`);let e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){let t=this.readU32(),e=this.readBuffer(t);try{return d.decode(e)}catch(r){throw new p(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){let e=this.readU32(),r=[];for(let n=0;n<e;++n)r.push(t());return r}}function v(t){return t.charAt(0).toUpperCase()+t.slice(1)}function b(t,e,r,n,i){try{if("string"==typeof n)i[`write${v(n)}`](r);else if(n instanceof Array){if("number"==typeof n[0]){if(r.length!==n[0])throw new p(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new p(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)b(t,null,r[o],n[0],i)}else i.writeArray(r,r=>{b(t,e,r,n[0],i)})}else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),b(t,e,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach((r,o)=>{b(t,e,o,n.key,i),b(t,e,r,n.value,i)});break;default:throw new p(`FieldType ${n} unrecognized`)}else w(t,r,i)}catch(a){throw a instanceof p&&a.addToFieldPath(e),a}}function w(t,e,r){if("function"==typeof e.borshSerialize){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new p(`Class ${e.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map(([n,i])=>{b(t,n,e[n],i,r)});else if("enum"===n.kind){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[a,s]=n.values[o];if(a===i){r.writeU8(o),b(t,a,e[a],s,r);break}}}else throw new p(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function k(t,e,r,n){try{if("string"==typeof r)return n[`read${v(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"!=typeof r[1])return n.readArray(()=>k(t,e,r[0],n));{let i=[];for(let o=0;o<r[1];o++)i.push(k(t,null,r[0],n));return i}}if("option"===r.kind){let a=n.readU8();if(a)return k(t,e,r.type,n);return}if("map"===r.kind){let s=new Map,u=n.readU32();for(let c=0;c<u;c++){let l=k(t,e,r.key,n),h=k(t,e,r.value,n);s.set(l,h)}return s}return x(t,r,n)}catch(f){throw f instanceof p&&f.addToFieldPath(e),f}}function x(t,e,r){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new p(`Class ${e.name} is missing in schema`);if("struct"===n.kind){let i={};for(let[o,a]of t.get(e).fields)i[o]=k(t,o,a,r);return new e(i)}if("enum"===n.kind){let s=r.readU8();if(s>=n.values.length)throw new p(`Enum index: ${s} is out of range`);let[u,c]=n.values[s],l=k(t,u,c,r);return new e({[u]:l})}throw new p(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}a([g],m.prototype,"readU8",null),a([g],m.prototype,"readU16",null),a([g],m.prototype,"readU32",null),a([g],m.prototype,"readU64",null),a([g],m.prototype,"readU128",null),a([g],m.prototype,"readU256",null),a([g],m.prototype,"readU512",null),a([g],m.prototype,"readString",null),a([g],m.prototype,"readFixedArray",null),a([g],m.prototype,"readArray",null),e.BinaryReader=m,e.serialize=function(t,e,r=y){let n=new r;return w(t,e,n),n.toArray()},e.deserialize=function(t,e,r,n=m){let i=new n(r),o=x(t,e,i);if(i.offset<r.length)throw new p(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o},e.deserializeUnchecked=function(t,e,r,n=m){let i=new n(r);return x(t,e,i)}},1709:function(t,e,r){"use strict";var n=r(9509).Buffer;t.exports=function(t){if(t.length>=255)throw TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(255!==e[a])throw TypeError(o+" is ambiguous");e[a]=i}var s=t.length,u=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function h(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,o=0;t[r]===u;)i++,r++;for(var a=(t.length-r)*c+1>>>0,l=new Uint8Array(a);t[r];){var h=e[t.charCodeAt(r)];if(255===h)return;for(var f=0,d=a-1;(0!==h||f<o)&&-1!==d;d--,f++)h+=s*l[d]>>>0,l[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw Error("Non-zero carry");o=f,r++}for(var p=a-o;p!==a&&0===l[p];)p++;var y=n.allocUnsafe(i+(a-p));y.fill(0,0,i);for(var g=i;p!==a;)y[g++]=l[p++];return y}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,o=0,a=e.length;o!==a&&0===e[o];)o++,r++;for(var c=(a-o)*l+1>>>0,h=new Uint8Array(c);o!==a;){for(var f=e[o],d=0,p=c-1;(0!==f||d<i)&&-1!==p;p--,d++)f+=256*h[p]>>>0,h[p]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");i=d,o++}for(var y=c-i;y!==c&&0===h[y];)y++;for(var g=u.repeat(r);y<c;++y)g+=t.charAt(h[y]);return g},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw Error("Non-base"+s+" character")}}}},7304:function(t,e,r){var n=r(1709);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},7191:function(t,e,r){let n=r(8162);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},8764:function(t,e,r){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */ let n=r(9742),i=r(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(t){if(t>2147483647)throw RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,s.prototype),e}function s(t,e,r){if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return l(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!s.isEncoding(e))throw TypeError("Unknown encoding: "+e);let r=0|p(t,e),n=a(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){let e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return f(t,e,r);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return s.from(n,e,r);let i=function(t){if(s.isBuffer(t)){let e=0|d(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||function(t){return t!=t}(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return s.from(t[Symbol.toPrimitive]("string"),e,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return c(t),a(t<0?0:0|d(t))}function h(t){let e=t.length<0?0:0|d(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function f(t,e,r){if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw RangeError('"length" is outside of buffer bounds');let n;return Object.setPrototypeOf(n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),s.prototype),n}function d(t){if(t>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function p(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(t).length;default:if(i)return n?-1:F(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,r);case"utf8":case"utf-8":return _(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return E(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,r);default:if(n)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function g(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}function m(t,e,r,n,i){var o;if(0===t.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),o=r=+r,o!=o&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return -1;r=t.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return(e&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){let o=1,a=t.length,s=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return -1;o=2,a/=2,s/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}let c;if(i){let l=-1;for(c=r;c<a;c++)if(u(t,c)===u(e,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===s)return l*o}else -1!==l&&(c-=c-l),l=-1}else for(r+s>a&&(r=a-s),c=r;c>=0;c--){let h=!0;for(let f=0;f<s;f++)if(u(t,c+f)!==u(e,f)){h=!1;break}if(h)return c}return -1}function b(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;let o=e.length;n>o/2&&(n=o/2);let a;for(a=0;a<n;++a){var s;let u=parseInt(e.substr(2*a,2),16);if(s=u,s!=s)break;t[r+a]=u}return a}function w(t,e,r,n){return G(F(e,t.length-r),t,r,n)}function k(t,e,r,n){return G(function(t){let e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return G(H(e),t,r,n)}function S(t,e,r,n){return G(function(t,e){let r,n,i,o=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function E(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function _(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){let u,c,l,h;switch(s){case 1:o<128&&(a=o);break;case 2:(192&(u=t[i+1]))==128&&(h=(31&o)<<6|63&u)>127&&(a=h);break;case 3:u=t[i+1],c=t[i+2],(192&u)==128&&(192&c)==128&&(h=(15&o)<<12|(63&u)<<6|63&c)>2047&&(h<55296||h>57343)&&(a=h);break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],(192&u)==128&&(192&c)==128&&(192&l)==128&&(h=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&h<1114112&&(a=h)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(t){let e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}function A(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function I(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function M(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=$[t[o]];return i}function O(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function L(t,e,r){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>r)throw RangeError("Trying to access beyond buffer length")}function B(t,e,r,n,i,o){if(!s.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw RangeError('"value" argument is out of bounds');if(r+n>t.length)throw RangeError("Index out of range")}function T(t,e,r,n,i){D(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,r}function N(t,e,r,n,i){D(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a>>=8,t[r+2]=a,a>>=8,t[r+1]=a,a>>=8,t[r]=a,r+8}function j(t,e,r,n,i,o){if(r+n>t.length||r<0)throw RangeError("Index out of range")}function P(t,e,r,n,o){return e=+e,r>>>=0,o||j(t,e,r,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,r,n,23,4),r+4}function C(t,e,r,n,o){return e=+e,r>>>=0,o||j(t,e,r,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,r,n,52,8),r+8}e.Buffer=s,e.SlowBuffer=function(t){return+t!=t&&(t=0),s.alloc(+t)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,s.TYPED_ARRAY_SUPPORT=function(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(r){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(t,e,r){var n,i,o;return(c(t),t<=0)?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)},s.allocUnsafe=function(t){return l(t)},s.allocUnsafeSlow=function(t){return l(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,e){if(Y(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(t)||!s.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);let r;if(void 0===e)for(r=0,e=0;r<t.length;++r)e+=t[r].length;let n=s.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){let o=t[r];if(Y(o,Uint8Array))i+o.length>n.length?(s.isBuffer(o)||(o=s.from(o)),o.copy(n,i)):Uint8Array.prototype.set.call(n,o,i);else if(s.isBuffer(o))o.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=o.length}return n},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){let t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)g(this,e,e+1);return this},s.prototype.swap32=function(){let t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},s.prototype.swap64=function(){let t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},s.prototype.toString=function(){let t=this.length;return 0===t?"":0===arguments.length?_(this,0,t):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(t,e,r,n,i){if(Y(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return -1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;let o=i-n,a=r-e,u=Math.min(o,a),c=this.slice(n,i),l=t.slice(e,r);for(let h=0;h<u;++h)if(c[h]!==l[h]){o=c[h],a=l[h];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,r){return -1!==this.indexOf(t,e,r)},s.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},s.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return k(this,t,e,r);case"base64":return x(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(o)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(t,e){let r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);let n=this.subarray(t,e);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||L(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||L(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},s.prototype.readUint8=s.prototype.readUInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),this[t]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readBigUInt64LE=Z(function(t){W(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&q(t,this.length-8);let n=e+256*this[++t]+65536*this[++t]+16777216*this[++t],i=this[++t]+256*this[++t]+65536*this[++t]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),s.prototype.readBigUInt64BE=Z(function(t){W(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&q(t,this.length-8);let n=16777216*e+65536*this[++t]+256*this[++t]+this[++t],i=16777216*this[++t]+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),s.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||L(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||L(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return(t>>>=0,e||L(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},s.prototype.readInt16LE=function(t,e){t>>>=0,e||L(t,2,this.length);let r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,e){t>>>=0,e||L(t,2,this.length);let r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readBigInt64LE=Z(function(t){W(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&q(t,this.length-8);let n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+16777216*this[++t])}),s.prototype.readBigInt64BE=Z(function(t){W(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&q(t,this.length-8);let n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(16777216*this[++t]+65536*this[++t]+256*this[++t]+r)}),s.prototype.readFloatLE=function(t,e){return t>>>=0,e||L(t,4,this.length),i.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||L(t,4,this.length),i.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||L(t,8,this.length),i.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||L(t,8,this.length),i.read(this,t,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){let i=Math.pow(2,8*r)-1;B(this,t,e,r,i,0)}let o=1,a=0;for(this[e]=255&t;++a<r&&(o*=256);)this[e+a]=t/o&255;return e+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){let i=Math.pow(2,8*r)-1;B(this,t,e,r,i,0)}let o=r-1,a=1;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=t/a&255;return e+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeBigUInt64LE=Z(function(t,e=0){return T(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Z(function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){let i=Math.pow(2,8*r-1);B(this,t,e,r,i-1,-i)}let o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},s.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){let i=Math.pow(2,8*r-1);B(this,t,e,r,i-1,-i)}let o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeBigInt64LE=Z(function(t,e=0){return T(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Z(function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(t,e,r){return P(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return P(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return C(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return C(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,n){if(!s.isBuffer(t))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);let i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},s.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===t.length){let i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);let o;if("number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{let a=s.isBuffer(t)?t:s.from(t,n),u=a.length;if(0===u)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=a[o%u]}return this};let R={};function U(t,e,r){R[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function z(t){let e="",r=t.length,n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function D(t,e,r,n,i,o){var a,s,u;if(t>r||t<e){let c="bigint"==typeof e?"n":"",l;throw l=o>3?0===e||e===BigInt(0)?`>= 0${c} and < 2${c} ** ${(o+1)*8}${c}`:`>= -(2${c} ** ${(o+1)*8-1}${c}) and < 2 ** ${(o+1)*8-1}${c}`:`>= ${e}${c} and <= ${r}${c}`,new R.ERR_OUT_OF_RANGE("value",l,t)}W(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&q(i,n.length-(o+1))}function W(t,e){if("number"!=typeof t)throw new R.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,r){if(Math.floor(t)!==t)throw W(t,r),new R.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new R.ERR_BUFFER_OUT_OF_BOUNDS;throw new R.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}U("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),U("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=z(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=z(i)),i+="n"),n+=` It must be ${e}. Received ${i}`},RangeError);let K=/[^+/0-9A-Za-z-_]/g;function F(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function H(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length)&&!(i>=t.length);++i)e[i+r]=t[i];return i}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function V(t){return t!=t}let $=function(){let t="0123456789abcdef",e=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Z(t){return"undefined"==typeof BigInt?J:t}function J(){throw Error("BigInt not supported")}},6729:function(t){"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,n,o,a){if("function"!=typeof n)throw TypeError("The listener must be a function");var s=new i(n,o||t,a),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1)),s.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,i,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,o),!0;case 6:return l.fn.call(l.context,e,n,i,o,a),!0}for(c=1,u=Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,i);break;default:if(!u)for(f=1,u=Array(h-1);f<h;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},s.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},s.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==e||i&&!s[u].once||n&&s[u].context!==n)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s},645:function(t,e){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+t[e+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?5960464477539062e-23:0,d=n?0:o-1,p=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+h>=1?e+=f/u:e+=f*Math.pow(2,1-h),e*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+d]=255&a,d+=p,a/=256,c-=8);t[r+d-p]|=128*y}},1198:function(t,e,r){"use strict";let n=r(4880).v4,i=r(7741),o=function(t,e){if(!(this instanceof o))return new o(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return n()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=o,o.prototype.request=function(t,e,r,n){let o=this,a=null,s=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&s)throw TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&"object"==typeof t&&"function"==typeof e)n=e,a=t;else{"function"==typeof r&&(n=r,r=void 0);let u="function"==typeof n;try{a=i(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(u)return n(c);throw c}if(!u)return a}let l;try{l=JSON.stringify(a,this.options.replacer)}catch(h){return n(h)}return this.callServer(l,function(t,e){o._parseResponse(t,e,n)}),a},o.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(3===r.length){if(!Array.isArray(n))return r(null,n.error,n.result);{let o=function(t){return void 0!==t.error},a=function(t){return!o(t)};return r(null,n.filter(o),n.filter(a))}}r(null,n)}},7741:function(t,e,r){"use strict";let n=r(4880).v4,i=function(t,e,r,i){if("string"!=typeof t)throw TypeError(t+" must be a string");i=i||{};let o="number"==typeof i.version?i.version:2;if(1!==o&&2!==o)throw TypeError(o+" must be 1 or 2");let a={method:t};if(2===o&&(a.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw TypeError(e+" must be an object, array or omitted");a.params=e}if(void 0===r){let s="function"==typeof i.generator?i.generator:function(){return n()};a.id=s(a,i)}else 2===o&&null===r?i.notificationIdNull&&(a.id=null):a.id=r;return a};t.exports=i},9548:function(t,e,r){"use strict";var n=r(4836);Object.defineProperty(e,"__esModule",{value:!0}),e.BroadcastChannel=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nextauth.message";return{receive:function(e){var r=function(r){if(r.key===t){var n,i=JSON.parse(null!==(n=r.newValue)&&void 0!==n?n:"{}");(null==i?void 0:i.event)==="session"&&null!=i&&i.data&&e(i)}};return window.addEventListener("storage",r),function(){return window.removeEventListener("storage",r)}},post:function(e){if("undefined"!=typeof window)try{localStorage.setItem(t,JSON.stringify(u(u({},e),{},{timestamp:h()})))}catch(r){}}}},e.apiBaseUrl=l,e.fetchData=function(t,e,r){return c.apply(this,arguments)},e.now=h;var i=n(r(4687)),o=n(r(8416)),a=n(r(7156));function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach(function(e){(0,o.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function c(){return(c=(0,a.default)(i.default.mark(function t(e,r,n){var o,a,s,c,h,f,d,p,y,g=arguments;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=(o=g.length>3&&void 0!==g[3]?g[3]:{}).ctx,c=void 0===(s=o.req)?null==a?void 0:a.req:s,h="".concat(l(r),"/").concat(e),t.prev=2,d={headers:u({"Content-Type":"application/json"},null!=c&&null!==(f=c.headers)&&void 0!==f&&f.cookie?{cookie:c.headers.cookie}:{})},null!=c&&c.body&&(d.body=JSON.stringify(c.body),d.method="POST"),t.next=7,fetch(h,d);case 7:return p=t.sent,t.next=10,p.json();case 10:if(y=t.sent,p.ok){t.next=13;break}throw y;case 13:return t.abrupt("return",Object.keys(y).length>0?y:null);case 16:return t.prev=16,t.t0=t.catch(2),n.error("CLIENT_FETCH_ERROR",{error:t.t0,url:h}),t.abrupt("return",null);case 20:case"end":return t.stop()}},t,null,[[2,16]])}))).apply(this,arguments)}function l(t){return"undefined"==typeof window?"".concat(t.baseUrlServer).concat(t.basePathServer):t.basePath}function h(){return Math.floor(Date.now()/1e3)}},6925:function(t,e,r){"use strict";var n=r(4836);Object.defineProperty(e,"__esModule",{value:!0}),e.UnsupportedStrategy=e.UnknownError=e.OAuthCallbackError=e.MissingSecret=e.MissingAuthorize=e.MissingAdapterMethods=e.MissingAdapter=e.MissingAPIRoute=e.InvalidCallbackUrl=e.AccountNotLinkedError=void 0,e.adapterErrorHandler=function(t,e){if(t)return Object.keys(t).reduce(function(r,n){return r[n]=(0,o.default)(i.default.mark(function r(){var o,a,s,u,c,l=arguments;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(r.prev=0,a=Array(o=l.length),s=0;s<o;s++)a[s]=l[s];return e.debug("adapter_".concat(n),{args:a}),u=t[n],r.next=6,u.apply(void 0,a);case 6:return r.abrupt("return",r.sent);case 9:throw r.prev=9,r.t0=r.catch(0),e.error("adapter_error_".concat(n),r.t0),(c=new y(r.t0)).name="".concat(A(n),"Error"),c;case 15:case"end":return r.stop()}},r,null,[[0,9]])})),r},{})},e.capitalize=A,e.eventsErrorHandler=function(t,e){return Object.keys(t).reduce(function(r,n){return r[n]=(0,o.default)(i.default.mark(function r(){var o,a=arguments;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=t[n],r.next=4,o.apply(void 0,a);case 4:return r.abrupt("return",r.sent);case 7:r.prev=7,r.t0=r.catch(0),e.error("".concat(_(n),"_EVENT_ERROR"),r.t0);case 10:case"end":return r.stop()}},r,null,[[0,7]])})),r},{})},e.upperSnake=_;var i=n(r(4687)),o=n(r(7156)),a=n(r(6115)),s=n(r(8416)),u=n(r(6690)),c=n(r(9728)),l=n(r(1655)),h=n(r(4993)),f=n(r(3808)),d=n(r(3496));function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=(0,f.default)(t);if(e){var i=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,h.default)(this,r)}}var y=function(t){(0,l.default)(r,t);var e=p(r);function r(t){var n,i;return(0,u.default)(this,r),(i=e.call(this,null!==(n=null==t?void 0:t.message)&&void 0!==n?n:t)).name="UnknownError",i.code=t.code,t instanceof Error&&(i.stack=t.stack),i}return(0,c.default)(r,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,stack:this.stack}}}]),r}((0,d.default)(Error));e.UnknownError=y;var g=function(t){(0,l.default)(r,t);var e=p(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,s.default)((0,a.default)(t),"name","OAuthCallbackError"),t}return(0,c.default)(r)}(y);e.OAuthCallbackError=g;var m=function(t){(0,l.default)(r,t);var e=p(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,s.default)((0,a.default)(t),"name","AccountNotLinkedError"),t}return(0,c.default)(r)}(y);e.AccountNotLinkedError=m;var v=function(t){(0,l.default)(r,t);var e=p(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,s.default)((0,a.default)(t),"name","MissingAPIRouteError"),(0,s.default)((0,a.default)(t),"code","MISSING_NEXTAUTH_API_ROUTE_ERROR"),t}return(0,c.default)(r)}(y);e.MissingAPIRoute=v;var b=function(t){(0,l.default)(r,t);var e=p(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,s.default)((0,a.default)(t),"name","MissingSecretError"),(0,s.default)((0,a.default)(t),"code","NO_SECRET"),t}return(0,c.default)(r)}(y);e.MissingSecret=b;var w=function(t){(0,l.default)(r,t);var e=p(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,s.default)((0,a.default)(t),"name","MissingAuthorizeError"),(0,s.default)((0,a.default)(t),"code","CALLBACK_CREDENTIALS_HANDLER_ERROR"),t}return(0,c.default)(r)}(y);e.MissingAuthorize=w;var k=function(t){(0,l.default)(r,t);var e=p(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,s.default)((0,a.default)(t),"name","MissingAdapterError"),(0,s.default)((0,a.default)(t),"code","EMAIL_REQUIRES_ADAPTER_ERROR"),t}return(0,c.default)(r)}(y);e.MissingAdapter=k;var x=function(t){(0,l.default)(r,t);var e=p(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,s.default)((0,a.default)(t),"name","MissingAdapterMethodsError"),(0,s.default)((0,a.default)(t),"code","MISSING_ADAPTER_METHODS_ERROR"),t}return(0,c.default)(r)}(y);e.MissingAdapterMethods=x;var S=function(t){(0,l.default)(r,t);var e=p(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,s.default)((0,a.default)(t),"name","UnsupportedStrategyError"),(0,s.default)((0,a.default)(t),"code","CALLBACK_CREDENTIALS_JWT_ERROR"),t}return(0,c.default)(r)}(y);e.UnsupportedStrategy=S;var E=function(t){(0,l.default)(r,t);var e=p(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,s.default)((0,a.default)(t),"name","InvalidCallbackUrl"),(0,s.default)((0,a.default)(t),"code","INVALID_CALLBACK_URL_ERROR"),t}return(0,c.default)(r)}(y);function _(t){return t.replace(/([A-Z])/g,"_$1").toUpperCase()}function A(t){return"".concat(t[0].toUpperCase()).concat(t.slice(1))}e.InvalidCallbackUrl=E},3299:function(t,e,r){"use strict";var n,i,o,a,s,u=r(4155),c=r(4836),l=r(8698);Object.defineProperty(e,"__esModule",{value:!0});var h={SessionContext:!0,useSession:!0,getSession:!0,getCsrfToken:!0,getProviders:!0,signIn:!0,signOut:!0,SessionProvider:!0};e.SessionContext=void 0,e.SessionProvider=function(t){if(!O)throw Error("React Context is unavailable in Server Components");var e=t.children,r=t.basePath,n=t.refetchInterval,i=t.refetchWhenOffline;r&&(A.basePath=r);var o=void 0!==t.session;A._lastSync=o?(0,b.now)():0;var a,s,u,c,l,h,d=g.useState(function(){return o&&(A._session=t.session),t.session}),m=(0,y.default)(d,2),v=m[0],k=m[1],x=g.useState(!o),S=(0,y.default)(x,2),E=S[0],_=S[1];g.useEffect(function(){return A._getSession=(0,p.default)(f.default.mark(function t(){var e,r,n,i=arguments;return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(i.length>0&&void 0!==i[0]?i[0]:{}).event,t.prev=1,!((n="storage"===r)||void 0===A._session)){t.next=10;break}return A._lastSync=(0,b.now)(),t.next=7,L({broadcast:!n});case 7:return A._session=t.sent,k(A._session),t.abrupt("return");case 10:if(!(!r||null===A._session||(0,b.now)()<A._lastSync)){t.next=12;break}return t.abrupt("return");case 12:return A._lastSync=(0,b.now)(),t.next=15,L();case 15:A._session=t.sent,k(A._session),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),M.error("CLIENT_SESSION_ERROR",t.t0);case 22:return t.prev=22,_(!1),t.finish(22);case 25:case"end":return t.stop()}},t,null,[[1,19,22,25]])})),A._getSession(),function(){A._lastSync=0,A._session=void 0,A._getSession=function(){}}},[]),g.useEffect(function(){var t=I.receive(function(){return A._getSession({event:"storage"})});return function(){return t()}},[]),g.useEffect(function(){var e=t.refetchOnWindowFocus,r=void 0===e||e,n=function(){r&&"visible"===document.visibilityState&&A._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",n,!1),function(){return document.removeEventListener("visibilitychange",n,!1)}},[t.refetchOnWindowFocus]);var B=(a=g.useState("undefined"!=typeof navigator&&navigator.onLine),u=(s=(0,y.default)(a,2))[0],c=s[1],l=function(){return c(!0)},h=function(){return c(!1)},g.useEffect(function(){return window.addEventListener("online",l),window.addEventListener("offline",h),function(){window.removeEventListener("online",l),window.removeEventListener("offline",h)}},[]),u),N=!1!==i||B;g.useEffect(function(){if(n&&N){var t=setInterval(function(){A._session&&A._getSession({event:"poll"})},1e3*n);return function(){return clearInterval(t)}}},[n,N]);var j=g.useMemo(function(){return{data:v,status:E?"loading":v?"authenticated":"unauthenticated",update:function(t){return(0,p.default)(f.default.mark(function e(){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(E||!v)){e.next=2;break}return e.abrupt("return");case 2:return _(!0),e.t0=b.fetchData,e.t1=A,e.t2=M,e.next=8,T();case 8:return e.t3=e.sent,e.t4=t,e.t5={csrfToken:e.t3,data:e.t4},e.t6={body:e.t5},e.t7={req:e.t6},e.next=15,(0,e.t0)("session",e.t1,e.t2,e.t7);case 15:return r=e.sent,_(!1),r&&(k(r),I.post({event:"session",data:{trigger:"getSession"}})),e.abrupt("return",r);case 19:case"end":return e.stop()}},e)}))()}}},[v,E]);return(0,w.jsx)(O.Provider,{value:j,children:e})},e.getCsrfToken=T,e.getProviders=j,e.getSession=L,e.signIn=function(t,e,r){return C.apply(this,arguments)},e.signOut=function(t){return R.apply(this,arguments)},e.useSession=function(t){if(!O)throw Error("React Context is unavailable in Server Components");var e=g.useContext(O),r=null!=t?t:{},n=r.required,i=r.onUnauthenticated,o=n&&"unauthenticated"===e.status;return(g.useEffect(function(){if(o){var t="/api/auth/signin?".concat(new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href}));i?i():window.location.href=t}},[o,i]),o)?{data:e.data,update:e.update,status:"loading"}:e};var f=c(r(4687)),d=c(r(8416)),p=c(r(7156)),y=c(r(7424)),g=S(r(7294)),m=S(r(6553)),v=c(r(762)),b=r(9548),w=r(5893),k=r(527);function x(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(x=function(t){return t?r:e})(t)}function S(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==l(t)&&"function"!=typeof t)return{default:t};var r=x(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach(function(e){(0,d.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}Object.keys(k).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(h,t))&&(t in e&&e[t]===k[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return k[t]}}))});var A={baseUrl:(0,v.default)(null!==(n=u.env.NEXTAUTH_URL)&&void 0!==n?n:u.env.VERCEL_URL).origin,basePath:(0,v.default)(u.env.NEXTAUTH_URL).path,baseUrlServer:(0,v.default)(null!==(i=null!==(o=u.env.NEXTAUTH_URL_INTERNAL)&&void 0!==o?o:u.env.NEXTAUTH_URL)&&void 0!==i?i:u.env.VERCEL_URL).origin,basePathServer:(0,v.default)(null!==(a=u.env.NEXTAUTH_URL_INTERNAL)&&void 0!==a?a:u.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:function(){}},I=(0,b.BroadcastChannel)(),M=(0,m.proxyLogger)(m.default,A.basePath),O=null===(s=g.createContext)||void 0===s?void 0:s.call(g,void 0);function L(t){return B.apply(this,arguments)}function B(){return(B=(0,p.default)(f.default.mark(function t(e){var r,n;return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,b.fetchData)("session",A,M,e);case 2:return n=t.sent,(null===(r=null==e?void 0:e.broadcast)||void 0===r||r)&&I.post({event:"session",data:{trigger:"getSession"}}),t.abrupt("return",n);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function T(t){return N.apply(this,arguments)}function N(){return(N=(0,p.default)(f.default.mark(function t(e){var r;return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,b.fetchData)("csrf",A,M,e);case 2:return r=t.sent,t.abrupt("return",null==r?void 0:r.csrfToken);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function j(){return P.apply(this,arguments)}function P(){return(P=(0,p.default)(f.default.mark(function t(){return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,b.fetchData)("providers",A,M);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))).apply(this,arguments)}function C(){return(C=(0,p.default)(f.default.mark(function t(e,r,n){var i,o,a,s,u,c,l,h,d,p,y,g,m,v,w,k,x;return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=void 0===(o=(i=null!=r?r:{}).callbackUrl)?window.location.href:o,u=void 0===(s=i.redirect)||s,c=(0,b.apiBaseUrl)(A),t.next=4,j();case 4:if(l=t.sent){t.next=8;break}return window.location.href="".concat(c,"/error"),t.abrupt("return");case 8:if(!(!e||!(e in l))){t.next=11;break}return window.location.href="".concat(c,"/signin?").concat(new URLSearchParams({callbackUrl:a})),t.abrupt("return");case 11:return h="credentials"===l[e].type,d="email"===l[e].type,p=h||d,y="".concat(c,"/").concat(h?"callback":"signin","/").concat(e),g="".concat(y,"?").concat(new URLSearchParams(n)),t.t0=fetch,t.t1=g,t.t2={"Content-Type":"application/x-www-form-urlencoded"},t.t3=URLSearchParams,t.t4=_,t.t5=_({},r),t.t6={},t.next=25,T();case 25:return t.t7=t.sent,t.t8=a,t.t9={csrfToken:t.t7,callbackUrl:t.t8,json:!0},t.t10=(0,t.t4)(t.t5,t.t6,t.t9),t.t11=new t.t3(t.t10),t.t12={method:"post",headers:t.t2,body:t.t11},t.next=33,(0,t.t0)(t.t1,t.t12);case 33:return m=t.sent,t.next=36,m.json();case 36:if(v=t.sent,!(u||!p)){t.next=42;break}return k=null!==(w=v.url)&&void 0!==w?w:a,window.location.href=k,k.includes("#")&&window.location.reload(),t.abrupt("return");case 42:if(x=new URL(v.url).searchParams.get("error"),!m.ok){t.next=46;break}return t.next=46,A._getSession({event:"storage"});case 46:return t.abrupt("return",{error:x,status:m.status,ok:m.ok,url:x?null:v.url});case 47:case"end":return t.stop()}},t)}))).apply(this,arguments)}function R(){return(R=(0,p.default)(f.default.mark(function t(e){var r,n,i,o,a,s,u,c,l;return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=void 0===(n=(null!=e?e:{}).callbackUrl)?window.location.href:n,o=(0,b.apiBaseUrl)(A),t.t0={"Content-Type":"application/x-www-form-urlencoded"},t.t1=URLSearchParams,t.next=6,T();case 6:return t.t2=t.sent,t.t3=i,t.t4={csrfToken:t.t2,callbackUrl:t.t3,json:!0},t.t5=new t.t1(t.t4),a={method:"post",headers:t.t0,body:t.t5},t.next=13,fetch("".concat(o,"/signout"),a);case 13:return s=t.sent,t.next=16,s.json();case 16:if(u=t.sent,I.post({event:"session",data:{trigger:"signout"}}),!(null===(r=null==e?void 0:e.redirect)||void 0===r||r)){t.next=23;break}return l=null!==(c=u.url)&&void 0!==c?c:i,window.location.href=l,l.includes("#")&&window.location.reload(),t.abrupt("return");case 23:return t.next=25,A._getSession({event:"storage"});case 25:return t.abrupt("return",u);case 26:case"end":return t.stop()}},t)}))).apply(this,arguments)}e.SessionContext=O},527:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},6553:function(t,e,r){"use strict";var n=r(4836);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.proxyLogger=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;try{if("undefined"==typeof window)return t;var r={},n=function(t){r[t]=function(r,n){u[t](r,n),"error"===t&&(n=s(n)),n.client=!0;var o="".concat(e,"/_log"),c=new URLSearchParams(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach(function(e){(0,i.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({level:t,code:r},n));return navigator.sendBeacon?navigator.sendBeacon(o,c):fetch(o,{method:"POST",body:c,keepalive:!0})}};for(var o in t)n(o);return r}catch(c){return u}},e.setLogger=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;e||(u.debug=function(){}),t.error&&(u.error=t.error),t.warn&&(u.warn=t.warn),t.debug&&(u.debug=t.debug)};var i=n(r(8416)),o=r(6925);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function s(t){var e,r;if(t instanceof Error&&!(t instanceof o.UnknownError))return{message:t.message,stack:t.stack,name:t.name};if(e=t,null!=e&&e.error){t.error=s(t.error),t.message=null!==(r=t.message)&&void 0!==r?r:t.error.message}return t}var u={error:function(t,e){e=s(e),console.error("[next-auth][error][".concat(t,"]"),"\nhttps://next-auth.js.org/errors#".concat(t.toLowerCase()),e.message,e)},warn:function(t){console.warn("[next-auth][warn][".concat(t,"]"),"\nhttps://next-auth.js.org/warnings#".concat(t.toLowerCase()))},debug:function(t,e){console.log("[next-auth][debug][".concat(t,"]"),e)}};e.default=u},762:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e;let r=new URL("http://localhost:3000/api/auth");t&&!t.startsWith("http")&&(t=`https://${t}`);let n=new URL(null!==(e=t)&&void 0!==e?e:r),i=("/"===n.pathname?r.pathname:n.pathname).replace(/\/$/,""),o=`${n.origin}${i}`;return{origin:n.origin,host:n.host,path:i,base:o,toString:()=>o}}},1118:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(1013)}])},1013:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return ee}});var n,i,o,a,s,u,c,l,h,f,d,p,y,g,m,v,b,w,k,x,S,E,_=r(6042),A=r(5893);r(906);var I=r(3299),M=r(9232),O=r(7294);let L=(0,O.createContext)({}),B=({children:t,endpoint:e,config:r={commitment:"confirmed"}})=>{let n=(0,O.useMemo)(()=>new M.ew(e,r),[e,r]);return O.createElement(L.Provider,{value:{connection:n}},t)};var T=r(6729);class N extends Error{constructor(t,e){super(t),this.error=e}}class j extends N{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class P extends N{constructor(){super(...arguments),this.name="WalletLoadError"}}class C extends N{constructor(){super(...arguments),this.name="WalletConfigError"}}class R extends N{constructor(){super(...arguments),this.name="WalletConnectionError"}}class U extends N{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class z extends N{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class D extends N{constructor(){super(...arguments),this.name="WalletAccountError"}}class W extends N{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class q extends N{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class K extends N{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class F extends N{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class H extends N{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}(n=a||(a={})).Installed="Installed",n.NotDetected="NotDetected",n.Loadable="Loadable",n.Unsupported="Unsupported";class G extends T{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,r={}){let n=this.publicKey;if(!n)throw new q;return t.feePayer=t.feePayer||n,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,t}}function Y(t){if("undefined"==typeof window||"undefined"==typeof document)return;let e=[];function r(){let r=t();if(r)for(let n of e)n()}let n=setInterval(r,1e3);e.push(()=>clearInterval(n)),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",r,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",r))),"complete"!==document.readyState&&(window.addEventListener("load",r,{once:!0}),e.push(()=>window.removeEventListener("load",r))),r()}function V(){if(!navigator)return!1;let t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),r=t.includes("safari");return e&&r}function $(t){return"version"in t}class Z extends G{async sendTransaction(t,e,r={}){let n=!0;try{if($(t)){if(!this.supportedTransactionVersions)throw new K("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new K(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);let i=t.serialize();return await e.sendRawTransaction(i,r)}catch(o){if(o instanceof H)throw n=!1,o;throw new K(o?.message,o)}}else try{let{signers:a,...s}=r;t=await this.prepareTransaction(t,e,s),a?.length&&t.partialSign(...a),t=await this.signTransaction(t);let u=t.serialize();return await e.sendRawTransaction(u,s)}catch(c){if(c instanceof H)throw n=!1,c;throw new K(c?.message,c)}}catch(l){throw n&&this.emit("error",l),l}}async signAllTransactions(t){for(let e of t)if($(e)){if(!this.supportedTransactionVersions)throw new H("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new H(`Signing transaction version ${e.version} isn't supported by this wallet`)}let r=[];for(let n of t)r.push(await this.signTransaction(n));return r}}class J extends Z{}let Q={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND"};class X extends Error{constructor(...t){let[e,r,n]=t;super(r),this.code=e,this.data=n,this.name="SolanaMobileWalletAdapterError"}}class tt extends Error{constructor(...t){let[e,r,n,i]=t;super(n),this.code=r,this.data=i,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function te(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(a,s)}u((n=n.apply(t,e||[])).next())})}function tr(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let tn;function ti(t){if(t<49152||t>65535)throw new X(Q.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function to(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}let ta={Firefox:0,Other:1},ts=null,tu={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4};var tc=r(7191);function tl(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&0>e.indexOf(n)&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)0>e.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function th(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(a,s)}u((n=n.apply(t,e||[])).next())})}function tf(t){return window.btoa(String.fromCharCode.call(null,...t))}function td(t){return new Uint8Array(window.atob(t).split("").map(t=>t.charCodeAt(0)))}function tp(t){let e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1}),r=tf(e);return r}function ty(t){let e=t[0],r=e*M.eT+1,n=M.EC.deserializeMessageVersion(t.slice(r,t.length));return"legacy"===n?M.YW.from(t):M.GS.deserialize(t)}function tg(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(a,s)}u((n=n.apply(t,e||[])).next())})}let tm="Mobile Wallet Adapter";function tv(t){return"version"in t}class tb extends J{constructor(t){super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=tm,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState="undefined"!=typeof window&&window.isSecureContext&&"undefined"!=typeof document&&/android/i.test(navigator.userAgent)?a.Loadable:a.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._cluster=t.cluster,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==a.Unsupported&&this._authorizationResultCache.get().then(t=>{t&&this.declareWalletAsInstalled()})}get publicKey(){if(null==this._publicKey&&null!=this._selectedAddress)try{this._publicKey=function(t){var e;let r=new Uint8Array(window.atob(t).split("").map(t=>t.charCodeAt(0)));return new M.nh(r)}(this._selectedAddress)}catch(t){throw new W(t instanceof Error&&(null==t?void 0:t.message)||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==a.Installed&&this.emit("readyStateChange",this._readyState=a.Installed)}runWithGuard(t){return tg(this,void 0,void 0,function*(){try{return yield t()}catch(e){throw this.emit("error",e),e}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return tg(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return tg(this,void 0,void 0,function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard(()=>tg(this,void 0,void 0,function*(){if(this._readyState!==a.Installed&&this._readyState!==a.Loadable)throw new j;this._connecting=!0;try{let t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(e){throw new R(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))})}connect(){return tg(this,void 0,void 0,function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard(()=>tg(this,void 0,void 0,function*(){if(this._readyState!==a.Installed&&this._readyState!==a.Loadable)throw new j;this._connecting=!0;try{let t=yield this._authorizationResultCache.get();if(t){this.handleAuthorizationResult(t);return}yield this.transact(t=>tg(this,void 0,void 0,function*(){let e=yield t.authorize({cluster:this._cluster,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(e),this.handleAuthorizationResult(e),])}))}catch(e){throw new R(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))})}handleAuthorizationResult(t){var e;return tg(this,void 0,void 0,function*(){let r=null==this._authorizationResult||(null===(e=this._authorizationResult)||void 0===e?void 0:e.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some((e,r)=>e.address!==t.accounts[r].address);if(this._authorizationResult=t,this.declareWalletAsInstalled(),r){let n=yield this._addressSelector.select(t.accounts.map(({address:t})=>t));n!==this._selectedAddress&&(this._selectedAddress=n,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(t,e){return tg(this,void 0,void 0,function*(){try{let r=yield t.reauthorize({auth_token:e,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r),])}catch(n){throw this.disconnect(),new U(n instanceof Error&&(null==n?void 0:n.message)||"Unknown error",n)}})}disconnect(){return tg(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(t){var e;return tg(this,void 0,void 0,function*(){let r=null===(e=this._authorizationResult)||void 0===e?void 0:e.wallet_uri_base,n=this._connectionGeneration;try{return yield function(t,e){return th(this,void 0,void 0,function*(){let r=e=>{let r=new Proxy({},{get(t,r){if(null==t[r])switch(r){case"signAndSendTransactions":t[r]=function(t){var{minContextSlot:r,transactions:n}=t,i=tl(t,["minContextSlot","transactions"]);return th(this,void 0,void 0,function*(){let t=n.map(tp),{signatures:o}=yield e.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},i),null!=r?{options:{min_context_slot:r}}:null),{payloads:t})),a=o.map(td).map(tc.encode);return a})};break;case"signMessages":t[r]=function(t){var{payloads:r}=t,n=tl(t,["payloads"]);return th(this,void 0,void 0,function*(){let t=r.map(tf),{signed_payloads:i}=yield e.signMessages(Object.assign(Object.assign({},n),{payloads:t})),o=i.map(td);return o})};break;case"signTransactions":t[r]=function(t){var{transactions:r}=t,n=tl(t,["transactions"]);return th(this,void 0,void 0,function*(){let t=r.map(tp),{signed_payloads:i}=yield e.signTransactions(Object.assign(Object.assign({},n),{payloads:t})),o=i.map(td),a=o.map(ty);return a})};break;default:t[r]=e[r]}return t[r]},defineProperty:()=>!1,deleteProperty:()=>!1});return t(r)};return yield function(t,e){return te(this,void 0,void 0,function*(){!function(){if("undefined"==typeof window||!0!==window.isSecureContext)throw new X(Q.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}();let r=yield function(){return te(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}(),n=yield function(t,e){return te(this,void 0,void 0,function*(){let r=ti(49152+Math.floor(16384*Math.random())),n=yield function(t,e,r){return te(this,void 0,void 0,function*(){var n;let i=ti(e),o=yield crypto.subtle.exportKey("raw",t),a=function(t){let e="",r=new Uint8Array(t),n=r.byteLength;for(let i=0;i<n;i++)e+=String.fromCharCode(r[i]);return window.btoa(e)}(o),s=function(t,e){let r=null;if(e){try{r=new URL(e)}catch(n){}if((null==r?void 0:r.protocol)!=="https:")throw new X(Q.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}r||(r=new URL("solana-wallet:/"));let i=t.startsWith("/")?t:[...to(r.pathname),...to(t)].join("/");return new URL(i,r)}("v1/associate/local",r);return s.searchParams.set("association",a.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])),s.searchParams.set("port",`${i}`),s})}(t,r,e);if("https:"===n.protocol)window.location.assign(n);else try{var i;let o=-1!==navigator.userAgent.indexOf("Firefox/")?ta.Firefox:ta.Other;switch(o){case ta.Firefox:null==ts&&((ts=document.createElement("iframe")).style.display="none",document.body.appendChild(ts)),ts.contentWindow.location.href=n.toString();break;case ta.Other:{let a=new Promise((t,e)=>{function r(){clearTimeout(i),window.removeEventListener("blur",n)}function n(){r(),t()}window.addEventListener("blur",n);let i=setTimeout(()=>{r(),e()},2e3)});window.location.assign(n),yield a}}}catch(s){throw new X(Q.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}return r})}(r.publicKey,null==e?void 0:e.baseUri),i=`ws://localhost:${n}/solana-wallet`,o,a=(()=>{let t=[...tu.retryDelayScheduleMs];return()=>t.length>1?t.shift():t[0]})(),s=1,u=0,c={__type:"disconnected"};return new Promise((e,l)=>{let h,f={},d=()=>te(this,void 0,void 0,function*(){if("connecting"!==c.__type){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}let{associationKeypair:t}=c;h.removeEventListener("open",d);let e=yield function(){return te(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}();h.send((yield function(t,e){return te(this,void 0,void 0,function*(){let r=yield crypto.subtle.exportKey("raw",t),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,r),i=new Uint8Array(r.byteLength+n.byteLength);return i.set(new Uint8Array(r),0),i.set(new Uint8Array(n),r.byteLength),i})}(e.publicKey,t.privateKey))),c={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:e.privateKey}}),p=t=>{t.wasClean?c={__type:"disconnected"}:l(new X(Q.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${t.code}: ${t.reason}).`,{closeEvent:t})),m()},y=t=>te(this,void 0,void 0,function*(){m(),Date.now()-o>=tu.timeoutMs?l(new X(Q.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket on port ${n}.`)):(yield new Promise(t=>{let e=a();v=window.setTimeout(t,e)}),b())}),g=r=>te(this,void 0,void 0,function*(){let n=yield r.data.arrayBuffer();switch(c.__type){case"connected":try{let i=n.slice(0,4),o=function(t){let e=new DataView(t);return e.getUint32(0,!1)}(i);if(o!==u+1)throw Error("Encrypted message has invalid sequence number");u=o;let a=yield function(t,e){return te(this,void 0,void 0,function*(){let r=t.slice(0,4),n=t.slice(4,16),i=t.slice(16),o=yield crypto.subtle.decrypt(tr(r,n),e,i),a=(void 0===tn&&(tn=new TextDecoder("utf-8")),tn).decode(o),s=JSON.parse(a);if(Object.hasOwnProperty.call(s,"error"))throw new tt(s.id,s.error.code,s.error.message);return s})}(n,c.sharedSecret),d=f[a.id];delete f[a.id],d.resolve(a.result)}catch(y){if(y instanceof tt){let p=f[y.jsonRpcMessageId];delete f[y.jsonRpcMessageId],p.reject(y)}else throw y}break;case"hello_req_sent":{let g=yield function(t,e,r){return te(this,void 0,void 0,function*(){let[n,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t,{name:"ECDH",namedCurve:"P-256"},!1,[]),]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},r,256),a=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]),s=yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},a,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"]);return s})}(n,c.associationPublicKey,c.ecdhPrivateKey);c={__type:"connected",sharedSecret:g};let v=new Proxy({},{get(t,e){if(null==t[e]){let r=e.toString().replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`).toLowerCase();t[e]=function(t){return te(this,void 0,void 0,function*(){let n=s++;return h.send((yield function(t,e){return te(this,void 0,void 0,function*(){let r=JSON.stringify(t),n=function(t){if(t>=4294967296)throw Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");let e=new ArrayBuffer(4),r=new DataView(e);return r.setUint32(0,t,!1),new Uint8Array(e)}(t.id),i=new Uint8Array(12);crypto.getRandomValues(i);let o=yield crypto.subtle.encrypt(tr(n,i),e,new TextEncoder().encode(r)),a=new Uint8Array(n.byteLength+i.byteLength+o.byteLength);return a.set(new Uint8Array(n),0),a.set(new Uint8Array(i),n.byteLength),a.set(new Uint8Array(o),n.byteLength+i.byteLength),a})}({id:n,jsonrpc:"2.0",method:r,params:null!=t?t:{}},g))),new Promise((t,r)=>{f[n]={resolve(n){switch(e){case"authorize":case"reauthorize":{let{wallet_uri_base:i}=n;if(null!=i)try{!function(t){let e;try{e=new URL(t)}catch(r){throw new X(Q.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if("https:"!==e.protocol)throw new X(Q.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}(i)}catch(o){r(o);return}}}t(n)},reject:r}})})}}return t[e]},defineProperty:()=>!1,deleteProperty:()=>!1});try{e((yield t(v)))}catch(b){l(b)}finally{m(),h.close()}}}}),m,v,b=()=>{m&&m(),c={__type:"connecting",associationKeypair:r},void 0===o&&(o=Date.now()),(h=new WebSocket(i,["com.solana.mobilewalletadapter.v1"])).addEventListener("open",d),h.addEventListener("close",p),h.addEventListener("error",y),h.addEventListener("message",g),m=()=>{window.clearTimeout(v),h.removeEventListener("open",d),h.removeEventListener("close",p),h.removeEventListener("error",y),h.removeEventListener("message",g)}};b()})})}(r,e)})}(t,r?{baseUri:r}:void 0)}catch(i){throw this._connectionGeneration!==n&&(yield new Promise(()=>{})),i instanceof Error&&"SolanaMobileWalletAdapterError"===i.name&&"ERROR_WALLET_NOT_FOUND"===i.code&&(yield this._onWalletNotFound(this)),i}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new q;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return tg(this,void 0,void 0,function*(){let{authToken:e}=this.assertIsAuthorized();try{return yield this.transact(r=>tg(this,void 0,void 0,function*(){yield this.performReauthorization(r,e);let n=yield r.signTransactions({transactions:t});return n}))}catch(r){throw new H(null==r?void 0:r.message,r)}})}sendTransaction(t,e,r){return tg(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>tg(this,void 0,void 0,function*(){let{authToken:n}=this.assertIsAuthorized(),i=null==r?void 0:r.minContextSlot;try{return yield this.transact(o=>tg(this,void 0,void 0,function*(){function a(){let t;switch(e.commitment){case"confirmed":case"finalized":case"processed":t=e.commitment;break;default:t="finalized"}let n;switch(null==r?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":n=r.preflightCommitment;break;case void 0:n=t;default:n="finalized"}let i="finalized"===n?2:"confirmed"===n?1:0,o="finalized"===t?2:"confirmed"===t?1:0;return i<o?n:t}let[s,u,c]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,n),tv(t)?null:tg(this,void 0,void 0,function*(){var r;if(t.feePayer||(t.feePayer=null!==(r=this.publicKey)&&void 0!==r?r:void 0),null==t.recentBlockhash){let{blockhash:n}=yield e.getLatestBlockhash({commitment:a()});t.recentBlockhash=n}}),]);if(s.supports_sign_and_send_transactions){let l=yield o.signAndSendTransactions({minContextSlot:i,transactions:[t]});return l[0]}{let[h]=yield o.signTransactions({transactions:[t]});if(tv(h))return yield e.sendTransaction(h);{let f=h.serialize();return yield e.sendRawTransaction(f,Object.assign(Object.assign({},r),{preflightCommitment:a()}))}}}))}catch(o){throw new K(null==o?void 0:o.message,o)}}))})}signTransaction(t){return tg(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>tg(this,void 0,void 0,function*(){let[e]=yield this.performSignTransactions([t]);return e}))})}signAllTransactions(t){return tg(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>tg(this,void 0,void 0,function*(){let e=yield this.performSignTransactions(t);return e}))})}signMessage(t){return tg(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>tg(this,void 0,void 0,function*(){let{authToken:e,selectedAddress:r}=this.assertIsAuthorized();try{return yield this.transact(n=>tg(this,void 0,void 0,function*(){yield this.performReauthorization(n,e);let[i]=yield n.signMessages({addresses:[r],payloads:[t]}),o=i.slice(-64);return o}))}catch(n){throw new F(null==n?void 0:n.message,n)}}))})}}let tw="SolanaMobileWalletAdapterDefaultAuthorizationCache";function tk(t){return tg(this,void 0,void 0,function*(){"undefined"!=typeof window&&window.location.assign(t.url)})}let tx="solana:signAndSendTransaction",tS="solana:signTransaction",tE="standard:connect",t_="standard:events",tA=function(t){return tE in t.features&&t_ in t.features&&(tx in t.features||tS in t.features)},tI="solana:signMessage",tM="solana:mainnet";function tO(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}let tL="standard:disconnect";new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap;var tB=function(t,e,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r},tT=function(t,e,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)};class tN extends G{constructor({wallet:t}){super(),s.add(this),u.set(this,void 0),c.set(this,void 0),l.set(this,void 0),h.set(this,void 0),f.set(this,void 0),d.set(this,void 0),p.set(this,void 0),y.set(this,"undefined"==typeof window||"undefined"==typeof document?a.Unsupported:a.Installed),v.set(this,t=>{if(tT(this,h,"f")||!tT(this,u,"f")||!tT(this,c,"f")||!("accounts"in t))return;let e=tT(this,d,"f").accounts[0];if(!e){tT(this,s,"m",m).call(this),this.emit("error",new U),this.emit("disconnect");return}if(e===tT(this,u,"f"))return;let r;try{r=new M.nh(e.publicKey)}catch(n){tT(this,s,"m",m).call(this),this.emit("error",new W(n?.message)),this.emit("disconnect");return}tT(this,s,"m",g).call(this,e,r),this.emit("connect",r)}),tB(this,d,t,"f");let e=tx in t.features?t.features[tx].supportedTransactionVersions:t.features[tS].supportedTransactionVersions;tB(this,p,!function(t,e){if(t===e)return!0;let r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}(e,["legacy"])?new Set(e):null,"f"),tB(this,u,null,"f"),tB(this,c,null,"f"),tB(this,l,!1,"f"),tB(this,h,!1,"f")}get supportedTransactionVersions(){return tT(this,p,"f")}get name(){return tT(this,d,"f").name}get icon(){return tT(this,d,"f").icon}get url(){return"https://github.com/solana-labs/wallet-standard"}get publicKey(){return tT(this,c,"f")}get connecting(){return tT(this,l,"f")}get readyState(){return tT(this,y,"f")}get wallet(){return tT(this,d,"f")}get standard(){return!0}async connect(){try{if(this.connected||this.connecting)return;if(tT(this,y,"f")!==a.Installed)throw new j;if(tB(this,l,!0,"f"),!tT(this,d,"f").accounts.length)try{await tT(this,d,"f").features[tE].connect()}catch(t){throw new R(t?.message,t)}if(!tT(this,d,"f").accounts.length)throw new D;let e=tT(this,d,"f").accounts[0],r;try{r=new M.nh(e.publicKey)}catch(n){throw new W(n?.message,n)}tB(this,f,tT(this,d,"f").features[t_].on("change",tT(this,v,"f")),"f"),tT(this,s,"m",g).call(this,e,r),this.emit("connect",r)}catch(i){throw this.emit("error",i),i}finally{tB(this,l,!1,"f")}}async disconnect(){if(tL in tT(this,d,"f").features)try{tB(this,h,!0,"f"),await tT(this,d,"f").features[tL].disconnect()}catch(t){this.emit("error",new z(t?.message,t))}finally{tB(this,h,!1,"f")}tT(this,s,"m",m).call(this),this.emit("disconnect")}async sendTransaction(t,e,r={}){try{var n;let i=tT(this,u,"f");if(!i)throw new q;let o;if(tx in tT(this,d,"f").features){if(i.features.includes(tx))o=tx;else if(tS in tT(this,d,"f").features&&i.features.includes(tS))o=tS;else throw new D}else if(tS in tT(this,d,"f").features){if(!i.features.includes(tS))throw new D;o=tS}else throw new C;let a=(n=e.rpcEndpoint).includes("https://api.mainnet-beta.solana.com")?tM:/\bdevnet\b/i.test(n)?"solana:devnet":/\btestnet\b/i.test(n)?"solana:testnet":/\blocalhost\b/i.test(n)||/\b127\.0\.0\.1\b/.test(n)?"solana:localnet":tM;if(!i.chains.includes(a))throw new K;try{let{signers:s,...c}=r,l;if($(t)?(s?.length&&t.sign(s),l=t.serialize()):(t=await this.prepareTransaction(t,e,c),s?.length&&t.partialSign(...s),l=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===tx){let[h]=await tT(this,d,"f").features[tx].signAndSendTransaction({account:i,chain:a,transaction:l,options:{preflightCommitment:tO(c.preflightCommitment||e.commitment),skipPreflight:c.skipPreflight,maxRetries:c.maxRetries,minContextSlot:c.minContextSlot}});return tc.encode(h.signature)}{let[f]=await tT(this,d,"f").features[tS].signTransaction({account:i,chain:a,transaction:l,options:{preflightCommitment:tO(c.preflightCommitment||e.commitment),minContextSlot:c.minContextSlot}});return await e.sendRawTransaction(f.signedTransaction,{...c,preflightCommitment:tO(c.preflightCommitment||e.commitment)})}}catch(p){if(p instanceof N)throw p;throw new K(p?.message,p)}}catch(y){throw this.emit("error",y),y}}}u=new WeakMap,c=new WeakMap,l=new WeakMap,h=new WeakMap,f=new WeakMap,d=new WeakMap,p=new WeakMap,y=new WeakMap,v=new WeakMap,s=new WeakSet,g=function(t,e){tB(this,u,t,"f"),tB(this,c,e,"f"),t?.features.includes(tS)?(this.signTransaction=tT(this,s,"m",b),this.signAllTransactions=tT(this,s,"m",w)):(delete this.signTransaction,delete this.signAllTransactions),t?.features.includes(tI)?this.signMessage=tT(this,s,"m",k):delete this.signMessage},m=function(){let t=tT(this,f,"f");t&&(tB(this,f,void 0,"f"),t()),tT(this,s,"m",g).call(this,null,null)},b=async function(t){try{let e=tT(this,u,"f");if(!e)throw new q;if(!(tS in tT(this,d,"f").features))throw new C;if(!e.features.includes(tS))throw new D;try{let r=await tT(this,d,"f").features[tS].signTransaction({account:e,transaction:$(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}),n=r[0].signedTransaction;return $(t)?M.GS.deserialize(n):M.YW.from(n)}catch(i){if(i instanceof N)throw i;throw new H(i?.message,i)}}catch(o){throw this.emit("error",o),o}},w=async function(t){try{let e=tT(this,u,"f");if(!e)throw new q;if(!(tS in tT(this,d,"f").features))throw new C;if(!e.features.includes(tS))throw new H;try{let r=await tT(this,d,"f").features[tS].signTransaction(...t.map(t=>({account:e,transaction:$(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((t,e)=>{let n=r[e].signedTransaction;return $(t)?M.GS.deserialize(n):M.YW.from(n)})}catch(n){throw new H(n?.message,n)}}catch(i){throw this.emit("error",i),i}},k=async function(t){try{let e=tT(this,u,"f");if(!e)throw new q;if(!(tI in tT(this,d,"f").features))throw new C;if(!e.features.includes(tI))throw new F;try{let r=await tT(this,d,"f").features[tI].signMessage({account:e,message:t});return r[0].signature}catch(n){throw new F(n?.message,n)}}catch(i){throw this.emit("error",i),i}};var tj=function(t,e,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r},tP=function(t,e,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)};let tC,tR=new Set,tU={};function tz(...t){return(t=t.filter(t=>!tR.has(t))).length?(t.forEach(t=>tR.add(t)),tU.register?.forEach(e=>tq(()=>e(...t))),function(){t.forEach(t=>tR.delete(t)),tU.unregister?.forEach(e=>tq(()=>e(...t)))}):()=>{}}function tD(){return[...tR]}function tW(t,e){return tU[t]?.push(e)||(tU[t]=[e]),function(){tU[t]=tU[t]?.filter(t=>e!==t)}}function tq(t){try{t()}catch(e){console.error(e)}}class tK extends Event{constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),x.set(this,void 0),tj(this,x,t,"f")}get detail(){return tP(this,x,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw Error("preventDefault cannot be called")}stopImmediatePropagation(){throw Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw Error("stopPropagation cannot be called")}}function tF(t){let e=(0,O.useRef)();return e.current||(e.current={value:t()}),e.current.value}function tH(t){return t.filter(tA).map(t=>new tN({wallet:t}))}x=new WeakMap,(i=S||(S={}))[i.DESKTOP_WEB=0]="DESKTOP_WEB",i[i.MOBILE_WEB=1]="MOBILE_WEB";class tG extends N{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}var tY=r(4306);function tV({children:t,wallets:e,adapter:r,isUnloadingRef:n,onAutoConnectRequest:i,onConnectError:o,onError:s,onSelectWallet:u}){let c=(0,O.useRef)(!1),[l,h]=(0,O.useState)(!1),f=(0,O.useRef)(!1),[d,p]=(0,O.useState)(!1),[y,g]=(0,O.useState)(()=>r?.publicKey??null),[m,v]=(0,O.useState)(()=>r?.connected??!1),b=(0,O.useRef)(s);(0,O.useEffect)(()=>(b.current=s,()=>{b.current=void 0}),[s]);let w=(0,O.useRef)((t,e)=>(!n.current&&(b.current?b.current(t,e):(console.error(t,e),t instanceof j&&"undefined"!=typeof window&&e&&window.open(e.url,"_blank"))),t)),[k,x]=(0,O.useState)(()=>e.map(t=>({adapter:t,readyState:t.readyState})).filter(({readyState:t})=>t!==a.Unsupported));(0,O.useEffect)(()=>{function t(t){x(e=>{let r=e.findIndex(({adapter:t})=>t===this);if(-1===r)return e;let{adapter:n}=e[r];return[...e.slice(0,r),{adapter:n,readyState:t},...e.slice(r+1),].filter(({readyState:t})=>t!==a.Unsupported)})}return x(t=>e.map((e,r)=>{let n=t[r];return n&&n.adapter===e&&n.readyState===e.readyState?n:{adapter:e,readyState:e.readyState}}).filter(({readyState:t})=>t!==a.Unsupported)),e.forEach(e=>e.on("readyStateChange",t,e)),()=>{e.forEach(e=>e.off("readyStateChange",t,e))}},[r,e]);let S=(0,O.useMemo)(()=>k.find(t=>t.adapter===r)??null,[r,k]);(0,O.useEffect)(()=>{if(!r)return;let t=t=>{g(t),c.current=!1,h(!1),v(!0),f.current=!1,p(!1)},e=()=>{n.current||(g(null),c.current=!1,h(!1),v(!1),f.current=!1,p(!1))},i=t=>{w.current(t,r)};return r.on("connect",t),r.on("disconnect",e),r.on("error",i),()=>{r.off("connect",t),r.off("disconnect",e),r.off("error",i),e()}},[r,n]);let E=(0,O.useRef)(!1);(0,O.useEffect)(()=>()=>{E.current=!1},[r]),(0,O.useEffect)(()=>{!E.current&&!c.current&&!m&&i&&(S?.readyState===a.Installed||S?.readyState===a.Loadable)&&(c.current=!0,h(!0),E.current=!0,async function(){try{await i()}catch{o()}finally{h(!1),c.current=!1}}())},[m,i,o,S]);let _=(0,O.useCallback)(async(t,e,n)=>{if(!r)throw w.current(new tG);if(!m)throw w.current(new q,r);return await r.sendTransaction(t,e,n)},[r,m]),A=(0,O.useMemo)(()=>r&&"signTransaction"in r?async t=>{if(!m)throw w.current(new q,r);return await r.signTransaction(t)}:void 0,[r,m]),I=(0,O.useMemo)(()=>r&&"signAllTransactions"in r?async t=>{if(!m)throw w.current(new q,r);return await r.signAllTransactions(t)}:void 0,[r,m]),M=(0,O.useMemo)(()=>r&&"signMessage"in r?async t=>{if(!m)throw w.current(new q,r);return await r.signMessage(t)}:void 0,[r,m]),L=(0,O.useCallback)(async()=>{if(c.current||f.current||S?.adapter.connected)return;if(!S)throw w.current(new tG);let{adapter:t,readyState:e}=S;if(!(e===a.Installed||e===a.Loadable))throw w.current(new j,t);c.current=!0,h(!0);try{await t.connect()}catch(r){throw o(),r}finally{h(!1),c.current=!1}},[o,S]),B=(0,O.useCallback)(async()=>{if(!f.current&&r){f.current=!0,p(!0);try{await r.disconnect()}finally{p(!1),f.current=!1}}},[r]);return O.createElement(tY.z.Provider,{value:{autoConnect:!!i,wallets:k,wallet:S,publicKey:y,connected:m,connecting:l,disconnecting:d,select:u,connect:L,disconnect:B,sendTransaction:_,signTransaction:A,signAllTransactions:I,signMessage:M}},t)}let t$;function tZ(t){let e=(void 0===t$&&(t$=globalThis.navigator?.userAgent??null),t$);return function({adapters:t,userAgentString:e}){var r;return t.some(t=>t.name!==tm&&t.readyState===a.Installed)?S.DESKTOP_WEB:e&&/android/i.test(e)&&!/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)?S.MOBILE_WEB:S.DESKTOP_WEB}({adapters:t,userAgentString:e})===S.MOBILE_WEB}function tJ({children:t,wallets:e,autoConnect:r,localStorageKey:n="walletName",onError:i}){let{connection:o}=(0,O.useContext)(L),a=function(t){let{get:e,on:r}=tF(()=>(function(){if(tC||(tC=function(){if(tC||(tC=Object.freeze({register:tz,get:tD,on:tW}),"undefined"==typeof window))return tC;let t=Object.freeze({register:tz});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error("wallet-standard:register-wallet event listener could not be added\n",e)}try{window.dispatchEvent(new tK(t))}catch(r){console.error("wallet-standard:app-ready event could not be dispatched\n",r)}return tC}(),"undefined"==typeof window))return tC;let t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),tC;let{register:e}=tC,r=(...t)=>t.forEach(t=>tq(()=>t({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:r})})}catch(n){return console.error("window.navigator.wallets could not be set"),tC}return r(...t),tC})()),[n,i]=(0,O.useState)(()=>tH(e())),o=tF(()=>new Set);return(0,O.useEffect)(()=>{let t=[r("register",(...t)=>i(e=>[...e,...tH(t)])),r("unregister",(...t)=>i(e=>e.filter(e=>t.some(t=>t===e.wallet)))),];return()=>t.forEach(t=>t())},[r]),(0,O.useMemo)(()=>[...n,...t.filter(({name:t})=>!n.some(e=>e.name===t)||(o.has(t)||(o.add(t),console.warn(`${t} was registered as a Standard Wallet. The Wallet Adapter for ${t} can be removed from your app.`)),!1)),],[n,t,o])}(e),s=(0,O.useMemo)(()=>{var t;if(!tZ(a))return null;let e=a.find(t=>t.name===tm);return e?e:new tb({addressSelector:{select(t){return tg(this,void 0,void 0,function*(){return t[0]})}},appIdentity:{uri:function(){let t=globalThis.location;if(null!=t)return`${t.protocol}//${t.host}`}()},authorizationResultCache:function(){let t;try{t=window.localStorage}catch(e){}return{clear(){return tg(this,void 0,void 0,function*(){if(t)try{t.removeItem(tw)}catch(e){}})},get(){return tg(this,void 0,void 0,function*(){if(t)try{return JSON.parse(t.getItem(tw))||void 0}catch(e){}})},set(e){return tg(this,void 0,void 0,function*(){if(t)try{t.setItem(tw,JSON.stringify(e))}catch(r){}})}}}(),cluster:(t=o?.rpcEndpoint)?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta",onWalletNotFound:tk})},[a,o?.rpcEndpoint]),u=(0,O.useMemo)(()=>null==s||-1!==a.indexOf(s)?a:[s,...a],[a,s]),[c,l]=function(t,e){let r=(0,O.useState)(()=>{try{let r=localStorage.getItem(t);if(r)return JSON.parse(r)}catch(n){"undefined"!=typeof window&&console.error(n)}return e}),n=r[0],i=(0,O.useRef)(!0);return(0,O.useEffect)(()=>{if(i.current){i.current=!1;return}try{null===n?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(n))}catch(e){"undefined"!=typeof window&&console.error(e)}},[n,t]),r}(n,tZ(a)?tm:null),h=(0,O.useMemo)(()=>u.find(t=>t.name===c)??null,[u,c]),f=(0,O.useCallback)(t=>{c!==t&&(h&&h.name!==tm&&h.disconnect(),l(t))},[h,l,c]);(0,O.useEffect)(()=>{if(null!=h)return h.on("disconnect",t),()=>{h.off("disconnect",t)};function t(){!(y.current||c===tm&&tZ(a))&&l(null)}},[h,a,l,c]);let d=(0,O.useRef)(!1),p=(0,O.useMemo)(()=>{if(!0===r&&h)return()=>d.current?h.connect():h.autoConnect()},[h,r]),y=(0,O.useRef)(!1);(0,O.useEffect)(()=>{if(c===tm&&tZ(a)){y.current=!1;return}function t(){y.current=!0}return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[a,c]);let g=(0,O.useCallback)(()=>{h&&h.name!==tm&&f(null)},[h,f]),m=(0,O.useCallback)(t=>{d.current=!0,f(t)},[f]);return O.createElement(tV,{wallets:u,adapter:h,isUnloadingRef:y,onAutoConnectRequest:p,onConnectError:g,onError:i,onSelectWallet:m},t)}class tQ extends J{constructor(t={}){super(),this.name="Phantom",this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"==typeof window||"undefined"==typeof document?a.Unsupported:a.NotDetected,this._disconnected=()=>{let t=this._wallet;t&&(t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new U),this.emit("disconnect"))},this._accountChanged=t=>{let e=this._publicKey;if(e){try{t=new M.nh(t.toBytes())}catch(r){this.emit("error",new W(r?.message,r));return}e.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==a.Unsupported&&(V()?(this._readyState=a.Loadable,this.emit("readyStateChange",this._readyState)):Y(()=>!!(window.phantom?.solana?.isPhantom||window.solana?.isPhantom)&&(this._readyState=a.Installed,this.emit("readyStateChange",this._readyState),!0)))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===a.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===a.Loadable){let t=encodeURIComponent(window.location.href),e=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${t}?ref=${e}`;return}if(this.readyState!==a.Installed)throw new j;this._connecting=!0;let r=window.phantom?.solana||window.solana;if(!r.isConnected)try{await r.connect()}catch(n){throw new R(n?.message,n)}if(!r.publicKey)throw new D;let i;try{i=new M.nh(r.publicKey.toBytes())}catch(o){throw new W(o?.message,o)}r.on("disconnect",this._disconnected),r.on("accountChanged",this._accountChanged),this._wallet=r,this._publicKey=i,this.emit("connect",i)}catch(s){throw this.emit("error",s),s}finally{this._connecting=!1}}async disconnect(){let t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new z(e?.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,r={}){try{let n=this._wallet;if(!n)throw new q;try{let{signers:i,...o}=r;$(t)?i?.length&&t.sign(i):(t=await this.prepareTransaction(t,e,o),i?.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||e.commitment;let{signature:a}=await n.signAndSendTransaction(t,o);return a}catch(s){if(s instanceof N)throw s;throw new K(s?.message,s)}}catch(u){throw this.emit("error",u),u}}async signTransaction(t){try{let e=this._wallet;if(!e)throw new q;try{return await e.signTransaction(t)||t}catch(r){throw new H(r?.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(t){try{let e=this._wallet;if(!e)throw new q;try{return await e.signAllTransactions(t)||t}catch(r){throw new H(r?.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(t){try{let e=this._wallet;if(!e)throw new q;try{let{signature:r}=await e.signMessage(t);return r}catch(n){throw new F(n?.message,n)}}catch(i){throw this.emit("error",i),i}}}class tX extends J{constructor(t={}){super(),this.name="Solflare",this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"==typeof window||"undefined"==typeof document?a.Unsupported:a.Loadable,this._disconnected=()=>{let t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new U),this.emit("disconnect"))},this._accountChanged=t=>{if(!t)return;let e=this._publicKey;if(e){try{t=new M.nh(t.toBytes())}catch(r){this.emit("error",new W(r?.message,r));return}e.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=t,this._readyState!==a.Unsupported&&Y(()=>(!!window.solflare?.isSolflare||!!window.SolflareApp)&&(this._readyState=a.Installed,this.emit("readyStateChange",this._readyState),!0))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.connected}get readyState(){return this._readyState}async autoConnect(){this.readyState===a.Loadable&&V()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==a.Loadable&&this._readyState!==a.Installed)throw new j;if(this.readyState===a.Loadable&&V()){let t=encodeURIComponent(window.location.href),e=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${t}?ref=${e}`;return}let n;try{n=(await r.e(140).then(r.bind(r,140))).default}catch(i){throw new P(i?.message,i)}let o;try{o=new n({network:this._config.network})}catch(s){throw new C(s?.message,s)}if(this._connecting=!0,!o.connected)try{await o.connect()}catch(u){throw new R(u?.message,u)}if(!o.publicKey)throw new R;let c;try{c=new M.nh(o.publicKey.toBytes())}catch(l){throw new W(l?.message,l)}o.on("disconnect",this._disconnected),o.on("accountChanged",this._accountChanged),this._wallet=o,this._publicKey=c,this.emit("connect",c)}catch(h){throw this.emit("error",h),h}finally{this._connecting=!1}}async disconnect(){let t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new z(e?.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,r={}){try{let n=this._wallet;if(!n)throw new q;try{let{signers:i,...o}=r;return $(t)?i?.length&&t.sign(i):(t=await this.prepareTransaction(t,e,o),i?.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||e.commitment,await n.signAndSendTransaction(t,o)}catch(a){if(a instanceof N)throw a;throw new K(a?.message,a)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{let e=this._wallet;if(!e)throw new q;try{return await e.signTransaction(t)||t}catch(r){throw new H(r?.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(t){try{let e=this._wallet;if(!e)throw new q;try{return await e.signAllTransactions(t)||t}catch(r){throw new H(r?.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(t){try{let e=this._wallet;if(!e)throw new q;try{return await e.signMessage(t,"utf8")}catch(r){throw new F(r?.message,r)}}catch(n){throw this.emit("error",n),n}}}(o=E||(E={})).Mainnet="mainnet-beta",o.Testnet="testnet",o.Devnet="devnet";let t0={setVisible(t){console.error(t1("call","setVisible"))},visible:!1};function t1(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}Object.defineProperty(t0,"visible",{get:()=>(console.error(t1("read","visible")),!1)});let t2=(0,O.createContext)(t0);var t6=r(3935);let t8=({id:t,children:e,expanded:r=!1})=>{let n=(0,O.useRef)(null),i=(0,O.useRef)(!0),o=()=>{let t=n.current;t&&requestAnimationFrame(()=>{t.style.height=t.scrollHeight+"px"})},a=()=>{let t=n.current;t&&requestAnimationFrame(()=>{t.style.height=t.offsetHeight+"px",t.style.overflow="hidden",requestAnimationFrame(()=>{t.style.height="0"})})};return(0,O.useLayoutEffect)(()=>{r?o():a()},[r]),(0,O.useLayoutEffect)(()=>{let t=n.current;if(t)return i.current&&(e(),i.current=!1),t.addEventListener("transitionend",o),()=>t.removeEventListener("transitionend",o);function e(){t&&(t.style.overflow=r?"initial":"hidden",r&&(t.style.height="auto"))}function o(r){t&&r.target===t&&"height"===r.propertyName&&e()}},[r]),O.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:n,role:"region",style:{height:0,transition:i.current?void 0:"height 250ms ease-out"}},e)},t3=t=>O.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&O.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&O.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),t4=({wallet:t,...e})=>t&&O.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e}),t5=({handleClick:t,tabIndex:e,wallet:r})=>O.createElement("li",null,O.createElement(t3,{onClick:t,startIcon:O.createElement(t4,{wallet:r}),tabIndex:e},r.adapter.name,r.readyState===a.Installed&&O.createElement("span",null,"Detected"))),t7=()=>O.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),O.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),O.createElement("g",{clipPath:"url(#clip0_880_5115)"},O.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),O.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),O.createElement("defs",null,O.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},O.createElement("stop",{stopColor:"#9945FF"}),O.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),O.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),O.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),O.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),O.createElement("stop",{offset:"1",stopColor:"#00D18C"})),O.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},O.createElement("stop",{stopColor:"#9945FF"}),O.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),O.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),O.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),O.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),O.createElement("stop",{offset:"1",stopColor:"#00D18C"})),O.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},O.createElement("stop",{stopColor:"#9945FF"}),O.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),O.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),O.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),O.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),O.createElement("stop",{offset:"1",stopColor:"#00D18C"})),O.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},O.createElement("stop",{stopColor:"#9945FF"}),O.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),O.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),O.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),O.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),O.createElement("stop",{offset:"1",stopColor:"#00D18C"})),O.createElement("clipPath",{id:"clip0_880_5115"},O.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),t9=({className:t="",container:e="body"})=>{let r=(0,O.useRef)(null),{wallets:n,select:i}=(0,tY.O)(),{setVisible:o}=(0,O.useContext)(t2),[s,u]=(0,O.useState)(!1),[c,l]=(0,O.useState)(!1),[h,f]=(0,O.useState)(null),[d,p]=(0,O.useMemo)(()=>{let t=[],e=[],r=[];for(let i of n)i.readyState===a.NotDetected?r.push(i):i.readyState===a.Loadable?e.push(i):i.readyState===a.Installed&&t.push(i);let o=[],s=[];return t.length?(o=t,s=[...e,...r]):(e.length&&(o=e),s=r),[o,s]},[n]),y=(0,O.useCallback)(()=>{l(!1),setTimeout(()=>o(!1),150)},[o]),g=(0,O.useCallback)(t=>{t.preventDefault(),y()},[y]),m=(0,O.useCallback)((t,e)=>{i(e),g(t)},[i,g]),v=(0,O.useCallback)(()=>u(!s),[s]),b=(0,O.useCallback)(t=>{let e=r.current;if(!e)return;let n=e.querySelectorAll("button"),i=n[0],o=n[n.length-1];t.shiftKey?document.activeElement===i&&(o.focus(),t.preventDefault()):document.activeElement===o&&(i.focus(),t.preventDefault())},[r]);return(0,O.useLayoutEffect)(()=>{let t=t=>{"Escape"===t.key?y():"Tab"===t.key&&b(t)},{overflow:e}=window.getComputedStyle(document.body);return setTimeout(()=>l(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",t,!1),()=>{document.body.style.overflow=e,window.removeEventListener("keydown",t,!1)}},[y,b]),(0,O.useLayoutEffect)(()=>f(document.querySelector(e)),[e]),h&&(0,t6.createPortal)(O.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${c&&"wallet-adapter-modal-fade-in"} ${t}`,ref:r,role:"dialog"},O.createElement("div",{className:"wallet-adapter-modal-container"},O.createElement("div",{className:"wallet-adapter-modal-wrapper"},O.createElement("button",{onClick:g,className:"wallet-adapter-modal-button-close"},O.createElement("svg",{width:"14",height:"14"},O.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),d.length?O.createElement(O.Fragment,null,O.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),O.createElement("ul",{className:"wallet-adapter-modal-list"},d.map(t=>O.createElement(t5,{key:t.adapter.name,handleClick:e=>m(e,t.adapter.name),wallet:t})),p.length?O.createElement(t8,{expanded:s,id:"wallet-adapter-modal-collapse"},p.map(t=>O.createElement(t5,{key:t.adapter.name,handleClick:e=>m(e,t.adapter.name),tabIndex:s?0:-1,wallet:t}))):null),p.length?O.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:v,tabIndex:0},O.createElement("span",null,s?"Less ":"More ","options"),O.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},O.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):O.createElement(O.Fragment,null,O.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),O.createElement("div",{className:"wallet-adapter-modal-middle"},O.createElement(t7,null)),p.length?O.createElement(O.Fragment,null,O.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:v,tabIndex:0},O.createElement("span",null,s?"Hide ":"Already have a wallet? View ","options"),O.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},O.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),O.createElement(t8,{expanded:s,id:"wallet-adapter-modal-collapse"},O.createElement("ul",{className:"wallet-adapter-modal-list"},p.map(t=>O.createElement(t5,{key:t.adapter.name,handleClick:e=>m(e,t.adapter.name),tabIndex:s?0:-1,wallet:t}))))):null))),O.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:g})),h)},et=({children:t,...e})=>{let[r,n]=(0,O.useState)(!1);return O.createElement(t2.Provider,{value:{visible:r,setVisible:n}},t,r&&O.createElement(t9,{...e}))};var ee=function(t){var e=t.Component,r=t.pageProps,n=E.Devnet,i=(0,O.useMemo)(function(){return(0,M.Wf)(n)},[n]),o=(0,O.useMemo)(function(){return[new tQ,new tX({network:n})]},[n]);return(0,A.jsx)(I.SessionProvider,{session:r.session,children:(0,A.jsx)(B,{endpoint:i,children:(0,A.jsx)(tJ,{wallets:o,autoConnect:!0,children:(0,A.jsx)(et,{children:(0,A.jsx)(e,(0,_.Z)({},r))})})})})}},906:function(){},4155:function(t){var e,r,n,i=t.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(n){r=a}}();var u=[],c=!1,l=-1;function h(){c&&n&&(c=!1,n.length?u=n.concat(u):l=-1,u.length&&f())}function f(){if(!c){var t=s(h);c=!0;for(var e=u.length;e;){for(n=u,u=[];++l<e;)n&&n[l].run();l=-1,e=u.length}n=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}i.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new d(t,e)),1!==u.length||c||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(t){return[]},i.binding=function(t){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},6855:function(t,e,r){"use strict";var n=r(8764).Buffer,i=r(4836);e.Z=void 0;var o=i(r(4687)),a=i(r(7156)),s=i(r(8698)),u=i(r(6690)),c=i(r(9728)),l=i(r(1655)),h=i(r(4993)),f=i(r(3808)),d=r(6729),p=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&0>e.indexOf(n)&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)0>e.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},y=function(t){(0,l.default)(v,t);var e,r,i,d,y,g,m=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=(0,f.default)(v);if(r){var n=(0,f.default)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,h.default)(this,t)});function v(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;(0,u.default)(this,v);var o=n.autoconnect,a=n.reconnect,s=n.reconnect_interval,c=n.max_reconnects,l=p(n,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(e=m.call(this)).webSocketFactory=t,e.queue={},e.rpc_id=0,e.address=r,e.autoconnect=void 0===o||o,e.ready=!1,e.reconnect=void 0===a||a,e.reconnect_timer_id=void 0,e.reconnect_interval=void 0===s?1e3:s,e.max_reconnects=void 0===c?5:c,e.rest_options=l,e.current_reconnects=0,e.generate_request_id=i||function(){return++e.rpc_id},e.autoconnect&&e._connect(e.address,Object.assign({autoconnect:e.autoconnect,reconnect:e.reconnect,reconnect_interval:e.reconnect_interval,max_reconnects:e.max_reconnects},e.rest_options)),e}return(0,c.default)(v,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(t,e,r,n){var i=this;return n||"object"!==(0,s.default)(r)||(n=r,r=null),new Promise(function(o,a){if(!i.ready)return a(Error("socket not ready"));var s=i.generate_request_id(t,e);i.socket.send(JSON.stringify({jsonrpc:"2.0",method:t,params:e||null,id:s}),n,function(t){if(t)return a(t);i.queue[s]={promise:[o,a]},r&&(i.queue[s].timeout=setTimeout(function(){delete i.queue[s],a(Error("reply timeout"))},r))})})}},{key:"login",value:(i=(0,a.default)(o.default.mark(function t(e){var r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("rpc.login",e);case 2:if(r=t.sent){t.next=5;break}throw Error("authentication failed");case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"listMethods",value:(d=(0,a.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("__listMethods");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(){return d.apply(this,arguments)})},{key:"notify",value:function(t,e){var r=this;return new Promise(function(n,i){if(!r.ready)return i(Error("socket not ready"));r.socket.send(JSON.stringify({jsonrpc:"2.0",method:t,params:e||null}),function(t){if(t)return i(t);n()})})}},{key:"subscribe",value:(y=(0,a.default)(o.default.mark(function t(e){var r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.on",e);case 3:if(r=t.sent,!("string"==typeof e&&"ok"!==r[e])){t.next=6;break}throw Error("Failed subscribing to an event '"+e+"' with: "+r[e]);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}},t,this)})),function(t){return y.apply(this,arguments)})},{key:"unsubscribe",value:(g=(0,a.default)(o.default.mark(function t(e){var r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.off",e);case 3:if(r=t.sent,!("string"==typeof e&&"ok"!==r[e])){t.next=6;break}throw Error("Failed unsubscribing from an event with: "+r);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}},t,this)})),function(t){return g.apply(this,arguments)})},{key:"close",value:function(t,e){this.socket.close(t||1e3,e)}},{key:"_connect",value:function(t,e){var r=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",function(){r.ready=!0,r.emit("open"),r.current_reconnects=0}),this.socket.addEventListener("message",function(t){var e=t.data;e instanceof ArrayBuffer&&(e=n.from(e).toString());try{e=JSON.parse(e)}catch(i){return}if(e.notification&&r.listeners(e.notification).length){if(!Object.keys(e.params).length)return r.emit(e.notification);var o=[e.notification];if(e.params.constructor===Object)o.push(e.params);else for(var a=0;a<e.params.length;a++)o.push(e.params[a]);return Promise.resolve().then(function(){r.emit.apply(r,o)})}if(!r.queue[e.id])return e.method&&e.params?Promise.resolve().then(function(){r.emit(e.method,e.params)}):void 0;"error"in e=="result"in e&&r.queue[e.id].promise[1](Error('Server response malformed. Response must include either "result" or "error", but not both.')),r.queue[e.id].timeout&&clearTimeout(r.queue[e.id].timeout),e.error?r.queue[e.id].promise[1](e.error):r.queue[e.id].promise[0](e.result),delete r.queue[e.id]}),this.socket.addEventListener("error",function(t){return r.emit("error",t)}),this.socket.addEventListener("close",function(n){var i=n.code,o=n.reason;r.ready&&setTimeout(function(){return r.emit("close",i,o)},0),r.ready=!1,r.socket=void 0,1e3!==i&&(r.current_reconnects++,r.reconnect&&(r.max_reconnects>r.current_reconnects||0===r.max_reconnects)&&(r.reconnect_timer_id=setTimeout(function(){return r._connect(t,e)},r.reconnect_interval)))})}}]),v}(d.EventEmitter);e.Z=y},9062:function(t,e,r){"use strict";var n=r(4836);e.Z=function(t,e){return new l(t,e)};var i,o=n(r(6690)),a=n(r(9728)),s=n(r(1655)),u=n(r(4993)),c=n(r(3808)),l=function(t){(0,s.default)(i,t);var e,r,n=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=(0,c.default)(i);if(r){var n=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,u.default)(this,t)});function i(t,e,r){var a;return(0,o.default)(this,i),(a=n.call(this)).socket=new window.WebSocket(t,r),a.socket.onopen=function(){return a.emit("open")},a.socket.onmessage=function(t){return a.emit("message",t.data)},a.socket.onerror=function(t){return a.emit("error",t)},a.socket.onclose=function(t){a.emit("close",t.code,t.reason)},a}return(0,a.default)(i,[{key:"send",value:function(t,e,r){var n=r||e;try{this.socket.send(t),n()}catch(i){n(i)}}},{key:"close",value:function(t,e){this.socket.close(t,e)}},{key:"addEventListener",value:function(t,e,r){this.socket.addEventListener(t,e,r)}}]),i}(r(6729).EventEmitter)},9509:function(t,e,r){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */ var n=r(8764),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(t,e,r){if("number"==typeof t)throw TypeError("Argument must not be a number");return i(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw TypeError("Argument must be a number");return n.SlowBuffer(t)}},4880:function(t,e,r){"use strict";r.d(e,{v4:function(){return l}});var n,i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}for(var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=[],u=0;u<256;++u)s.push((u+256).toString(16).substr(1));var c=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[t[r+0]]+s[t[r+1]]+s[t[r+2]]+s[t[r+3]]+"-"+s[t[r+4]]+s[t[r+5]]+"-"+s[t[r+6]]+s[t[r+7]]+"-"+s[t[r+8]]+s[t[r+9]]+"-"+s[t[r+10]]+s[t[r+11]]+s[t[r+12]]+s[t[r+13]]+s[t[r+14]]+s[t[r+15]]).toLowerCase();if(!("string"==typeof n&&a.test(n)))throw TypeError("Stringified UUID is invalid");return n},l=function(t,e,r){var n=(t=t||{}).random||(t.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return c(n)}},6601:function(){},3897:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports},5372:function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},6115:function(t){t.exports=function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},7156:function(t){function e(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){r(c);return}s.done?e(u):Promise.resolve(u).then(n,i)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise(function(i,o){var a=t.apply(r,n);function s(t){e(a,i,o,s,u,"next",t)}function u(t){e(a,i,o,s,u,"throw",t)}s(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},6690:function(t){t.exports=function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},3515:function(t,e,r){var n=r(6015),i=r(9617);function o(e,r,a){return i()?(t.exports=o=Reflect.construct.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=o=function(t,e,r){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return r&&n(o,r.prototype),o},t.exports.__esModule=!0,t.exports.default=t.exports),o.apply(null,arguments)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},9728:function(t,e,r){var n=r(4062);function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,n(i.key),i)}}t.exports=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},8416:function(t,e,r){var n=r(4062);t.exports=function(t,e,r){return(e=n(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports},3808:function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},1655:function(t,e,r){var n=r(6015);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},4836:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},6035:function(t){t.exports=function(t){return -1!==Function.toString.call(t).indexOf("[native code]")},t.exports.__esModule=!0,t.exports.default=t.exports},9617:function(t){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},8872:function(t){t.exports=function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},2218:function(t){t.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},4993:function(t,e,r){var n=r(8698).default,i=r(6115);t.exports=function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},7061:function(t,e,r){var n=r(8698).default;function i(){"use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(f){h=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var i,o,s,u,c=Object.create((e&&e.prototype instanceof g?e:g).prototype);return a(c,"_invoke",{value:(i=t,o=r,s=new M(n||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return L()}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r){var n=_(r,s);if(n){if(n===y)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u="executing";var a=p(i,o,s);if("normal"===a.type){if(u=s.done?"completed":"suspendedYield",a.arg===y)continue;return{value:a.arg,done:s.done}}"throw"===a.type&&(u="completed",s.method="throw",s.arg=a.arg)}})}),c}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(n){return{type:"throw",arg:n}}}e.wrap=d;var y={};function g(){}function m(){}function v(){}var b={};h(b,u,function(){return this});var w=Object.getPrototypeOf,k=w&&w(w(O([])));k&&k!==r&&o.call(k,u)&&(b=k);var x=v.prototype=g.prototype=Object.create(b);function S(t){["next","throw","return"].forEach(function(e){h(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var r;a(this,"_invoke",{value:function(i,a){function s(){return new e(function(r,s){!function r(i,a,s,u){var c=p(t[i],t,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==n(h)&&o.call(h,"__await")?e.resolve(h.__await).then(function(t){r("next",t,s,u)},function(t){r("throw",t,s,u)}):e.resolve(h).then(function(t){l.value=t,s(l)},function(t){return r("throw",t,s,u)})}u(c.arg)}(i,a,r,s)})}return r=r?r.then(s,s):s()}})}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+r+"' method")),y;var i=p(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,y;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,y):o:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,y)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function O(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return m.prototype=v,a(x,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:m,configurable:!0}),m.displayName=h(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,h(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(E.prototype),h(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new E(d(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},S(x),h(x,l,"Generator"),h(x,u,function(){return this}),h(x,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=O,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;I(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),y}},e}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},6015:function(t){function e(r,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},7424:function(t,e,r){var n=r(5372),i=r(8872),o=r(6116),a=r(2218);t.exports=function(t,e){return n(t)||i(t,e)||o(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},5036:function(t,e,r){var n=r(8698).default;t.exports=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},4062:function(t,e,r){var n=r(8698).default,i=r(5036);t.exports=function(t){var e=i(t,"string");return"symbol"===n(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},8698:function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},6116:function(t,e,r){var n=r(3897);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}},t.exports.__esModule=!0,t.exports.default=t.exports},3496:function(t,e,r){var n=r(3808),i=r(6015),o=r(6035),a=r(3515);function s(e){var r="function"==typeof Map?new Map:void 0;return t.exports=s=function(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return a(t,arguments,n(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports,s(e)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},4687:function(t,e,r){var n=r(7061)();t.exports=n;try{regeneratorRuntime=n}catch(i){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},4306:function(t,e,r){"use strict";r.d(e,{O:function(){return u},z:function(){return s}});var n=r(7294);let i=[],o={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){a("call","select")},connect:()=>Promise.reject(a("call","connect")),disconnect:()=>Promise.reject(a("call","disconnect")),sendTransaction:()=>Promise.reject(a("call","sendTransaction")),signTransaction:()=>Promise.reject(a("call","signTransaction")),signAllTransactions:()=>Promise.reject(a("call","signAllTransactions")),signMessage:()=>Promise.reject(a("call","signMessage"))};function a(t,e){let r=Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(r),r}Object.defineProperty(o,"wallets",{get:()=>(a("read","wallets"),i)}),Object.defineProperty(o,"wallet",{get:()=>(a("read","wallet"),null)}),Object.defineProperty(o,"publicKey",{get:()=>(a("read","publicKey"),null)});let s=(0,n.createContext)(o);function u(){return(0,n.useContext)(s)}},4924:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,{Z:function(){return n}})},6042:function(t,e,r){"use strict";r.d(e,{Z:function(){return i}});var n=r(4924);function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),i.forEach(function(e){(0,n.Z)(t,e,r[e])})}return t}},1127:function(t,e,r){"use strict";function n(t,e,r){return e<=t&&t<=r}function i(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function o(t){this.tokens=[].slice.call(t)}function a(t,e){if(t)throw TypeError("Decoder error");return e||65533}r.r(e),r.d(e,{TextDecoder:function(){return u},TextEncoder:function(){return c}}),o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(;t.length;)this.tokens.push(t.shift());else this.tokens.push(t)}};var s="utf-8";function u(t,e){if(!(this instanceof u))return new u(t,e);if((t=void 0!==t?String(t).toLowerCase():s)!==s)throw Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function c(t,e){if(!(this instanceof c))return new c(t,e);if((t=void 0!==t?String(t).toLowerCase():s)!==s)throw Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function l(t){var e=t.fatal,r=0,i=0,o=0,s=128,u=191;this.handler=function(t,c){if(-1===c&&0!==o)return o=0,a(e);if(-1===c)return -1;if(0===o){if(n(c,0,127))return c;if(n(c,194,223))o=1,r=c-192;else if(n(c,224,239))224===c&&(s=160),237===c&&(u=159),o=2,r=c-224;else{if(!n(c,240,244))return a(e);240===c&&(s=144),244===c&&(u=143),o=3,r=c-240}return r<<=6*o,null}if(!n(c,s,u))return r=o=i=0,s=128,u=191,t.prepend(c),a(e);if(s=128,u=191,i+=1,r+=c-128<<6*(o-i),i!==o)return null;var l=r;return r=o=i=0,l}}function h(t){t.fatal,this.handler=function(t,e){if(-1===e)return -1;if(n(e,0,127))return e;n(e,128,2047)?(r=1,i=192):n(e,2048,65535)?(r=2,i=224):n(e,65536,1114111)&&(r=3,i=240);for(var r,i,o=[(e>>6*r)+i];r>0;){var a=e>>6*(r-1);o.push(128|63&a),r-=1}return o}}u.prototype={decode:function(t,e){r="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=i(e),this._streaming||(this._decoder=new l({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var r,n,a=new o(r),s=[];!a.endOfStream()&&-1!==(n=this._decoder.handler(a,a.read()));)null!==n&&(Array.isArray(n)?s.push.apply(s,n):s.push(n));if(!this._streaming){do{if(-1===(n=this._decoder.handler(a,a.read())))break;if(null===n)continue;Array.isArray(n)?s.push.apply(s,n):s.push(n)}while(!a.endOfStream());this._decoder=null}return!s.length||-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===s[0]?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),function(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(1023&n)+56320))}return e}(s)}},c.prototype={encode:function(t,e){t=t?String(t):"",e=i(e),this._streaming||(this._encoder=new h(this._options)),this._streaming=Boolean(e.stream);for(var r,n=[],a=new o(function(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319){if(n===r-1)i.push(65533);else{var a=t.charCodeAt(n+1);if(56320<=a&&a<=57343){var s=1023&o,u=1023&a;i.push(65536+(s<<10)+u),n+=1}else i.push(65533)}}n+=1}return i}(t));!a.endOfStream()&&-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}}}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,179],function(){return e(1118),e(387)}),_N_E=t.O()}]);